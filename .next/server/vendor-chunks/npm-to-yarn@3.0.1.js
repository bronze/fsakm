"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/npm-to-yarn@3.0.1";
exports.ids = ["vendor-chunks/npm-to-yarn@3.0.1"];
exports.modules = {

/***/ "(rsc)/./node_modules/.pnpm/npm-to-yarn@3.0.1/node_modules/npm-to-yarn/dist/npm-to-yarn.mjs":
/*!********************************************************************************************!*\
  !*** ./node_modules/.pnpm/npm-to-yarn@3.0.1/node_modules/npm-to-yarn/dist/npm-to-yarn.mjs ***!
  \********************************************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ convert)\n/* harmony export */ });\nvar unchangedCLICommands = [\n    'test',\n    'login',\n    'logout',\n    'link',\n    'unlink',\n    'publish',\n    'cache',\n    'start',\n    'stop',\n    'test'\n];\nvar yarnCLICommands = [\n    'init',\n    'run',\n    'add',\n    'audit',\n    'autoclean',\n    'bin',\n    'check',\n    'config',\n    'create',\n    'dedupe',\n    'generate-lock-entry',\n    'global',\n    'help',\n    'import',\n    'info',\n    'install',\n    'licenses',\n    'list',\n    'lockfile',\n    'outdated',\n    'owner',\n    'pack',\n    'policies',\n    'prune',\n    'remove',\n    'self-update',\n    'tag',\n    'team',\n    'upgrade',\n    'upgrade-interactive',\n    'version',\n    'versions',\n    'why',\n    'workspace',\n    'workspaces'\n];\nvar executorCommands = {\n    npm: 'npx',\n    yarn: 'yarn dlx',\n    pnpm: 'pnpm dlx',\n    bun: 'bun x'\n};\n\nfunction parse(command) {\n    var args = [];\n    var lastQuote = false;\n    var escaped = false;\n    var part = '';\n    for (var i = 0; i < command.length; ++i) {\n        var char = command.charAt(i);\n        if (char === '\\\\') {\n            part += char;\n            escaped = true;\n        }\n        else {\n            if (char === ' ' && !lastQuote) {\n                args.push(part);\n                part = '';\n            }\n            else if (!escaped && (char === '\"' || char === \"'\")) {\n                part += char;\n                if (char === lastQuote) {\n                    lastQuote = false;\n                }\n                else if (!lastQuote) {\n                    lastQuote = char;\n                }\n            }\n            else {\n                part += char;\n            }\n            escaped = false;\n        }\n    }\n    args.push(part);\n    return args;\n}\n\nfunction convertAddRemoveArgs(args) {\n    return args.map(function (item) {\n        switch (item) {\n            case '--no-lockfile':\n                return '--no-package-lock';\n            case '--production':\n                return '--save-prod';\n            case '--dev':\n                return '--save-dev';\n            case '--optional':\n                return '--save-optional';\n            case '--exact':\n                return '--save-exact';\n            default:\n                return item;\n        }\n    });\n}\nvar yarnToNpmTable = {\n    add: function (args) {\n        if (args.length === 2 && args[1] === '--force') {\n            return ['rebuild'];\n        }\n        args[0] = 'install';\n        return convertAddRemoveArgs(args);\n    },\n    remove: function (args) {\n        args[0] = 'uninstall';\n        return convertAddRemoveArgs(args);\n    },\n    version: function (args) {\n        return args.map(function (item) {\n            switch (item) {\n                case '--major':\n                    return 'major';\n                case '--minor':\n                    return 'minor';\n                case '--patch':\n                    return 'patch';\n                default:\n                    return item;\n            }\n        });\n    },\n    install: 'install',\n    list: function (args) {\n        args[0] = 'ls';\n        var patternIndex = args.findIndex(function (item) { return item === '--pattern'; });\n        if (patternIndex >= 0 && args[patternIndex + 1]) {\n            var packages = args[patternIndex + 1].replace(/[\"']([^\"']+)[\"']/, '$1').split('|');\n            args.splice(patternIndex, 2, packages.join(' '));\n        }\n        return args;\n    },\n    init: 'init',\n    create: 'init',\n    outdated: 'outdated',\n    run: 'run',\n    global: function (args) {\n        switch (args[1]) {\n            case 'add':\n                args.shift();\n                args = yarnToNpmTable.add(args);\n                args.push('--global');\n                return args;\n            case 'remove':\n                args.shift();\n                args = yarnToNpmTable.remove(args);\n                args.push('--global');\n                return args;\n            case 'list':\n                args.shift();\n                args = yarnToNpmTable.list(args);\n                args.push('--global');\n                return args;\n            // case 'bin':\n            // case 'upgrade':\n            default:\n                args.push(\"\\n# couldn't auto-convert command\");\n                return args;\n        }\n    },\n    pack: function (args) {\n        return args.map(function (item) {\n            if (item === '--filename') {\n                return '--pack-destination';\n            }\n            return item;\n        });\n    }\n};\nfunction yarnToNPM(_m, command) {\n    command = (command || '').trim();\n    if (command === '') {\n        return 'npm install';\n    }\n    var args = parse(command);\n    var firstCommand = (/\\w+/.exec(command) || [''])[0];\n    if (unchangedCLICommands.includes(args[0])) {\n        return 'npm ' + command;\n    }\n    else if (args[0] in yarnToNpmTable) {\n        var converter = yarnToNpmTable[args[0]];\n        if (typeof converter === 'function') {\n            args = converter(args);\n        }\n        else {\n            args[0] = converter;\n        }\n        return 'npm ' + args.filter(Boolean).join(' ');\n    }\n    else if (!yarnCLICommands.includes(firstCommand)) {\n        // i.e., yarn grunt -> npm run grunt\n        return 'npm run ' + command;\n    }\n    else {\n        return 'npm ' + command + \"\\n# couldn't auto-convert command\";\n    }\n}\n\nfunction convertInstallArgs$1(args) {\n    if (args.includes('--global') || args.includes('-g')) {\n        args.unshift('global');\n    }\n    return args.map(function (item) {\n        switch (item) {\n            case '--save-dev':\n            case '-D':\n                return '--dev';\n            case '--save-prod':\n            case '-P':\n                return '--production';\n            case '--no-package-lock':\n                return '--no-lockfile';\n            case '--save-optional':\n            case '-O':\n                return '--optional';\n            case '--save-exact':\n            case '-E':\n                return '--exact';\n            case '--save':\n            case '-S':\n            case '--global':\n            case '-g':\n                return '';\n            default:\n                return item;\n        }\n    });\n}\nvar npmToYarnTable = {\n    install: function (args) {\n        if (args.length === 1) {\n            return ['install'];\n        }\n        args[0] = 'add';\n        return convertInstallArgs$1(args);\n    },\n    i: function (args) {\n        return npmToYarnTable.install(args);\n    },\n    uninstall: function (args) {\n        args[0] = 'remove';\n        return convertInstallArgs$1(args);\n    },\n    un: function (args) {\n        return npmToYarnTable.uninstall(args);\n    },\n    remove: function (args) {\n        return npmToYarnTable.uninstall(args);\n    },\n    r: function (args) {\n        return npmToYarnTable.uninstall(args);\n    },\n    rm: function (args) {\n        return npmToYarnTable.uninstall(args);\n    },\n    version: function (args) {\n        return args.map(function (item) {\n            switch (item) {\n                case 'major':\n                    return '--major';\n                case 'minor':\n                    return '--minor';\n                case 'patch':\n                    return '--patch';\n                default:\n                    return item;\n            }\n        });\n    },\n    rb: function (args) {\n        return npmToYarnTable.rebuild(args);\n    },\n    rebuild: function (args) {\n        args[0] = 'add';\n        args.push('--force');\n        return args;\n    },\n    run: function (args) {\n        if (args[1] && !unchangedCLICommands.includes(args[1]) && !yarnCLICommands.includes(args[1])) {\n            args.splice(0, 1);\n        }\n        return args;\n    },\n    exec: function (args) {\n        args[0] = 'run';\n        return npmToYarnTable.run(args);\n    },\n    ls: function (args) {\n        args[0] = 'list';\n        var ended = false;\n        var packages = args.filter(function (item, id) {\n            if (id > 0 && !ended) {\n                ended = item.startsWith('-');\n                return !ended;\n            }\n            return false;\n        });\n        if (packages.length > 0) {\n            args.splice(1, packages.length, '--pattern', '\"' + packages.join('|') + '\"');\n        }\n        return args;\n    },\n    list: function (args) {\n        return npmToYarnTable.ls(args);\n    },\n    init: function (args) {\n        if (args[1] && !args[1].startsWith('-')) {\n            args[0] = 'create';\n            var m = args[1].match(/(.+)@latest/);\n            if (m) {\n                args[1] = m[1];\n            }\n        }\n        return args.filter(function (item) { return item !== '--scope'; });\n    },\n    create: function (args) {\n        return npmToYarnTable.init(args);\n    },\n    ln: 'link',\n    t: 'test',\n    tst: 'test',\n    outdated: 'outdated',\n    pack: function (args) {\n        return args.map(function (item) {\n            if (item.startsWith('--pack-destination')) {\n                return item.replace(/^--pack-destination[\\s=]/, '--filename ');\n            }\n            return item;\n        });\n    }\n};\nfunction npmToYarn(_m, command) {\n    var args = parse((command || '').trim());\n    var index = args.findIndex(function (a) { return a === '--'; });\n    if (index >= 0) {\n        args.splice(index, 1);\n    }\n    if (unchangedCLICommands.includes(args[0])) {\n        return 'yarn ' + args.filter(Boolean).join(' ');\n    }\n    else if (args[0] in npmToYarnTable) {\n        var converter = npmToYarnTable[args[0]];\n        if (typeof converter === 'function') {\n            args = converter(args);\n        }\n        else {\n            args[0] = converter;\n        }\n        return 'yarn ' + args.filter(Boolean).join(' ');\n    }\n    else {\n        return 'npm ' + command + \"\\n# couldn't auto-convert command\";\n    }\n}\n\nfunction convertPnpmInstallArgs(args) {\n    return args.map(function (item) {\n        switch (item) {\n            case '--save':\n            case '-S':\n                return '';\n            case '--no-package-lock':\n                return '--frozen-lockfile';\n            // case '--save-dev':\n            // case '-D':\n            // case '--save-prod':\n            // case '-P':\n            // case '--save-optional':\n            // case '-O':\n            // case '--save-exact':\n            // case '-E':\n            // case '--global':\n            // case '-g':\n            default:\n                return item;\n        }\n    });\n}\nfunction convertFilterArg(args) {\n    if (args.length > 1) {\n        var filter = args.filter(function (item, index) { return index !== 0 && !item.startsWith('-'); });\n        if (filter.length > 0) {\n            args = args.filter(function (item, index) { return index === 0 || item.startsWith('-'); });\n            args.push('--filter');\n            args.push(filter.join(' '));\n        }\n    }\n    return args;\n}\nvar npmToPnpmTable = {\n    // ------------------------------\n    install: function (args) {\n        if (args.length > 1 && args.filter(function (item) { return !item.startsWith('-'); }).length > 1) {\n            args[0] = 'add';\n        }\n        return convertPnpmInstallArgs(args);\n    },\n    i: function (args) {\n        return npmToPnpmTable.install(args);\n    },\n    // ------------------------------\n    uninstall: function (args) {\n        args[0] = 'remove';\n        return convertPnpmInstallArgs(args);\n    },\n    un: function (args) {\n        return npmToPnpmTable.uninstall(args);\n    },\n    remove: function (args) {\n        return npmToPnpmTable.uninstall(args);\n    },\n    r: function (args) {\n        return npmToPnpmTable.uninstall(args);\n    },\n    rm: function (args) {\n        return npmToPnpmTable.uninstall(args);\n    },\n    // ------------------------------\n    rb: function (args) {\n        return npmToPnpmTable.rebuild(args);\n    },\n    rebuild: function (args) {\n        args[0] = 'rebuild';\n        return convertFilterArg(args);\n    },\n    run: 'run',\n    exec: 'exec',\n    ls: function (args) {\n        return npmToPnpmTable.list(args);\n    },\n    list: function (args) {\n        return args.map(function (item) {\n            if (item.startsWith('--depth=')) {\n                return \"--depth \".concat(item.split('=')[1]);\n            }\n            switch (item) {\n                case '--production':\n                    return '--prod';\n                case '--development':\n                    return '--dev';\n                default:\n                    return item;\n            }\n        });\n    },\n    init: function (args) {\n        if (args[1] && !args[1].startsWith('-')) {\n            args[0] = 'create';\n            var m = args[1].match(/(.+)@latest/);\n            if (m) {\n                args[1] = m[1];\n            }\n        }\n        return args.filter(function (item) { return item !== '--scope'; });\n    },\n    create: function (args) {\n        return npmToPnpmTable.init(args);\n    },\n    ln: 'link',\n    t: 'test',\n    test: 'test',\n    tst: 'test',\n    start: 'start',\n    link: 'link',\n    unlink: function (args) {\n        return convertFilterArg(args);\n    },\n    outdated: 'outdated',\n    pack: function (args) {\n        return args.map(function (item) {\n            if (item.startsWith('--pack-destination')) {\n                return item.replace(/^--pack-destination[\\s=]/, '--pack-destination ');\n            }\n            return item;\n        });\n    }\n};\nfunction npmToPnpm(_m, command) {\n    var args = parse((command || '').trim());\n    var index = args.findIndex(function (a) { return a === '--'; });\n    if (index >= 0) {\n        args.splice(index, 1);\n    }\n    if (args[0] in npmToPnpmTable) {\n        var converter = npmToPnpmTable[args[0]];\n        if (typeof converter === 'function') {\n            args = converter(args);\n        }\n        else {\n            args[0] = converter;\n        }\n        return 'pnpm ' + args.filter(Boolean).join(' ');\n    }\n    else {\n        return 'npm ' + command + \"\\n# couldn't auto-convert command\";\n    }\n}\n\nfunction convertInstallArgs(args) {\n    // bun uses -g and --global flags\n    // bun mostly conforms to Yarn's CLI\n    return args.map(function (item) {\n        switch (item) {\n            case '--save-dev':\n            case '--development':\n            case '-D':\n                return '--dev';\n            case '--save-prod':\n            case '-P':\n                return '--production';\n            case '--no-package-lock':\n                return '--no-save';\n            case '--save-optional':\n            case '-O':\n                return '--optional';\n            case '--save-exact':\n            case '-E':\n                return '--exact';\n            case '--save':\n            case '-S':\n                // this is default in bun\n                return '';\n            case '--global':\n            case '-g':\n                return '--global';\n            default:\n                return item;\n        }\n    });\n}\nfunction npmToBun(_m, command) {\n    var args = parse((command || '').trim());\n    var index = args.findIndex(function (a) { return a === '--'; });\n    if (index >= 0) {\n        args.splice(index, 1);\n    }\n    var cmd = 'bun';\n    switch (args[0]) {\n        case 'install':\n        case 'i':\n            if (args.length === 1) {\n                args = ['install'];\n            }\n            else {\n                args[0] = 'add';\n            }\n            args = convertInstallArgs(args);\n            break;\n        case 'uninstall':\n        case 'un':\n        case 'remove':\n        case 'r':\n        case 'rm':\n            args[0] = 'remove';\n            args = convertInstallArgs(args);\n            break;\n        case 'cache':\n            if (args[1] === 'clean') {\n                args = ['pm', 'cache', 'rm'].concat(args.slice(2));\n            }\n            else {\n                cmd = 'npm';\n            }\n            break;\n        case 'rebuild':\n        case 'rb':\n            args[0] = 'add';\n            args.push('--force');\n            break;\n        case 'run':\n            break;\n        case 'list':\n        case 'ls':\n            // 'npm ls' => 'bun pm ls'\n            args = convertInstallArgs(args);\n            args[0] = 'ls';\n            args.unshift('pm');\n            break;\n        case 'init':\n        case 'create':\n            if (args[1]) {\n                if (args[1].startsWith('@')) {\n                    cmd = 'bunx';\n                    args[1] = args[1].replace('/', '/create-');\n                    args = args.slice(1);\n                }\n                else if (!args[1].startsWith('-')) {\n                    cmd = 'bunx';\n                    args[1] = \"create-\".concat(args[1].replace('@latest', ''));\n                    args = args.slice(1);\n                }\n                else {\n                    args[0] = 'init';\n                }\n            }\n            break;\n        case 'link':\n        case 'ln':\n            args = convertInstallArgs(args);\n            args[0] = 'link';\n            break;\n        case 'stop':\n        case 'start':\n        case 'unlink':\n            break;\n        case 'test':\n        case 't':\n        case 'tst':\n            args[0] = 'test';\n            args.unshift('run');\n            break;\n        case 'exec':\n            cmd = 'bunx';\n            args.splice(0, 1);\n            break;\n        default:\n            // null == keep `npm` command\n            cmd = 'npm';\n            break;\n    }\n    var filtered = args.filter(Boolean).filter(function (arg) { return arg !== '--'; });\n    return \"\".concat(cmd, \" \").concat(filtered.join(' ')).concat(cmd === 'npm' ? \"\\n# couldn't auto-convert command\" : '').replace('=', ' ');\n}\n\n/**\n * Converts between npm and yarn command\n */\nfunction convert(str, to) {\n    if (str.includes('npx') ||\n        str.includes('yarn dlx') ||\n        str.includes('pnpm dlx') ||\n        str.includes('bun x')) {\n        var executor = str.includes('npx')\n            ? 'npx'\n            : str.includes('yarn dlx')\n                ? 'yarn dlx'\n                : str.includes('pnpm dlx')\n                    ? 'pnpm dlx'\n                    : 'bun x';\n        return str.replace(executor, executorCommands[to]);\n    }\n    else if (to === 'npm') {\n        return str.replace(/yarn(?: +([^&\\n\\r]*))?/gm, yarnToNPM);\n    }\n    else if (to === 'pnpm') {\n        return str.replace(/npm(?: +([^&\\n\\r]*))?/gm, npmToPnpm);\n    }\n    else if (to === 'bun') {\n        return str.replace(/npm(?: +([^&\\n\\r]*))?/gm, npmToBun);\n    }\n    else {\n        return str.replace(/npm(?: +([^&\\n\\r]*))?/gm, npmToYarn);\n    }\n}\n\n\n//# sourceMappingURL=npm-to-yarn.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvLnBucG0vbnBtLXRvLXlhcm5AMy4wLjEvbm9kZV9tb2R1bGVzL25wbS10by15YXJuL2Rpc3QvbnBtLXRvLXlhcm4ubWpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLG9CQUFvQjtBQUN4QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLDREQUE0RCw4QkFBOEI7QUFDMUY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkMsNEJBQTRCO0FBQ3pFLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLG9CQUFvQjtBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSwwREFBMEQsOENBQThDO0FBQ3hHO0FBQ0Esd0RBQXdELDZDQUE2QztBQUNyRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2REFBNkQsK0JBQStCO0FBQzVGO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVCxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2Qyw0QkFBNEI7QUFDekUsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QyxvQkFBb0I7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsOENBQThDLG9CQUFvQjtBQUNsRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnRUFBZ0Usc0JBQXNCO0FBQ3RGO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUU4QjtBQUM5QiIsInNvdXJjZXMiOlsiL2hvbWUvYnJvbnplL2NvZGluZy9mc2FrbS9ub2RlX21vZHVsZXMvLnBucG0vbnBtLXRvLXlhcm5AMy4wLjEvbm9kZV9tb2R1bGVzL25wbS10by15YXJuL2Rpc3QvbnBtLXRvLXlhcm4ubWpzIl0sInNvdXJjZXNDb250ZW50IjpbInZhciB1bmNoYW5nZWRDTElDb21tYW5kcyA9IFtcbiAgICAndGVzdCcsXG4gICAgJ2xvZ2luJyxcbiAgICAnbG9nb3V0JyxcbiAgICAnbGluaycsXG4gICAgJ3VubGluaycsXG4gICAgJ3B1Ymxpc2gnLFxuICAgICdjYWNoZScsXG4gICAgJ3N0YXJ0JyxcbiAgICAnc3RvcCcsXG4gICAgJ3Rlc3QnXG5dO1xudmFyIHlhcm5DTElDb21tYW5kcyA9IFtcbiAgICAnaW5pdCcsXG4gICAgJ3J1bicsXG4gICAgJ2FkZCcsXG4gICAgJ2F1ZGl0JyxcbiAgICAnYXV0b2NsZWFuJyxcbiAgICAnYmluJyxcbiAgICAnY2hlY2snLFxuICAgICdjb25maWcnLFxuICAgICdjcmVhdGUnLFxuICAgICdkZWR1cGUnLFxuICAgICdnZW5lcmF0ZS1sb2NrLWVudHJ5JyxcbiAgICAnZ2xvYmFsJyxcbiAgICAnaGVscCcsXG4gICAgJ2ltcG9ydCcsXG4gICAgJ2luZm8nLFxuICAgICdpbnN0YWxsJyxcbiAgICAnbGljZW5zZXMnLFxuICAgICdsaXN0JyxcbiAgICAnbG9ja2ZpbGUnLFxuICAgICdvdXRkYXRlZCcsXG4gICAgJ293bmVyJyxcbiAgICAncGFjaycsXG4gICAgJ3BvbGljaWVzJyxcbiAgICAncHJ1bmUnLFxuICAgICdyZW1vdmUnLFxuICAgICdzZWxmLXVwZGF0ZScsXG4gICAgJ3RhZycsXG4gICAgJ3RlYW0nLFxuICAgICd1cGdyYWRlJyxcbiAgICAndXBncmFkZS1pbnRlcmFjdGl2ZScsXG4gICAgJ3ZlcnNpb24nLFxuICAgICd2ZXJzaW9ucycsXG4gICAgJ3doeScsXG4gICAgJ3dvcmtzcGFjZScsXG4gICAgJ3dvcmtzcGFjZXMnXG5dO1xudmFyIGV4ZWN1dG9yQ29tbWFuZHMgPSB7XG4gICAgbnBtOiAnbnB4JyxcbiAgICB5YXJuOiAneWFybiBkbHgnLFxuICAgIHBucG06ICdwbnBtIGRseCcsXG4gICAgYnVuOiAnYnVuIHgnXG59O1xuXG5mdW5jdGlvbiBwYXJzZShjb21tYW5kKSB7XG4gICAgdmFyIGFyZ3MgPSBbXTtcbiAgICB2YXIgbGFzdFF1b3RlID0gZmFsc2U7XG4gICAgdmFyIGVzY2FwZWQgPSBmYWxzZTtcbiAgICB2YXIgcGFydCA9ICcnO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29tbWFuZC5sZW5ndGg7ICsraSkge1xuICAgICAgICB2YXIgY2hhciA9IGNvbW1hbmQuY2hhckF0KGkpO1xuICAgICAgICBpZiAoY2hhciA9PT0gJ1xcXFwnKSB7XG4gICAgICAgICAgICBwYXJ0ICs9IGNoYXI7XG4gICAgICAgICAgICBlc2NhcGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChjaGFyID09PSAnICcgJiYgIWxhc3RRdW90ZSkge1xuICAgICAgICAgICAgICAgIGFyZ3MucHVzaChwYXJ0KTtcbiAgICAgICAgICAgICAgICBwYXJ0ID0gJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICghZXNjYXBlZCAmJiAoY2hhciA9PT0gJ1wiJyB8fCBjaGFyID09PSBcIidcIikpIHtcbiAgICAgICAgICAgICAgICBwYXJ0ICs9IGNoYXI7XG4gICAgICAgICAgICAgICAgaWYgKGNoYXIgPT09IGxhc3RRdW90ZSkge1xuICAgICAgICAgICAgICAgICAgICBsYXN0UXVvdGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIWxhc3RRdW90ZSkge1xuICAgICAgICAgICAgICAgICAgICBsYXN0UXVvdGUgPSBjaGFyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHBhcnQgKz0gY2hhcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVzY2FwZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhcmdzLnB1c2gocGFydCk7XG4gICAgcmV0dXJuIGFyZ3M7XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRBZGRSZW1vdmVBcmdzKGFyZ3MpIHtcbiAgICByZXR1cm4gYXJncy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgc3dpdGNoIChpdGVtKSB7XG4gICAgICAgICAgICBjYXNlICctLW5vLWxvY2tmaWxlJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gJy0tbm8tcGFja2FnZS1sb2NrJztcbiAgICAgICAgICAgIGNhc2UgJy0tcHJvZHVjdGlvbic6XG4gICAgICAgICAgICAgICAgcmV0dXJuICctLXNhdmUtcHJvZCc7XG4gICAgICAgICAgICBjYXNlICctLWRldic6XG4gICAgICAgICAgICAgICAgcmV0dXJuICctLXNhdmUtZGV2JztcbiAgICAgICAgICAgIGNhc2UgJy0tb3B0aW9uYWwnOlxuICAgICAgICAgICAgICAgIHJldHVybiAnLS1zYXZlLW9wdGlvbmFsJztcbiAgICAgICAgICAgIGNhc2UgJy0tZXhhY3QnOlxuICAgICAgICAgICAgICAgIHJldHVybiAnLS1zYXZlLWV4YWN0JztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbnZhciB5YXJuVG9OcG1UYWJsZSA9IHtcbiAgICBhZGQ6IGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgICAgIGlmIChhcmdzLmxlbmd0aCA9PT0gMiAmJiBhcmdzWzFdID09PSAnLS1mb3JjZScpIHtcbiAgICAgICAgICAgIHJldHVybiBbJ3JlYnVpbGQnXTtcbiAgICAgICAgfVxuICAgICAgICBhcmdzWzBdID0gJ2luc3RhbGwnO1xuICAgICAgICByZXR1cm4gY29udmVydEFkZFJlbW92ZUFyZ3MoYXJncyk7XG4gICAgfSxcbiAgICByZW1vdmU6IGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgICAgIGFyZ3NbMF0gPSAndW5pbnN0YWxsJztcbiAgICAgICAgcmV0dXJuIGNvbnZlcnRBZGRSZW1vdmVBcmdzKGFyZ3MpO1xuICAgIH0sXG4gICAgdmVyc2lvbjogZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIGFyZ3MubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICBjYXNlICctLW1ham9yJzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICdtYWpvcic7XG4gICAgICAgICAgICAgICAgY2FzZSAnLS1taW5vcic6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnbWlub3InO1xuICAgICAgICAgICAgICAgIGNhc2UgJy0tcGF0Y2gnOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ3BhdGNoJztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICBpbnN0YWxsOiAnaW5zdGFsbCcsXG4gICAgbGlzdDogZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICAgICAgYXJnc1swXSA9ICdscyc7XG4gICAgICAgIHZhciBwYXR0ZXJuSW5kZXggPSBhcmdzLmZpbmRJbmRleChmdW5jdGlvbiAoaXRlbSkgeyByZXR1cm4gaXRlbSA9PT0gJy0tcGF0dGVybic7IH0pO1xuICAgICAgICBpZiAocGF0dGVybkluZGV4ID49IDAgJiYgYXJnc1twYXR0ZXJuSW5kZXggKyAxXSkge1xuICAgICAgICAgICAgdmFyIHBhY2thZ2VzID0gYXJnc1twYXR0ZXJuSW5kZXggKyAxXS5yZXBsYWNlKC9bXCInXShbXlwiJ10rKVtcIiddLywgJyQxJykuc3BsaXQoJ3wnKTtcbiAgICAgICAgICAgIGFyZ3Muc3BsaWNlKHBhdHRlcm5JbmRleCwgMiwgcGFja2FnZXMuam9pbignICcpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXJncztcbiAgICB9LFxuICAgIGluaXQ6ICdpbml0JyxcbiAgICBjcmVhdGU6ICdpbml0JyxcbiAgICBvdXRkYXRlZDogJ291dGRhdGVkJyxcbiAgICBydW46ICdydW4nLFxuICAgIGdsb2JhbDogZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICAgICAgc3dpdGNoIChhcmdzWzFdKSB7XG4gICAgICAgICAgICBjYXNlICdhZGQnOlxuICAgICAgICAgICAgICAgIGFyZ3Muc2hpZnQoKTtcbiAgICAgICAgICAgICAgICBhcmdzID0geWFyblRvTnBtVGFibGUuYWRkKGFyZ3MpO1xuICAgICAgICAgICAgICAgIGFyZ3MucHVzaCgnLS1nbG9iYWwnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXJncztcbiAgICAgICAgICAgIGNhc2UgJ3JlbW92ZSc6XG4gICAgICAgICAgICAgICAgYXJncy5zaGlmdCgpO1xuICAgICAgICAgICAgICAgIGFyZ3MgPSB5YXJuVG9OcG1UYWJsZS5yZW1vdmUoYXJncyk7XG4gICAgICAgICAgICAgICAgYXJncy5wdXNoKCctLWdsb2JhbCcpO1xuICAgICAgICAgICAgICAgIHJldHVybiBhcmdzO1xuICAgICAgICAgICAgY2FzZSAnbGlzdCc6XG4gICAgICAgICAgICAgICAgYXJncy5zaGlmdCgpO1xuICAgICAgICAgICAgICAgIGFyZ3MgPSB5YXJuVG9OcG1UYWJsZS5saXN0KGFyZ3MpO1xuICAgICAgICAgICAgICAgIGFyZ3MucHVzaCgnLS1nbG9iYWwnKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXJncztcbiAgICAgICAgICAgIC8vIGNhc2UgJ2Jpbic6XG4gICAgICAgICAgICAvLyBjYXNlICd1cGdyYWRlJzpcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgYXJncy5wdXNoKFwiXFxuIyBjb3VsZG4ndCBhdXRvLWNvbnZlcnQgY29tbWFuZFwiKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXJncztcbiAgICAgICAgfVxuICAgIH0sXG4gICAgcGFjazogZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIGFyZ3MubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICBpZiAoaXRlbSA9PT0gJy0tZmlsZW5hbWUnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICctLXBhY2stZGVzdGluYXRpb24nO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICAgIH0pO1xuICAgIH1cbn07XG5mdW5jdGlvbiB5YXJuVG9OUE0oX20sIGNvbW1hbmQpIHtcbiAgICBjb21tYW5kID0gKGNvbW1hbmQgfHwgJycpLnRyaW0oKTtcbiAgICBpZiAoY29tbWFuZCA9PT0gJycpIHtcbiAgICAgICAgcmV0dXJuICducG0gaW5zdGFsbCc7XG4gICAgfVxuICAgIHZhciBhcmdzID0gcGFyc2UoY29tbWFuZCk7XG4gICAgdmFyIGZpcnN0Q29tbWFuZCA9ICgvXFx3Ky8uZXhlYyhjb21tYW5kKSB8fCBbJyddKVswXTtcbiAgICBpZiAodW5jaGFuZ2VkQ0xJQ29tbWFuZHMuaW5jbHVkZXMoYXJnc1swXSkpIHtcbiAgICAgICAgcmV0dXJuICducG0gJyArIGNvbW1hbmQ7XG4gICAgfVxuICAgIGVsc2UgaWYgKGFyZ3NbMF0gaW4geWFyblRvTnBtVGFibGUpIHtcbiAgICAgICAgdmFyIGNvbnZlcnRlciA9IHlhcm5Ub05wbVRhYmxlW2FyZ3NbMF1dO1xuICAgICAgICBpZiAodHlwZW9mIGNvbnZlcnRlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgYXJncyA9IGNvbnZlcnRlcihhcmdzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGFyZ3NbMF0gPSBjb252ZXJ0ZXI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICducG0gJyArIGFyZ3MuZmlsdGVyKEJvb2xlYW4pLmpvaW4oJyAnKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoIXlhcm5DTElDb21tYW5kcy5pbmNsdWRlcyhmaXJzdENvbW1hbmQpKSB7XG4gICAgICAgIC8vIGkuZS4sIHlhcm4gZ3J1bnQgLT4gbnBtIHJ1biBncnVudFxuICAgICAgICByZXR1cm4gJ25wbSBydW4gJyArIGNvbW1hbmQ7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gJ25wbSAnICsgY29tbWFuZCArIFwiXFxuIyBjb3VsZG4ndCBhdXRvLWNvbnZlcnQgY29tbWFuZFwiO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gY29udmVydEluc3RhbGxBcmdzJDEoYXJncykge1xuICAgIGlmIChhcmdzLmluY2x1ZGVzKCctLWdsb2JhbCcpIHx8IGFyZ3MuaW5jbHVkZXMoJy1nJykpIHtcbiAgICAgICAgYXJncy51bnNoaWZ0KCdnbG9iYWwnKTtcbiAgICB9XG4gICAgcmV0dXJuIGFyZ3MubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHN3aXRjaCAoaXRlbSkge1xuICAgICAgICAgICAgY2FzZSAnLS1zYXZlLWRldic6XG4gICAgICAgICAgICBjYXNlICctRCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuICctLWRldic7XG4gICAgICAgICAgICBjYXNlICctLXNhdmUtcHJvZCc6XG4gICAgICAgICAgICBjYXNlICctUCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuICctLXByb2R1Y3Rpb24nO1xuICAgICAgICAgICAgY2FzZSAnLS1uby1wYWNrYWdlLWxvY2snOlxuICAgICAgICAgICAgICAgIHJldHVybiAnLS1uby1sb2NrZmlsZSc7XG4gICAgICAgICAgICBjYXNlICctLXNhdmUtb3B0aW9uYWwnOlxuICAgICAgICAgICAgY2FzZSAnLU8nOlxuICAgICAgICAgICAgICAgIHJldHVybiAnLS1vcHRpb25hbCc7XG4gICAgICAgICAgICBjYXNlICctLXNhdmUtZXhhY3QnOlxuICAgICAgICAgICAgY2FzZSAnLUUnOlxuICAgICAgICAgICAgICAgIHJldHVybiAnLS1leGFjdCc7XG4gICAgICAgICAgICBjYXNlICctLXNhdmUnOlxuICAgICAgICAgICAgY2FzZSAnLVMnOlxuICAgICAgICAgICAgY2FzZSAnLS1nbG9iYWwnOlxuICAgICAgICAgICAgY2FzZSAnLWcnOlxuICAgICAgICAgICAgICAgIHJldHVybiAnJztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbnZhciBucG1Ub1lhcm5UYWJsZSA9IHtcbiAgICBpbnN0YWxsOiBmdW5jdGlvbiAoYXJncykge1xuICAgICAgICBpZiAoYXJncy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIHJldHVybiBbJ2luc3RhbGwnXTtcbiAgICAgICAgfVxuICAgICAgICBhcmdzWzBdID0gJ2FkZCc7XG4gICAgICAgIHJldHVybiBjb252ZXJ0SW5zdGFsbEFyZ3MkMShhcmdzKTtcbiAgICB9LFxuICAgIGk6IGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgICAgIHJldHVybiBucG1Ub1lhcm5UYWJsZS5pbnN0YWxsKGFyZ3MpO1xuICAgIH0sXG4gICAgdW5pbnN0YWxsOiBmdW5jdGlvbiAoYXJncykge1xuICAgICAgICBhcmdzWzBdID0gJ3JlbW92ZSc7XG4gICAgICAgIHJldHVybiBjb252ZXJ0SW5zdGFsbEFyZ3MkMShhcmdzKTtcbiAgICB9LFxuICAgIHVuOiBmdW5jdGlvbiAoYXJncykge1xuICAgICAgICByZXR1cm4gbnBtVG9ZYXJuVGFibGUudW5pbnN0YWxsKGFyZ3MpO1xuICAgIH0sXG4gICAgcmVtb3ZlOiBmdW5jdGlvbiAoYXJncykge1xuICAgICAgICByZXR1cm4gbnBtVG9ZYXJuVGFibGUudW5pbnN0YWxsKGFyZ3MpO1xuICAgIH0sXG4gICAgcjogZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIG5wbVRvWWFyblRhYmxlLnVuaW5zdGFsbChhcmdzKTtcbiAgICB9LFxuICAgIHJtOiBmdW5jdGlvbiAoYXJncykge1xuICAgICAgICByZXR1cm4gbnBtVG9ZYXJuVGFibGUudW5pbnN0YWxsKGFyZ3MpO1xuICAgIH0sXG4gICAgdmVyc2lvbjogZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIGFyZ3MubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICBjYXNlICdtYWpvcic6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnLS1tYWpvcic7XG4gICAgICAgICAgICAgICAgY2FzZSAnbWlub3InOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJy0tbWlub3InO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3BhdGNoJzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICctLXBhdGNoJztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSxcbiAgICByYjogZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIG5wbVRvWWFyblRhYmxlLnJlYnVpbGQoYXJncyk7XG4gICAgfSxcbiAgICByZWJ1aWxkOiBmdW5jdGlvbiAoYXJncykge1xuICAgICAgICBhcmdzWzBdID0gJ2FkZCc7XG4gICAgICAgIGFyZ3MucHVzaCgnLS1mb3JjZScpO1xuICAgICAgICByZXR1cm4gYXJncztcbiAgICB9LFxuICAgIHJ1bjogZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICAgICAgaWYgKGFyZ3NbMV0gJiYgIXVuY2hhbmdlZENMSUNvbW1hbmRzLmluY2x1ZGVzKGFyZ3NbMV0pICYmICF5YXJuQ0xJQ29tbWFuZHMuaW5jbHVkZXMoYXJnc1sxXSkpIHtcbiAgICAgICAgICAgIGFyZ3Muc3BsaWNlKDAsIDEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcmdzO1xuICAgIH0sXG4gICAgZXhlYzogZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICAgICAgYXJnc1swXSA9ICdydW4nO1xuICAgICAgICByZXR1cm4gbnBtVG9ZYXJuVGFibGUucnVuKGFyZ3MpO1xuICAgIH0sXG4gICAgbHM6IGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgICAgIGFyZ3NbMF0gPSAnbGlzdCc7XG4gICAgICAgIHZhciBlbmRlZCA9IGZhbHNlO1xuICAgICAgICB2YXIgcGFja2FnZXMgPSBhcmdzLmZpbHRlcihmdW5jdGlvbiAoaXRlbSwgaWQpIHtcbiAgICAgICAgICAgIGlmIChpZCA+IDAgJiYgIWVuZGVkKSB7XG4gICAgICAgICAgICAgICAgZW5kZWQgPSBpdGVtLnN0YXJ0c1dpdGgoJy0nKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gIWVuZGVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHBhY2thZ2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGFyZ3Muc3BsaWNlKDEsIHBhY2thZ2VzLmxlbmd0aCwgJy0tcGF0dGVybicsICdcIicgKyBwYWNrYWdlcy5qb2luKCd8JykgKyAnXCInKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXJncztcbiAgICB9LFxuICAgIGxpc3Q6IGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgICAgIHJldHVybiBucG1Ub1lhcm5UYWJsZS5scyhhcmdzKTtcbiAgICB9LFxuICAgIGluaXQ6IGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgICAgIGlmIChhcmdzWzFdICYmICFhcmdzWzFdLnN0YXJ0c1dpdGgoJy0nKSkge1xuICAgICAgICAgICAgYXJnc1swXSA9ICdjcmVhdGUnO1xuICAgICAgICAgICAgdmFyIG0gPSBhcmdzWzFdLm1hdGNoKC8oLispQGxhdGVzdC8pO1xuICAgICAgICAgICAgaWYgKG0pIHtcbiAgICAgICAgICAgICAgICBhcmdzWzFdID0gbVsxXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXJncy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsgcmV0dXJuIGl0ZW0gIT09ICctLXNjb3BlJzsgfSk7XG4gICAgfSxcbiAgICBjcmVhdGU6IGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgICAgIHJldHVybiBucG1Ub1lhcm5UYWJsZS5pbml0KGFyZ3MpO1xuICAgIH0sXG4gICAgbG46ICdsaW5rJyxcbiAgICB0OiAndGVzdCcsXG4gICAgdHN0OiAndGVzdCcsXG4gICAgb3V0ZGF0ZWQ6ICdvdXRkYXRlZCcsXG4gICAgcGFjazogZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIGFyZ3MubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICBpZiAoaXRlbS5zdGFydHNXaXRoKCctLXBhY2stZGVzdGluYXRpb24nKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpdGVtLnJlcGxhY2UoL14tLXBhY2stZGVzdGluYXRpb25bXFxzPV0vLCAnLS1maWxlbmFtZSAnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgICB9KTtcbiAgICB9XG59O1xuZnVuY3Rpb24gbnBtVG9ZYXJuKF9tLCBjb21tYW5kKSB7XG4gICAgdmFyIGFyZ3MgPSBwYXJzZSgoY29tbWFuZCB8fCAnJykudHJpbSgpKTtcbiAgICB2YXIgaW5kZXggPSBhcmdzLmZpbmRJbmRleChmdW5jdGlvbiAoYSkgeyByZXR1cm4gYSA9PT0gJy0tJzsgfSk7XG4gICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgICAgYXJncy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgIH1cbiAgICBpZiAodW5jaGFuZ2VkQ0xJQ29tbWFuZHMuaW5jbHVkZXMoYXJnc1swXSkpIHtcbiAgICAgICAgcmV0dXJuICd5YXJuICcgKyBhcmdzLmZpbHRlcihCb29sZWFuKS5qb2luKCcgJyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGFyZ3NbMF0gaW4gbnBtVG9ZYXJuVGFibGUpIHtcbiAgICAgICAgdmFyIGNvbnZlcnRlciA9IG5wbVRvWWFyblRhYmxlW2FyZ3NbMF1dO1xuICAgICAgICBpZiAodHlwZW9mIGNvbnZlcnRlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgYXJncyA9IGNvbnZlcnRlcihhcmdzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGFyZ3NbMF0gPSBjb252ZXJ0ZXI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICd5YXJuICcgKyBhcmdzLmZpbHRlcihCb29sZWFuKS5qb2luKCcgJyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gJ25wbSAnICsgY29tbWFuZCArIFwiXFxuIyBjb3VsZG4ndCBhdXRvLWNvbnZlcnQgY29tbWFuZFwiO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gY29udmVydFBucG1JbnN0YWxsQXJncyhhcmdzKSB7XG4gICAgcmV0dXJuIGFyZ3MubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHN3aXRjaCAoaXRlbSkge1xuICAgICAgICAgICAgY2FzZSAnLS1zYXZlJzpcbiAgICAgICAgICAgIGNhc2UgJy1TJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgICAgICBjYXNlICctLW5vLXBhY2thZ2UtbG9jayc6XG4gICAgICAgICAgICAgICAgcmV0dXJuICctLWZyb3plbi1sb2NrZmlsZSc7XG4gICAgICAgICAgICAvLyBjYXNlICctLXNhdmUtZGV2JzpcbiAgICAgICAgICAgIC8vIGNhc2UgJy1EJzpcbiAgICAgICAgICAgIC8vIGNhc2UgJy0tc2F2ZS1wcm9kJzpcbiAgICAgICAgICAgIC8vIGNhc2UgJy1QJzpcbiAgICAgICAgICAgIC8vIGNhc2UgJy0tc2F2ZS1vcHRpb25hbCc6XG4gICAgICAgICAgICAvLyBjYXNlICctTyc6XG4gICAgICAgICAgICAvLyBjYXNlICctLXNhdmUtZXhhY3QnOlxuICAgICAgICAgICAgLy8gY2FzZSAnLUUnOlxuICAgICAgICAgICAgLy8gY2FzZSAnLS1nbG9iYWwnOlxuICAgICAgICAgICAgLy8gY2FzZSAnLWcnOlxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuZnVuY3Rpb24gY29udmVydEZpbHRlckFyZyhhcmdzKSB7XG4gICAgaWYgKGFyZ3MubGVuZ3RoID4gMSkge1xuICAgICAgICB2YXIgZmlsdGVyID0gYXJncy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7IHJldHVybiBpbmRleCAhPT0gMCAmJiAhaXRlbS5zdGFydHNXaXRoKCctJyk7IH0pO1xuICAgICAgICBpZiAoZmlsdGVyLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGFyZ3MgPSBhcmdzLmZpbHRlcihmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHsgcmV0dXJuIGluZGV4ID09PSAwIHx8IGl0ZW0uc3RhcnRzV2l0aCgnLScpOyB9KTtcbiAgICAgICAgICAgIGFyZ3MucHVzaCgnLS1maWx0ZXInKTtcbiAgICAgICAgICAgIGFyZ3MucHVzaChmaWx0ZXIuam9pbignICcpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gYXJncztcbn1cbnZhciBucG1Ub1BucG1UYWJsZSA9IHtcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICBpbnN0YWxsOiBmdW5jdGlvbiAoYXJncykge1xuICAgICAgICBpZiAoYXJncy5sZW5ndGggPiAxICYmIGFyZ3MuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7IHJldHVybiAhaXRlbS5zdGFydHNXaXRoKCctJyk7IH0pLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIGFyZ3NbMF0gPSAnYWRkJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29udmVydFBucG1JbnN0YWxsQXJncyhhcmdzKTtcbiAgICB9LFxuICAgIGk6IGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgICAgIHJldHVybiBucG1Ub1BucG1UYWJsZS5pbnN0YWxsKGFyZ3MpO1xuICAgIH0sXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgdW5pbnN0YWxsOiBmdW5jdGlvbiAoYXJncykge1xuICAgICAgICBhcmdzWzBdID0gJ3JlbW92ZSc7XG4gICAgICAgIHJldHVybiBjb252ZXJ0UG5wbUluc3RhbGxBcmdzKGFyZ3MpO1xuICAgIH0sXG4gICAgdW46IGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgICAgIHJldHVybiBucG1Ub1BucG1UYWJsZS51bmluc3RhbGwoYXJncyk7XG4gICAgfSxcbiAgICByZW1vdmU6IGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgICAgIHJldHVybiBucG1Ub1BucG1UYWJsZS51bmluc3RhbGwoYXJncyk7XG4gICAgfSxcbiAgICByOiBmdW5jdGlvbiAoYXJncykge1xuICAgICAgICByZXR1cm4gbnBtVG9QbnBtVGFibGUudW5pbnN0YWxsKGFyZ3MpO1xuICAgIH0sXG4gICAgcm06IGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgICAgIHJldHVybiBucG1Ub1BucG1UYWJsZS51bmluc3RhbGwoYXJncyk7XG4gICAgfSxcbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICByYjogZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIG5wbVRvUG5wbVRhYmxlLnJlYnVpbGQoYXJncyk7XG4gICAgfSxcbiAgICByZWJ1aWxkOiBmdW5jdGlvbiAoYXJncykge1xuICAgICAgICBhcmdzWzBdID0gJ3JlYnVpbGQnO1xuICAgICAgICByZXR1cm4gY29udmVydEZpbHRlckFyZyhhcmdzKTtcbiAgICB9LFxuICAgIHJ1bjogJ3J1bicsXG4gICAgZXhlYzogJ2V4ZWMnLFxuICAgIGxzOiBmdW5jdGlvbiAoYXJncykge1xuICAgICAgICByZXR1cm4gbnBtVG9QbnBtVGFibGUubGlzdChhcmdzKTtcbiAgICB9LFxuICAgIGxpc3Q6IGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgICAgIHJldHVybiBhcmdzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgaWYgKGl0ZW0uc3RhcnRzV2l0aCgnLS1kZXB0aD0nKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBcIi0tZGVwdGggXCIuY29uY2F0KGl0ZW0uc3BsaXQoJz0nKVsxXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzd2l0Y2ggKGl0ZW0pIHtcbiAgICAgICAgICAgICAgICBjYXNlICctLXByb2R1Y3Rpb24nOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJy0tcHJvZCc7XG4gICAgICAgICAgICAgICAgY2FzZSAnLS1kZXZlbG9wbWVudCc6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAnLS1kZXYnO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9LFxuICAgIGluaXQ6IGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgICAgIGlmIChhcmdzWzFdICYmICFhcmdzWzFdLnN0YXJ0c1dpdGgoJy0nKSkge1xuICAgICAgICAgICAgYXJnc1swXSA9ICdjcmVhdGUnO1xuICAgICAgICAgICAgdmFyIG0gPSBhcmdzWzFdLm1hdGNoKC8oLispQGxhdGVzdC8pO1xuICAgICAgICAgICAgaWYgKG0pIHtcbiAgICAgICAgICAgICAgICBhcmdzWzFdID0gbVsxXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXJncy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsgcmV0dXJuIGl0ZW0gIT09ICctLXNjb3BlJzsgfSk7XG4gICAgfSxcbiAgICBjcmVhdGU6IGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgICAgIHJldHVybiBucG1Ub1BucG1UYWJsZS5pbml0KGFyZ3MpO1xuICAgIH0sXG4gICAgbG46ICdsaW5rJyxcbiAgICB0OiAndGVzdCcsXG4gICAgdGVzdDogJ3Rlc3QnLFxuICAgIHRzdDogJ3Rlc3QnLFxuICAgIHN0YXJ0OiAnc3RhcnQnLFxuICAgIGxpbms6ICdsaW5rJyxcbiAgICB1bmxpbms6IGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgICAgIHJldHVybiBjb252ZXJ0RmlsdGVyQXJnKGFyZ3MpO1xuICAgIH0sXG4gICAgb3V0ZGF0ZWQ6ICdvdXRkYXRlZCcsXG4gICAgcGFjazogZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICAgICAgcmV0dXJuIGFyZ3MubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICBpZiAoaXRlbS5zdGFydHNXaXRoKCctLXBhY2stZGVzdGluYXRpb24nKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpdGVtLnJlcGxhY2UoL14tLXBhY2stZGVzdGluYXRpb25bXFxzPV0vLCAnLS1wYWNrLWRlc3RpbmF0aW9uICcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGl0ZW07XG4gICAgICAgIH0pO1xuICAgIH1cbn07XG5mdW5jdGlvbiBucG1Ub1BucG0oX20sIGNvbW1hbmQpIHtcbiAgICB2YXIgYXJncyA9IHBhcnNlKChjb21tYW5kIHx8ICcnKS50cmltKCkpO1xuICAgIHZhciBpbmRleCA9IGFyZ3MuZmluZEluZGV4KGZ1bmN0aW9uIChhKSB7IHJldHVybiBhID09PSAnLS0nOyB9KTtcbiAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICBhcmdzLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuICAgIGlmIChhcmdzWzBdIGluIG5wbVRvUG5wbVRhYmxlKSB7XG4gICAgICAgIHZhciBjb252ZXJ0ZXIgPSBucG1Ub1BucG1UYWJsZVthcmdzWzBdXTtcbiAgICAgICAgaWYgKHR5cGVvZiBjb252ZXJ0ZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGFyZ3MgPSBjb252ZXJ0ZXIoYXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBhcmdzWzBdID0gY29udmVydGVyO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAncG5wbSAnICsgYXJncy5maWx0ZXIoQm9vbGVhbikuam9pbignICcpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuICducG0gJyArIGNvbW1hbmQgKyBcIlxcbiMgY291bGRuJ3QgYXV0by1jb252ZXJ0IGNvbW1hbmRcIjtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGNvbnZlcnRJbnN0YWxsQXJncyhhcmdzKSB7XG4gICAgLy8gYnVuIHVzZXMgLWcgYW5kIC0tZ2xvYmFsIGZsYWdzXG4gICAgLy8gYnVuIG1vc3RseSBjb25mb3JtcyB0byBZYXJuJ3MgQ0xJXG4gICAgcmV0dXJuIGFyZ3MubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgIHN3aXRjaCAoaXRlbSkge1xuICAgICAgICAgICAgY2FzZSAnLS1zYXZlLWRldic6XG4gICAgICAgICAgICBjYXNlICctLWRldmVsb3BtZW50JzpcbiAgICAgICAgICAgIGNhc2UgJy1EJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gJy0tZGV2JztcbiAgICAgICAgICAgIGNhc2UgJy0tc2F2ZS1wcm9kJzpcbiAgICAgICAgICAgIGNhc2UgJy1QJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gJy0tcHJvZHVjdGlvbic7XG4gICAgICAgICAgICBjYXNlICctLW5vLXBhY2thZ2UtbG9jayc6XG4gICAgICAgICAgICAgICAgcmV0dXJuICctLW5vLXNhdmUnO1xuICAgICAgICAgICAgY2FzZSAnLS1zYXZlLW9wdGlvbmFsJzpcbiAgICAgICAgICAgIGNhc2UgJy1PJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gJy0tb3B0aW9uYWwnO1xuICAgICAgICAgICAgY2FzZSAnLS1zYXZlLWV4YWN0JzpcbiAgICAgICAgICAgIGNhc2UgJy1FJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gJy0tZXhhY3QnO1xuICAgICAgICAgICAgY2FzZSAnLS1zYXZlJzpcbiAgICAgICAgICAgIGNhc2UgJy1TJzpcbiAgICAgICAgICAgICAgICAvLyB0aGlzIGlzIGRlZmF1bHQgaW4gYnVuXG4gICAgICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICAgICAgY2FzZSAnLS1nbG9iYWwnOlxuICAgICAgICAgICAgY2FzZSAnLWcnOlxuICAgICAgICAgICAgICAgIHJldHVybiAnLS1nbG9iYWwnO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuZnVuY3Rpb24gbnBtVG9CdW4oX20sIGNvbW1hbmQpIHtcbiAgICB2YXIgYXJncyA9IHBhcnNlKChjb21tYW5kIHx8ICcnKS50cmltKCkpO1xuICAgIHZhciBpbmRleCA9IGFyZ3MuZmluZEluZGV4KGZ1bmN0aW9uIChhKSB7IHJldHVybiBhID09PSAnLS0nOyB9KTtcbiAgICBpZiAoaW5kZXggPj0gMCkge1xuICAgICAgICBhcmdzLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuICAgIHZhciBjbWQgPSAnYnVuJztcbiAgICBzd2l0Y2ggKGFyZ3NbMF0pIHtcbiAgICAgICAgY2FzZSAnaW5zdGFsbCc6XG4gICAgICAgIGNhc2UgJ2knOlxuICAgICAgICAgICAgaWYgKGFyZ3MubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgYXJncyA9IFsnaW5zdGFsbCddO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYXJnc1swXSA9ICdhZGQnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXJncyA9IGNvbnZlcnRJbnN0YWxsQXJncyhhcmdzKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICd1bmluc3RhbGwnOlxuICAgICAgICBjYXNlICd1bic6XG4gICAgICAgIGNhc2UgJ3JlbW92ZSc6XG4gICAgICAgIGNhc2UgJ3InOlxuICAgICAgICBjYXNlICdybSc6XG4gICAgICAgICAgICBhcmdzWzBdID0gJ3JlbW92ZSc7XG4gICAgICAgICAgICBhcmdzID0gY29udmVydEluc3RhbGxBcmdzKGFyZ3MpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2NhY2hlJzpcbiAgICAgICAgICAgIGlmIChhcmdzWzFdID09PSAnY2xlYW4nKSB7XG4gICAgICAgICAgICAgICAgYXJncyA9IFsncG0nLCAnY2FjaGUnLCAncm0nXS5jb25jYXQoYXJncy5zbGljZSgyKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjbWQgPSAnbnBtJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdyZWJ1aWxkJzpcbiAgICAgICAgY2FzZSAncmInOlxuICAgICAgICAgICAgYXJnc1swXSA9ICdhZGQnO1xuICAgICAgICAgICAgYXJncy5wdXNoKCctLWZvcmNlJyk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAncnVuJzpcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdsaXN0JzpcbiAgICAgICAgY2FzZSAnbHMnOlxuICAgICAgICAgICAgLy8gJ25wbSBscycgPT4gJ2J1biBwbSBscydcbiAgICAgICAgICAgIGFyZ3MgPSBjb252ZXJ0SW5zdGFsbEFyZ3MoYXJncyk7XG4gICAgICAgICAgICBhcmdzWzBdID0gJ2xzJztcbiAgICAgICAgICAgIGFyZ3MudW5zaGlmdCgncG0nKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdpbml0JzpcbiAgICAgICAgY2FzZSAnY3JlYXRlJzpcbiAgICAgICAgICAgIGlmIChhcmdzWzFdKSB7XG4gICAgICAgICAgICAgICAgaWYgKGFyZ3NbMV0uc3RhcnRzV2l0aCgnQCcpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNtZCA9ICdidW54JztcbiAgICAgICAgICAgICAgICAgICAgYXJnc1sxXSA9IGFyZ3NbMV0ucmVwbGFjZSgnLycsICcvY3JlYXRlLScpO1xuICAgICAgICAgICAgICAgICAgICBhcmdzID0gYXJncy5zbGljZSgxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoIWFyZ3NbMV0uc3RhcnRzV2l0aCgnLScpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNtZCA9ICdidW54JztcbiAgICAgICAgICAgICAgICAgICAgYXJnc1sxXSA9IFwiY3JlYXRlLVwiLmNvbmNhdChhcmdzWzFdLnJlcGxhY2UoJ0BsYXRlc3QnLCAnJykpO1xuICAgICAgICAgICAgICAgICAgICBhcmdzID0gYXJncy5zbGljZSgxKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGFyZ3NbMF0gPSAnaW5pdCc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2xpbmsnOlxuICAgICAgICBjYXNlICdsbic6XG4gICAgICAgICAgICBhcmdzID0gY29udmVydEluc3RhbGxBcmdzKGFyZ3MpO1xuICAgICAgICAgICAgYXJnc1swXSA9ICdsaW5rJztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdzdG9wJzpcbiAgICAgICAgY2FzZSAnc3RhcnQnOlxuICAgICAgICBjYXNlICd1bmxpbmsnOlxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3Rlc3QnOlxuICAgICAgICBjYXNlICd0JzpcbiAgICAgICAgY2FzZSAndHN0JzpcbiAgICAgICAgICAgIGFyZ3NbMF0gPSAndGVzdCc7XG4gICAgICAgICAgICBhcmdzLnVuc2hpZnQoJ3J1bicpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2V4ZWMnOlxuICAgICAgICAgICAgY21kID0gJ2J1bngnO1xuICAgICAgICAgICAgYXJncy5zcGxpY2UoMCwgMSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIC8vIG51bGwgPT0ga2VlcCBgbnBtYCBjb21tYW5kXG4gICAgICAgICAgICBjbWQgPSAnbnBtJztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICB2YXIgZmlsdGVyZWQgPSBhcmdzLmZpbHRlcihCb29sZWFuKS5maWx0ZXIoZnVuY3Rpb24gKGFyZykgeyByZXR1cm4gYXJnICE9PSAnLS0nOyB9KTtcbiAgICByZXR1cm4gXCJcIi5jb25jYXQoY21kLCBcIiBcIikuY29uY2F0KGZpbHRlcmVkLmpvaW4oJyAnKSkuY29uY2F0KGNtZCA9PT0gJ25wbScgPyBcIlxcbiMgY291bGRuJ3QgYXV0by1jb252ZXJ0IGNvbW1hbmRcIiA6ICcnKS5yZXBsYWNlKCc9JywgJyAnKTtcbn1cblxuLyoqXG4gKiBDb252ZXJ0cyBiZXR3ZWVuIG5wbSBhbmQgeWFybiBjb21tYW5kXG4gKi9cbmZ1bmN0aW9uIGNvbnZlcnQoc3RyLCB0bykge1xuICAgIGlmIChzdHIuaW5jbHVkZXMoJ25weCcpIHx8XG4gICAgICAgIHN0ci5pbmNsdWRlcygneWFybiBkbHgnKSB8fFxuICAgICAgICBzdHIuaW5jbHVkZXMoJ3BucG0gZGx4JykgfHxcbiAgICAgICAgc3RyLmluY2x1ZGVzKCdidW4geCcpKSB7XG4gICAgICAgIHZhciBleGVjdXRvciA9IHN0ci5pbmNsdWRlcygnbnB4JylcbiAgICAgICAgICAgID8gJ25weCdcbiAgICAgICAgICAgIDogc3RyLmluY2x1ZGVzKCd5YXJuIGRseCcpXG4gICAgICAgICAgICAgICAgPyAneWFybiBkbHgnXG4gICAgICAgICAgICAgICAgOiBzdHIuaW5jbHVkZXMoJ3BucG0gZGx4JylcbiAgICAgICAgICAgICAgICAgICAgPyAncG5wbSBkbHgnXG4gICAgICAgICAgICAgICAgICAgIDogJ2J1biB4JztcbiAgICAgICAgcmV0dXJuIHN0ci5yZXBsYWNlKGV4ZWN1dG9yLCBleGVjdXRvckNvbW1hbmRzW3RvXSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHRvID09PSAnbnBtJykge1xuICAgICAgICByZXR1cm4gc3RyLnJlcGxhY2UoL3lhcm4oPzogKyhbXiZcXG5cXHJdKikpPy9nbSwgeWFyblRvTlBNKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodG8gPT09ICdwbnBtJykge1xuICAgICAgICByZXR1cm4gc3RyLnJlcGxhY2UoL25wbSg/OiArKFteJlxcblxccl0qKSk/L2dtLCBucG1Ub1BucG0pO1xuICAgIH1cbiAgICBlbHNlIGlmICh0byA9PT0gJ2J1bicpIHtcbiAgICAgICAgcmV0dXJuIHN0ci5yZXBsYWNlKC9ucG0oPzogKyhbXiZcXG5cXHJdKikpPy9nbSwgbnBtVG9CdW4pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHN0ci5yZXBsYWNlKC9ucG0oPzogKyhbXiZcXG5cXHJdKikpPy9nbSwgbnBtVG9ZYXJuKTtcbiAgICB9XG59XG5cbmV4cG9ydCB7IGNvbnZlcnQgYXMgZGVmYXVsdCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bnBtLXRvLXlhcm4ubWpzLm1hcFxuIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/.pnpm/npm-to-yarn@3.0.1/node_modules/npm-to-yarn/dist/npm-to-yarn.mjs\n");

/***/ })

};
;