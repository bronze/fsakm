"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@amplitude+plugin-autocapture-browser@1.2.8";
exports.ids = ["vendor-chunks/@amplitude+plugin-autocapture-browser@1.2.8"];
exports.modules = {

/***/ "(ssr)/./node_modules/.pnpm/@amplitude+plugin-autocapture-browser@1.2.8/node_modules/@amplitude/plugin-autocapture-browser/lib/esm/autocapture-plugin.js":
/*!*********************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@amplitude+plugin-autocapture-browser@1.2.8/node_modules/@amplitude/plugin-autocapture-browser/lib/esm/autocapture-plugin.js ***!
  \*********************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ObservablesEnum: () => (/* binding */ ObservablesEnum),\n/* harmony export */   autocapturePlugin: () => (/* binding */ autocapturePlugin),\n/* harmony export */   isElementBasedEvent: () => (/* binding */ isElementBasedEvent)\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! tslib */ \"(ssr)/./node_modules/.pnpm/tslib@2.8.1/node_modules/tslib/tslib.es6.mjs\");\n/* harmony import */ var _amplitude_analytics_core__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @amplitude/analytics-core */ \"(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/types/element-interactions.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/.pnpm/@amplitude+plugin-autocapture-browser@1.2.8/node_modules/@amplitude/plugin-autocapture-browser/lib/esm/constants.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs */ \"(ssr)/./node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/dist/esm5/internal/observable/fromEvent.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs */ \"(ssr)/./node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/dist/esm5/internal/operators/map.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs */ \"(ssr)/./node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/dist/esm5/internal/operators/share.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! rxjs */ \"(ssr)/./node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/dist/esm5/internal/Observable.js\");\n/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./helpers */ \"(ssr)/./node_modules/.pnpm/@amplitude+plugin-autocapture-browser@1.2.8/node_modules/@amplitude/plugin-autocapture-browser/lib/esm/helpers.js\");\n/* harmony import */ var _libs_messenger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./libs/messenger */ \"(ssr)/./node_modules/.pnpm/@amplitude+plugin-autocapture-browser@1.2.8/node_modules/@amplitude/plugin-autocapture-browser/lib/esm/libs/messenger.js\");\n/* harmony import */ var _hierarchy__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./hierarchy */ \"(ssr)/./node_modules/.pnpm/@amplitude+plugin-autocapture-browser@1.2.8/node_modules/@amplitude/plugin-autocapture-browser/lib/esm/hierarchy.js\");\n/* harmony import */ var _autocapture_track_click__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./autocapture/track-click */ \"(ssr)/./node_modules/.pnpm/@amplitude+plugin-autocapture-browser@1.2.8/node_modules/@amplitude/plugin-autocapture-browser/lib/esm/autocapture/track-click.js\");\n/* harmony import */ var _autocapture_track_change__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./autocapture/track-change */ \"(ssr)/./node_modules/.pnpm/@amplitude+plugin-autocapture-browser@1.2.8/node_modules/@amplitude/plugin-autocapture-browser/lib/esm/autocapture/track-change.js\");\n/* harmony import */ var _autocapture_track_action_click__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./autocapture/track-action-click */ \"(ssr)/./node_modules/.pnpm/@amplitude+plugin-autocapture-browser@1.2.8/node_modules/@amplitude/plugin-autocapture-browser/lib/esm/autocapture/track-action-click.js\");\n\n/* eslint-disable no-restricted-globals */\n\n\n\n\n\n\n\n\n\nvar ObservablesEnum;\n(function (ObservablesEnum) {\n    ObservablesEnum[\"ClickObservable\"] = \"clickObservable\";\n    ObservablesEnum[\"ChangeObservable\"] = \"changeObservable\";\n    // ErrorObservable = 'errorObservable',\n    ObservablesEnum[\"NavigateObservable\"] = \"navigateObservable\";\n    ObservablesEnum[\"MutationObservable\"] = \"mutationObservable\";\n})(ObservablesEnum || (ObservablesEnum = {}));\n// Type predicate\nfunction isElementBasedEvent(event) {\n    return event.type === 'click' || event.type === 'change';\n}\nvar autocapturePlugin = function (options) {\n    var _a, _b, _c;\n    if (options === void 0) { options = {}; }\n    var _d = options.dataAttributePrefix, dataAttributePrefix = _d === void 0 ? _amplitude_analytics_core__WEBPACK_IMPORTED_MODULE_0__.DEFAULT_DATA_ATTRIBUTE_PREFIX : _d, _e = options.visualTaggingOptions, visualTaggingOptions = _e === void 0 ? {\n        enabled: true,\n        messenger: new _libs_messenger__WEBPACK_IMPORTED_MODULE_1__.WindowMessenger(),\n    } : _e;\n    options.cssSelectorAllowlist = (_a = options.cssSelectorAllowlist) !== null && _a !== void 0 ? _a : _amplitude_analytics_core__WEBPACK_IMPORTED_MODULE_0__.DEFAULT_CSS_SELECTOR_ALLOWLIST;\n    options.actionClickAllowlist = (_b = options.actionClickAllowlist) !== null && _b !== void 0 ? _b : _amplitude_analytics_core__WEBPACK_IMPORTED_MODULE_0__.DEFAULT_ACTION_CLICK_ALLOWLIST;\n    options.debounceTime = (_c = options.debounceTime) !== null && _c !== void 0 ? _c : 0; // TODO: update this when rage clicks are added to 1000ms\n    var name = _constants__WEBPACK_IMPORTED_MODULE_2__.PLUGIN_NAME;\n    var type = 'enrichment';\n    var subscriptions = [];\n    // Create observables on events on the window\n    var createObservables = function () {\n        var _a;\n        // Create Observables from direct user events\n        var clickObservable = (0,rxjs__WEBPACK_IMPORTED_MODULE_3__.fromEvent)(document, 'click', { capture: true }).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_4__.map)(function (click) { return addAdditionalEventProperties(click, 'click'); }), (0,rxjs__WEBPACK_IMPORTED_MODULE_5__.share)());\n        var changeObservable = (0,rxjs__WEBPACK_IMPORTED_MODULE_3__.fromEvent)(document, 'change', { capture: true }).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_4__.map)(function (change) { return addAdditionalEventProperties(change, 'change'); }), (0,rxjs__WEBPACK_IMPORTED_MODULE_5__.share)());\n        // Create Observable from unhandled errors\n        // const errorObservable = fromEvent<ErrorEvent>(window, 'error').pipe(\n        //   map((error) => addAdditionalEventProperties(error, 'error')),\n        // );\n        // Create observable for URL changes\n        var navigateObservable;\n        /* istanbul ignore next */\n        if (window.navigation) {\n            navigateObservable = (0,rxjs__WEBPACK_IMPORTED_MODULE_3__.fromEvent)(window.navigation, 'navigate').pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_4__.map)(function (navigate) { return addAdditionalEventProperties(navigate, 'navigate'); }), (0,rxjs__WEBPACK_IMPORTED_MODULE_5__.share)());\n        }\n        // Track DOM Mutations\n        var mutationObservable = new rxjs__WEBPACK_IMPORTED_MODULE_6__.Observable(function (observer) {\n            var mutationObserver = new MutationObserver(function (mutations) {\n                observer.next(mutations);\n            });\n            mutationObserver.observe(document.body, {\n                childList: true,\n                attributes: true,\n                characterData: true,\n                subtree: true,\n            });\n            return function () { return mutationObserver.disconnect(); };\n        }).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_4__.map)(function (mutation) { return addAdditionalEventProperties(mutation, 'mutation'); }), (0,rxjs__WEBPACK_IMPORTED_MODULE_5__.share)());\n        return _a = {},\n            _a[ObservablesEnum.ClickObservable] = clickObservable,\n            _a[ObservablesEnum.ChangeObservable] = changeObservable,\n            // [ObservablesEnum.ErrorObservable]: errorObservable,\n            _a[ObservablesEnum.NavigateObservable] = navigateObservable,\n            _a[ObservablesEnum.MutationObservable] = mutationObservable,\n            _a;\n    };\n    // Returns the Amplitude event properties for the given element.\n    var getEventProperties = function (actionType, element) {\n        var _a;\n        var _b, _c;\n        /* istanbul ignore next */\n        var tag = (_c = (_b = element === null || element === void 0 ? void 0 : element.tagName) === null || _b === void 0 ? void 0 : _b.toLowerCase) === null || _c === void 0 ? void 0 : _c.call(_b);\n        /* istanbul ignore next */\n        var rect = typeof element.getBoundingClientRect === 'function' ? element.getBoundingClientRect() : { left: null, top: null };\n        var ariaLabel = element.getAttribute('aria-label');\n        var attributes = (0,_helpers__WEBPACK_IMPORTED_MODULE_7__.getAttributesWithPrefix)(element, dataAttributePrefix);\n        var nearestLabel = (0,_helpers__WEBPACK_IMPORTED_MODULE_7__.getNearestLabel)(element);\n        /* istanbul ignore next */\n        var properties = (_a = {},\n            _a[_constants__WEBPACK_IMPORTED_MODULE_2__.AMPLITUDE_EVENT_PROP_ELEMENT_ID] = element.getAttribute('id') || '',\n            _a[_constants__WEBPACK_IMPORTED_MODULE_2__.AMPLITUDE_EVENT_PROP_ELEMENT_CLASS] = element.getAttribute('class'),\n            _a[_constants__WEBPACK_IMPORTED_MODULE_2__.AMPLITUDE_EVENT_PROP_ELEMENT_HIERARCHY] = (0,_hierarchy__WEBPACK_IMPORTED_MODULE_8__.getHierarchy)(element),\n            _a[_constants__WEBPACK_IMPORTED_MODULE_2__.AMPLITUDE_EVENT_PROP_ELEMENT_TAG] = tag,\n            _a[_constants__WEBPACK_IMPORTED_MODULE_2__.AMPLITUDE_EVENT_PROP_ELEMENT_TEXT] = (0,_helpers__WEBPACK_IMPORTED_MODULE_7__.getText)(element),\n            _a[_constants__WEBPACK_IMPORTED_MODULE_2__.AMPLITUDE_EVENT_PROP_ELEMENT_POSITION_LEFT] = rect.left == null ? null : Math.round(rect.left),\n            _a[_constants__WEBPACK_IMPORTED_MODULE_2__.AMPLITUDE_EVENT_PROP_ELEMENT_POSITION_TOP] = rect.top == null ? null : Math.round(rect.top),\n            _a[_constants__WEBPACK_IMPORTED_MODULE_2__.AMPLITUDE_EVENT_PROP_ELEMENT_ARIA_LABEL] = ariaLabel,\n            _a[_constants__WEBPACK_IMPORTED_MODULE_2__.AMPLITUDE_EVENT_PROP_ELEMENT_ATTRIBUTES] = attributes,\n            _a[_constants__WEBPACK_IMPORTED_MODULE_2__.AMPLITUDE_EVENT_PROP_ELEMENT_PARENT_LABEL] = nearestLabel,\n            _a[_constants__WEBPACK_IMPORTED_MODULE_2__.AMPLITUDE_EVENT_PROP_PAGE_URL] = window.location.href.split('?')[0],\n            _a[_constants__WEBPACK_IMPORTED_MODULE_2__.AMPLITUDE_EVENT_PROP_PAGE_TITLE] = (typeof document !== 'undefined' && document.title) || '',\n            _a[_constants__WEBPACK_IMPORTED_MODULE_2__.AMPLITUDE_EVENT_PROP_VIEWPORT_HEIGHT] = window.innerHeight,\n            _a[_constants__WEBPACK_IMPORTED_MODULE_2__.AMPLITUDE_EVENT_PROP_VIEWPORT_WIDTH] = window.innerWidth,\n            _a);\n        if (tag === 'a' && actionType === 'click' && element instanceof HTMLAnchorElement) {\n            properties[_constants__WEBPACK_IMPORTED_MODULE_2__.AMPLITUDE_EVENT_PROP_ELEMENT_HREF] = element.href;\n        }\n        return (0,_helpers__WEBPACK_IMPORTED_MODULE_7__.removeEmptyProperties)(properties);\n    };\n    var addAdditionalEventProperties = function (event, type) {\n        var baseEvent = {\n            event: event,\n            timestamp: Date.now(),\n            type: type,\n        };\n        if (isElementBasedEvent(baseEvent) && baseEvent.event.target !== null) {\n            // Retrieve additional event properties from the target element\n            var closestTrackedAncestor = (0,_helpers__WEBPACK_IMPORTED_MODULE_7__.getClosestElement)(baseEvent.event.target, options.cssSelectorAllowlist);\n            if (closestTrackedAncestor) {\n                baseEvent.closestTrackedAncestor = closestTrackedAncestor;\n                baseEvent.targetElementProperties = getEventProperties(baseEvent.type, closestTrackedAncestor);\n            }\n            return baseEvent;\n        }\n        return baseEvent;\n    };\n    var setup = function (config, amplitude) { return (0,tslib__WEBPACK_IMPORTED_MODULE_9__.__awaiter)(void 0, void 0, void 0, function () {\n        var shouldTrackEvent, shouldTrackActionClick, allObservables, clickTrackingSubscription, changeSubscription, actionClickSubscription, allowlist, actionClickAllowlist;\n        var _a, _b;\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_9__.__generator)(this, function (_c) {\n            /* istanbul ignore if */\n            if (typeof document === 'undefined') {\n                return [2 /*return*/];\n            }\n            shouldTrackEvent = (0,_helpers__WEBPACK_IMPORTED_MODULE_7__.createShouldTrackEvent)(options, options.cssSelectorAllowlist);\n            shouldTrackActionClick = (0,_helpers__WEBPACK_IMPORTED_MODULE_7__.createShouldTrackEvent)(options, options.actionClickAllowlist);\n            allObservables = createObservables();\n            clickTrackingSubscription = (0,_autocapture_track_click__WEBPACK_IMPORTED_MODULE_10__.trackClicks)({\n                allObservables: allObservables,\n                options: options,\n                amplitude: amplitude,\n                shouldTrackEvent: shouldTrackEvent,\n            });\n            subscriptions.push(clickTrackingSubscription);\n            changeSubscription = (0,_autocapture_track_change__WEBPACK_IMPORTED_MODULE_11__.trackChange)({\n                allObservables: allObservables,\n                getEventProperties: getEventProperties,\n                amplitude: amplitude,\n                shouldTrackEvent: shouldTrackEvent,\n            });\n            subscriptions.push(changeSubscription);\n            actionClickSubscription = (0,_autocapture_track_action_click__WEBPACK_IMPORTED_MODULE_12__.trackActionClick)({\n                allObservables: allObservables,\n                options: options,\n                getEventProperties: getEventProperties,\n                amplitude: amplitude,\n                shouldTrackEvent: shouldTrackEvent,\n                shouldTrackActionClick: shouldTrackActionClick,\n            });\n            subscriptions.push(actionClickSubscription);\n            /* istanbul ignore next */\n            (_a = config === null || config === void 0 ? void 0 : config.loggerProvider) === null || _a === void 0 ? void 0 : _a.log(\"\".concat(name, \" has been successfully added.\"));\n            // Setup visual tagging selector\n            if (window.opener && visualTaggingOptions.enabled) {\n                allowlist = options.cssSelectorAllowlist;\n                actionClickAllowlist = options.actionClickAllowlist;\n                /* istanbul ignore next */\n                (_b = visualTaggingOptions.messenger) === null || _b === void 0 ? void 0 : _b.setup((0,tslib__WEBPACK_IMPORTED_MODULE_9__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_9__.__assign)({ logger: config === null || config === void 0 ? void 0 : config.loggerProvider }, ((config === null || config === void 0 ? void 0 : config.serverZone) && { endpoint: _constants__WEBPACK_IMPORTED_MODULE_2__.AMPLITUDE_ORIGINS_MAP[config.serverZone] })), { isElementSelectable: (0,_helpers__WEBPACK_IMPORTED_MODULE_7__.createShouldTrackEvent)(options, (0,tslib__WEBPACK_IMPORTED_MODULE_9__.__spreadArray)((0,tslib__WEBPACK_IMPORTED_MODULE_9__.__spreadArray)([], (0,tslib__WEBPACK_IMPORTED_MODULE_9__.__read)(allowlist), false), (0,tslib__WEBPACK_IMPORTED_MODULE_9__.__read)(actionClickAllowlist), false)), cssSelectorAllowlist: allowlist, actionClickAllowlist: actionClickAllowlist }));\n            }\n            return [2 /*return*/];\n        });\n    }); };\n    var execute = function (event) { return (0,tslib__WEBPACK_IMPORTED_MODULE_9__.__awaiter)(void 0, void 0, void 0, function () {\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_9__.__generator)(this, function (_a) {\n            return [2 /*return*/, event];\n        });\n    }); };\n    var teardown = function () { return (0,tslib__WEBPACK_IMPORTED_MODULE_9__.__awaiter)(void 0, void 0, void 0, function () {\n        var subscriptions_1, subscriptions_1_1, subscription;\n        var e_1, _a;\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_9__.__generator)(this, function (_b) {\n            try {\n                for (subscriptions_1 = (0,tslib__WEBPACK_IMPORTED_MODULE_9__.__values)(subscriptions), subscriptions_1_1 = subscriptions_1.next(); !subscriptions_1_1.done; subscriptions_1_1 = subscriptions_1.next()) {\n                    subscription = subscriptions_1_1.value;\n                    subscription.unsubscribe();\n                }\n            }\n            catch (e_1_1) { e_1 = { error: e_1_1 }; }\n            finally {\n                try {\n                    if (subscriptions_1_1 && !subscriptions_1_1.done && (_a = subscriptions_1.return)) _a.call(subscriptions_1);\n                }\n                finally { if (e_1) throw e_1.error; }\n            }\n            return [2 /*return*/];\n        });\n    }); };\n    return {\n        name: name,\n        type: type,\n        setup: setup,\n        execute: execute,\n        teardown: teardown,\n    };\n};\n//# sourceMappingURL=autocapture-plugin.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGFtcGxpdHVkZStwbHVnaW4tYXV0b2NhcHR1cmUtYnJvd3NlckAxLjIuOC9ub2RlX21vZHVsZXMvQGFtcGxpdHVkZS9wbHVnaW4tYXV0b2NhcHR1cmUtYnJvd3Nlci9saWIvZXNtL2F1dG9jYXB0dXJlLXBsdWdpbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQTBGO0FBQzFGO0FBQzJJO0FBQ2xHO0FBQ2dCO0FBQ3dGO0FBQzlGO0FBQ1I7QUFDYTtBQUNDO0FBQ1c7QUFDN0Q7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLDBDQUEwQztBQUMzQztBQUNPO0FBQ1A7QUFDQTtBQUNPO0FBQ1A7QUFDQSw4QkFBOEI7QUFDOUIsZ0ZBQWdGLG9GQUE2QjtBQUM3RztBQUNBLHVCQUF1Qiw0REFBZTtBQUN0QyxNQUFNO0FBQ04sd0dBQXdHLHFGQUE4QjtBQUN0SSx3R0FBd0cscUZBQThCO0FBQ3RJLDJGQUEyRjtBQUMzRixlQUFlLG1EQUFxQjtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4QkFBOEIsK0NBQVMsc0JBQXNCLGVBQWUsT0FBTyx5Q0FBRyxvQkFBb0Isc0RBQXNELEdBQUcsMkNBQUs7QUFDeEssK0JBQStCLCtDQUFTLHVCQUF1QixlQUFlLE9BQU8seUNBQUcscUJBQXFCLHdEQUF3RCxHQUFHLDJDQUFLO0FBQzdLO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQ0FBaUMsK0NBQVMscUNBQXFDLHlDQUFHLHVCQUF1Qiw0REFBNEQsR0FBRywyQ0FBSztBQUM3SztBQUNBO0FBQ0EscUNBQXFDLDRDQUFVO0FBQy9DO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixpQ0FBaUM7QUFDakMsU0FBUyxPQUFPLHlDQUFHLHVCQUF1Qiw0REFBNEQsR0FBRywyQ0FBSztBQUM5RyxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZHQUE2RztBQUM3RztBQUNBLHlCQUF5QixpRUFBdUI7QUFDaEQsMkJBQTJCLHlEQUFlO0FBQzFDO0FBQ0EsaUNBQWlDO0FBQ2pDLGVBQWUsdUVBQXlDO0FBQ3hELGVBQWUsMEVBQTRDO0FBQzNELGVBQWUsOEVBQWdELElBQUksd0RBQVk7QUFDL0UsZUFBZSx3RUFBMEM7QUFDekQsZUFBZSx5RUFBMkMsSUFBSSxpREFBTztBQUNyRSxlQUFlLGtGQUFvRDtBQUNuRSxlQUFlLGlGQUFtRDtBQUNsRSxlQUFlLCtFQUFpRDtBQUNoRSxlQUFlLCtFQUFpRDtBQUNoRSxlQUFlLGlGQUFtRDtBQUNsRSxlQUFlLHFFQUF1QztBQUN0RCxlQUFlLHVFQUF5QztBQUN4RCxlQUFlLDRFQUE4QztBQUM3RCxlQUFlLDJFQUE2QztBQUM1RDtBQUNBO0FBQ0EsdUJBQXVCLHlFQUEyQztBQUNsRTtBQUNBLGVBQWUsK0RBQXFCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QywyREFBaUI7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLCtDQUErQyxPQUFPLGdEQUFTO0FBQy9EO0FBQ0E7QUFDQSxlQUFlLGtEQUFXO0FBQzFCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLGdFQUFzQjtBQUNyRCxxQ0FBcUMsZ0VBQXNCO0FBQzNEO0FBQ0Esd0NBQXdDLHNFQUFXO0FBQ25EO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsaUNBQWlDLHVFQUFXO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0Esc0NBQXNDLGtGQUFnQjtBQUN0RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9HQUFvRywrQ0FBUSxDQUFDLCtDQUFRLEdBQUcsK0VBQStFLDRFQUE0RSxVQUFVLDZEQUErQixxQkFBcUIsTUFBTSxxQkFBcUIsZ0VBQXNCLFVBQVUsb0RBQWEsQ0FBQyxvREFBYSxLQUFLLDZDQUFNLHFCQUFxQiw2Q0FBTSw4R0FBOEc7QUFDM2pCO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMLHFDQUFxQyxPQUFPLGdEQUFTO0FBQ3JELGVBQWUsa0RBQVc7QUFDMUI7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMLGlDQUFpQyxPQUFPLGdEQUFTO0FBQ2pEO0FBQ0E7QUFDQSxlQUFlLGtEQUFXO0FBQzFCO0FBQ0EsdUNBQXVDLCtDQUFRLDZEQUE2RCx5QkFBeUI7QUFDckk7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsUUFBUTtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0EsU0FBUztBQUNULEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9ob21lL2Jyb256ZS9jb2RpbmcvZnNha20vbm9kZV9tb2R1bGVzLy5wbnBtL0BhbXBsaXR1ZGUrcGx1Z2luLWF1dG9jYXB0dXJlLWJyb3dzZXJAMS4yLjgvbm9kZV9tb2R1bGVzL0BhbXBsaXR1ZGUvcGx1Z2luLWF1dG9jYXB0dXJlLWJyb3dzZXIvbGliL2VzbS9hdXRvY2FwdHVyZS1wbHVnaW4uanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgX19hc3NpZ24sIF9fYXdhaXRlciwgX19nZW5lcmF0b3IsIF9fcmVhZCwgX19zcHJlYWRBcnJheSwgX192YWx1ZXMgfSBmcm9tIFwidHNsaWJcIjtcbi8qIGVzbGludC1kaXNhYmxlIG5vLXJlc3RyaWN0ZWQtZ2xvYmFscyAqL1xuaW1wb3J0IHsgREVGQVVMVF9DU1NfU0VMRUNUT1JfQUxMT1dMSVNULCBERUZBVUxUX0RBVEFfQVRUUklCVVRFX1BSRUZJWCwgREVGQVVMVF9BQ1RJT05fQ0xJQ0tfQUxMT1dMSVNULCB9IGZyb20gJ0BhbXBsaXR1ZGUvYW5hbHl0aWNzLWNvcmUnO1xuaW1wb3J0ICogYXMgY29uc3RhbnRzIGZyb20gJy4vY29uc3RhbnRzJztcbmltcG9ydCB7IGZyb21FdmVudCwgbWFwLCBPYnNlcnZhYmxlLCBzaGFyZSB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgZ2V0VGV4dCwgZ2V0QXR0cmlidXRlc1dpdGhQcmVmaXgsIHJlbW92ZUVtcHR5UHJvcGVydGllcywgZ2V0TmVhcmVzdExhYmVsLCBjcmVhdGVTaG91bGRUcmFja0V2ZW50LCBnZXRDbG9zZXN0RWxlbWVudCwgfSBmcm9tICcuL2hlbHBlcnMnO1xuaW1wb3J0IHsgV2luZG93TWVzc2VuZ2VyIH0gZnJvbSAnLi9saWJzL21lc3Nlbmdlcic7XG5pbXBvcnQgeyBnZXRIaWVyYXJjaHkgfSBmcm9tICcuL2hpZXJhcmNoeSc7XG5pbXBvcnQgeyB0cmFja0NsaWNrcyB9IGZyb20gJy4vYXV0b2NhcHR1cmUvdHJhY2stY2xpY2snO1xuaW1wb3J0IHsgdHJhY2tDaGFuZ2UgfSBmcm9tICcuL2F1dG9jYXB0dXJlL3RyYWNrLWNoYW5nZSc7XG5pbXBvcnQgeyB0cmFja0FjdGlvbkNsaWNrIH0gZnJvbSAnLi9hdXRvY2FwdHVyZS90cmFjay1hY3Rpb24tY2xpY2snO1xuZXhwb3J0IHZhciBPYnNlcnZhYmxlc0VudW07XG4oZnVuY3Rpb24gKE9ic2VydmFibGVzRW51bSkge1xuICAgIE9ic2VydmFibGVzRW51bVtcIkNsaWNrT2JzZXJ2YWJsZVwiXSA9IFwiY2xpY2tPYnNlcnZhYmxlXCI7XG4gICAgT2JzZXJ2YWJsZXNFbnVtW1wiQ2hhbmdlT2JzZXJ2YWJsZVwiXSA9IFwiY2hhbmdlT2JzZXJ2YWJsZVwiO1xuICAgIC8vIEVycm9yT2JzZXJ2YWJsZSA9ICdlcnJvck9ic2VydmFibGUnLFxuICAgIE9ic2VydmFibGVzRW51bVtcIk5hdmlnYXRlT2JzZXJ2YWJsZVwiXSA9IFwibmF2aWdhdGVPYnNlcnZhYmxlXCI7XG4gICAgT2JzZXJ2YWJsZXNFbnVtW1wiTXV0YXRpb25PYnNlcnZhYmxlXCJdID0gXCJtdXRhdGlvbk9ic2VydmFibGVcIjtcbn0pKE9ic2VydmFibGVzRW51bSB8fCAoT2JzZXJ2YWJsZXNFbnVtID0ge30pKTtcbi8vIFR5cGUgcHJlZGljYXRlXG5leHBvcnQgZnVuY3Rpb24gaXNFbGVtZW50QmFzZWRFdmVudChldmVudCkge1xuICAgIHJldHVybiBldmVudC50eXBlID09PSAnY2xpY2snIHx8IGV2ZW50LnR5cGUgPT09ICdjaGFuZ2UnO1xufVxuZXhwb3J0IHZhciBhdXRvY2FwdHVyZVBsdWdpbiA9IGZ1bmN0aW9uIChvcHRpb25zKSB7XG4gICAgdmFyIF9hLCBfYiwgX2M7XG4gICAgaWYgKG9wdGlvbnMgPT09IHZvaWQgMCkgeyBvcHRpb25zID0ge307IH1cbiAgICB2YXIgX2QgPSBvcHRpb25zLmRhdGFBdHRyaWJ1dGVQcmVmaXgsIGRhdGFBdHRyaWJ1dGVQcmVmaXggPSBfZCA9PT0gdm9pZCAwID8gREVGQVVMVF9EQVRBX0FUVFJJQlVURV9QUkVGSVggOiBfZCwgX2UgPSBvcHRpb25zLnZpc3VhbFRhZ2dpbmdPcHRpb25zLCB2aXN1YWxUYWdnaW5nT3B0aW9ucyA9IF9lID09PSB2b2lkIDAgPyB7XG4gICAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICAgIG1lc3NlbmdlcjogbmV3IFdpbmRvd01lc3NlbmdlcigpLFxuICAgIH0gOiBfZTtcbiAgICBvcHRpb25zLmNzc1NlbGVjdG9yQWxsb3dsaXN0ID0gKF9hID0gb3B0aW9ucy5jc3NTZWxlY3RvckFsbG93bGlzdCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogREVGQVVMVF9DU1NfU0VMRUNUT1JfQUxMT1dMSVNUO1xuICAgIG9wdGlvbnMuYWN0aW9uQ2xpY2tBbGxvd2xpc3QgPSAoX2IgPSBvcHRpb25zLmFjdGlvbkNsaWNrQWxsb3dsaXN0KSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBERUZBVUxUX0FDVElPTl9DTElDS19BTExPV0xJU1Q7XG4gICAgb3B0aW9ucy5kZWJvdW5jZVRpbWUgPSAoX2MgPSBvcHRpb25zLmRlYm91bmNlVGltZSkgIT09IG51bGwgJiYgX2MgIT09IHZvaWQgMCA/IF9jIDogMDsgLy8gVE9ETzogdXBkYXRlIHRoaXMgd2hlbiByYWdlIGNsaWNrcyBhcmUgYWRkZWQgdG8gMTAwMG1zXG4gICAgdmFyIG5hbWUgPSBjb25zdGFudHMuUExVR0lOX05BTUU7XG4gICAgdmFyIHR5cGUgPSAnZW5yaWNobWVudCc7XG4gICAgdmFyIHN1YnNjcmlwdGlvbnMgPSBbXTtcbiAgICAvLyBDcmVhdGUgb2JzZXJ2YWJsZXMgb24gZXZlbnRzIG9uIHRoZSB3aW5kb3dcbiAgICB2YXIgY3JlYXRlT2JzZXJ2YWJsZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgLy8gQ3JlYXRlIE9ic2VydmFibGVzIGZyb20gZGlyZWN0IHVzZXIgZXZlbnRzXG4gICAgICAgIHZhciBjbGlja09ic2VydmFibGUgPSBmcm9tRXZlbnQoZG9jdW1lbnQsICdjbGljaycsIHsgY2FwdHVyZTogdHJ1ZSB9KS5waXBlKG1hcChmdW5jdGlvbiAoY2xpY2spIHsgcmV0dXJuIGFkZEFkZGl0aW9uYWxFdmVudFByb3BlcnRpZXMoY2xpY2ssICdjbGljaycpOyB9KSwgc2hhcmUoKSk7XG4gICAgICAgIHZhciBjaGFuZ2VPYnNlcnZhYmxlID0gZnJvbUV2ZW50KGRvY3VtZW50LCAnY2hhbmdlJywgeyBjYXB0dXJlOiB0cnVlIH0pLnBpcGUobWFwKGZ1bmN0aW9uIChjaGFuZ2UpIHsgcmV0dXJuIGFkZEFkZGl0aW9uYWxFdmVudFByb3BlcnRpZXMoY2hhbmdlLCAnY2hhbmdlJyk7IH0pLCBzaGFyZSgpKTtcbiAgICAgICAgLy8gQ3JlYXRlIE9ic2VydmFibGUgZnJvbSB1bmhhbmRsZWQgZXJyb3JzXG4gICAgICAgIC8vIGNvbnN0IGVycm9yT2JzZXJ2YWJsZSA9IGZyb21FdmVudDxFcnJvckV2ZW50Pih3aW5kb3csICdlcnJvcicpLnBpcGUoXG4gICAgICAgIC8vICAgbWFwKChlcnJvcikgPT4gYWRkQWRkaXRpb25hbEV2ZW50UHJvcGVydGllcyhlcnJvciwgJ2Vycm9yJykpLFxuICAgICAgICAvLyApO1xuICAgICAgICAvLyBDcmVhdGUgb2JzZXJ2YWJsZSBmb3IgVVJMIGNoYW5nZXNcbiAgICAgICAgdmFyIG5hdmlnYXRlT2JzZXJ2YWJsZTtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgaWYgKHdpbmRvdy5uYXZpZ2F0aW9uKSB7XG4gICAgICAgICAgICBuYXZpZ2F0ZU9ic2VydmFibGUgPSBmcm9tRXZlbnQod2luZG93Lm5hdmlnYXRpb24sICduYXZpZ2F0ZScpLnBpcGUobWFwKGZ1bmN0aW9uIChuYXZpZ2F0ZSkgeyByZXR1cm4gYWRkQWRkaXRpb25hbEV2ZW50UHJvcGVydGllcyhuYXZpZ2F0ZSwgJ25hdmlnYXRlJyk7IH0pLCBzaGFyZSgpKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUcmFjayBET00gTXV0YXRpb25zXG4gICAgICAgIHZhciBtdXRhdGlvbk9ic2VydmFibGUgPSBuZXcgT2JzZXJ2YWJsZShmdW5jdGlvbiAob2JzZXJ2ZXIpIHtcbiAgICAgICAgICAgIHZhciBtdXRhdGlvbk9ic2VydmVyID0gbmV3IE11dGF0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24gKG11dGF0aW9ucykge1xuICAgICAgICAgICAgICAgIG9ic2VydmVyLm5leHQobXV0YXRpb25zKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbXV0YXRpb25PYnNlcnZlci5vYnNlcnZlKGRvY3VtZW50LmJvZHksIHtcbiAgICAgICAgICAgICAgICBjaGlsZExpc3Q6IHRydWUsXG4gICAgICAgICAgICAgICAgYXR0cmlidXRlczogdHJ1ZSxcbiAgICAgICAgICAgICAgICBjaGFyYWN0ZXJEYXRhOiB0cnVlLFxuICAgICAgICAgICAgICAgIHN1YnRyZWU6IHRydWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7IHJldHVybiBtdXRhdGlvbk9ic2VydmVyLmRpc2Nvbm5lY3QoKTsgfTtcbiAgICAgICAgfSkucGlwZShtYXAoZnVuY3Rpb24gKG11dGF0aW9uKSB7IHJldHVybiBhZGRBZGRpdGlvbmFsRXZlbnRQcm9wZXJ0aWVzKG11dGF0aW9uLCAnbXV0YXRpb24nKTsgfSksIHNoYXJlKCkpO1xuICAgICAgICByZXR1cm4gX2EgPSB7fSxcbiAgICAgICAgICAgIF9hW09ic2VydmFibGVzRW51bS5DbGlja09ic2VydmFibGVdID0gY2xpY2tPYnNlcnZhYmxlLFxuICAgICAgICAgICAgX2FbT2JzZXJ2YWJsZXNFbnVtLkNoYW5nZU9ic2VydmFibGVdID0gY2hhbmdlT2JzZXJ2YWJsZSxcbiAgICAgICAgICAgIC8vIFtPYnNlcnZhYmxlc0VudW0uRXJyb3JPYnNlcnZhYmxlXTogZXJyb3JPYnNlcnZhYmxlLFxuICAgICAgICAgICAgX2FbT2JzZXJ2YWJsZXNFbnVtLk5hdmlnYXRlT2JzZXJ2YWJsZV0gPSBuYXZpZ2F0ZU9ic2VydmFibGUsXG4gICAgICAgICAgICBfYVtPYnNlcnZhYmxlc0VudW0uTXV0YXRpb25PYnNlcnZhYmxlXSA9IG11dGF0aW9uT2JzZXJ2YWJsZSxcbiAgICAgICAgICAgIF9hO1xuICAgIH07XG4gICAgLy8gUmV0dXJucyB0aGUgQW1wbGl0dWRlIGV2ZW50IHByb3BlcnRpZXMgZm9yIHRoZSBnaXZlbiBlbGVtZW50LlxuICAgIHZhciBnZXRFdmVudFByb3BlcnRpZXMgPSBmdW5jdGlvbiAoYWN0aW9uVHlwZSwgZWxlbWVudCkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHZhciBfYiwgX2M7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgIHZhciB0YWcgPSAoX2MgPSAoX2IgPSBlbGVtZW50ID09PSBudWxsIHx8IGVsZW1lbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGVsZW1lbnQudGFnTmFtZSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnRvTG93ZXJDYXNlKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuY2FsbChfYik7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgIHZhciByZWN0ID0gdHlwZW9mIGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0ID09PSAnZnVuY3Rpb24nID8gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSA6IHsgbGVmdDogbnVsbCwgdG9wOiBudWxsIH07XG4gICAgICAgIHZhciBhcmlhTGFiZWwgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcpO1xuICAgICAgICB2YXIgYXR0cmlidXRlcyA9IGdldEF0dHJpYnV0ZXNXaXRoUHJlZml4KGVsZW1lbnQsIGRhdGFBdHRyaWJ1dGVQcmVmaXgpO1xuICAgICAgICB2YXIgbmVhcmVzdExhYmVsID0gZ2V0TmVhcmVzdExhYmVsKGVsZW1lbnQpO1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICB2YXIgcHJvcGVydGllcyA9IChfYSA9IHt9LFxuICAgICAgICAgICAgX2FbY29uc3RhbnRzLkFNUExJVFVERV9FVkVOVF9QUk9QX0VMRU1FTlRfSURdID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2lkJykgfHwgJycsXG4gICAgICAgICAgICBfYVtjb25zdGFudHMuQU1QTElUVURFX0VWRU5UX1BST1BfRUxFTUVOVF9DTEFTU10gPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnY2xhc3MnKSxcbiAgICAgICAgICAgIF9hW2NvbnN0YW50cy5BTVBMSVRVREVfRVZFTlRfUFJPUF9FTEVNRU5UX0hJRVJBUkNIWV0gPSBnZXRIaWVyYXJjaHkoZWxlbWVudCksXG4gICAgICAgICAgICBfYVtjb25zdGFudHMuQU1QTElUVURFX0VWRU5UX1BST1BfRUxFTUVOVF9UQUddID0gdGFnLFxuICAgICAgICAgICAgX2FbY29uc3RhbnRzLkFNUExJVFVERV9FVkVOVF9QUk9QX0VMRU1FTlRfVEVYVF0gPSBnZXRUZXh0KGVsZW1lbnQpLFxuICAgICAgICAgICAgX2FbY29uc3RhbnRzLkFNUExJVFVERV9FVkVOVF9QUk9QX0VMRU1FTlRfUE9TSVRJT05fTEVGVF0gPSByZWN0LmxlZnQgPT0gbnVsbCA/IG51bGwgOiBNYXRoLnJvdW5kKHJlY3QubGVmdCksXG4gICAgICAgICAgICBfYVtjb25zdGFudHMuQU1QTElUVURFX0VWRU5UX1BST1BfRUxFTUVOVF9QT1NJVElPTl9UT1BdID0gcmVjdC50b3AgPT0gbnVsbCA/IG51bGwgOiBNYXRoLnJvdW5kKHJlY3QudG9wKSxcbiAgICAgICAgICAgIF9hW2NvbnN0YW50cy5BTVBMSVRVREVfRVZFTlRfUFJPUF9FTEVNRU5UX0FSSUFfTEFCRUxdID0gYXJpYUxhYmVsLFxuICAgICAgICAgICAgX2FbY29uc3RhbnRzLkFNUExJVFVERV9FVkVOVF9QUk9QX0VMRU1FTlRfQVRUUklCVVRFU10gPSBhdHRyaWJ1dGVzLFxuICAgICAgICAgICAgX2FbY29uc3RhbnRzLkFNUExJVFVERV9FVkVOVF9QUk9QX0VMRU1FTlRfUEFSRU5UX0xBQkVMXSA9IG5lYXJlc3RMYWJlbCxcbiAgICAgICAgICAgIF9hW2NvbnN0YW50cy5BTVBMSVRVREVfRVZFTlRfUFJPUF9QQUdFX1VSTF0gPSB3aW5kb3cubG9jYXRpb24uaHJlZi5zcGxpdCgnPycpWzBdLFxuICAgICAgICAgICAgX2FbY29uc3RhbnRzLkFNUExJVFVERV9FVkVOVF9QUk9QX1BBR0VfVElUTEVdID0gKHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCcgJiYgZG9jdW1lbnQudGl0bGUpIHx8ICcnLFxuICAgICAgICAgICAgX2FbY29uc3RhbnRzLkFNUExJVFVERV9FVkVOVF9QUk9QX1ZJRVdQT1JUX0hFSUdIVF0gPSB3aW5kb3cuaW5uZXJIZWlnaHQsXG4gICAgICAgICAgICBfYVtjb25zdGFudHMuQU1QTElUVURFX0VWRU5UX1BST1BfVklFV1BPUlRfV0lEVEhdID0gd2luZG93LmlubmVyV2lkdGgsXG4gICAgICAgICAgICBfYSk7XG4gICAgICAgIGlmICh0YWcgPT09ICdhJyAmJiBhY3Rpb25UeXBlID09PSAnY2xpY2snICYmIGVsZW1lbnQgaW5zdGFuY2VvZiBIVE1MQW5jaG9yRWxlbWVudCkge1xuICAgICAgICAgICAgcHJvcGVydGllc1tjb25zdGFudHMuQU1QTElUVURFX0VWRU5UX1BST1BfRUxFTUVOVF9IUkVGXSA9IGVsZW1lbnQuaHJlZjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVtb3ZlRW1wdHlQcm9wZXJ0aWVzKHByb3BlcnRpZXMpO1xuICAgIH07XG4gICAgdmFyIGFkZEFkZGl0aW9uYWxFdmVudFByb3BlcnRpZXMgPSBmdW5jdGlvbiAoZXZlbnQsIHR5cGUpIHtcbiAgICAgICAgdmFyIGJhc2VFdmVudCA9IHtcbiAgICAgICAgICAgIGV2ZW50OiBldmVudCxcbiAgICAgICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgIH07XG4gICAgICAgIGlmIChpc0VsZW1lbnRCYXNlZEV2ZW50KGJhc2VFdmVudCkgJiYgYmFzZUV2ZW50LmV2ZW50LnRhcmdldCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gUmV0cmlldmUgYWRkaXRpb25hbCBldmVudCBwcm9wZXJ0aWVzIGZyb20gdGhlIHRhcmdldCBlbGVtZW50XG4gICAgICAgICAgICB2YXIgY2xvc2VzdFRyYWNrZWRBbmNlc3RvciA9IGdldENsb3Nlc3RFbGVtZW50KGJhc2VFdmVudC5ldmVudC50YXJnZXQsIG9wdGlvbnMuY3NzU2VsZWN0b3JBbGxvd2xpc3QpO1xuICAgICAgICAgICAgaWYgKGNsb3Nlc3RUcmFja2VkQW5jZXN0b3IpIHtcbiAgICAgICAgICAgICAgICBiYXNlRXZlbnQuY2xvc2VzdFRyYWNrZWRBbmNlc3RvciA9IGNsb3Nlc3RUcmFja2VkQW5jZXN0b3I7XG4gICAgICAgICAgICAgICAgYmFzZUV2ZW50LnRhcmdldEVsZW1lbnRQcm9wZXJ0aWVzID0gZ2V0RXZlbnRQcm9wZXJ0aWVzKGJhc2VFdmVudC50eXBlLCBjbG9zZXN0VHJhY2tlZEFuY2VzdG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBiYXNlRXZlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJhc2VFdmVudDtcbiAgICB9O1xuICAgIHZhciBzZXR1cCA9IGZ1bmN0aW9uIChjb25maWcsIGFtcGxpdHVkZSkgeyByZXR1cm4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNob3VsZFRyYWNrRXZlbnQsIHNob3VsZFRyYWNrQWN0aW9uQ2xpY2ssIGFsbE9ic2VydmFibGVzLCBjbGlja1RyYWNraW5nU3Vic2NyaXB0aW9uLCBjaGFuZ2VTdWJzY3JpcHRpb24sIGFjdGlvbkNsaWNrU3Vic2NyaXB0aW9uLCBhbGxvd2xpc3QsIGFjdGlvbkNsaWNrQWxsb3dsaXN0O1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9jKSB7XG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2hvdWxkVHJhY2tFdmVudCA9IGNyZWF0ZVNob3VsZFRyYWNrRXZlbnQob3B0aW9ucywgb3B0aW9ucy5jc3NTZWxlY3RvckFsbG93bGlzdCk7XG4gICAgICAgICAgICBzaG91bGRUcmFja0FjdGlvbkNsaWNrID0gY3JlYXRlU2hvdWxkVHJhY2tFdmVudChvcHRpb25zLCBvcHRpb25zLmFjdGlvbkNsaWNrQWxsb3dsaXN0KTtcbiAgICAgICAgICAgIGFsbE9ic2VydmFibGVzID0gY3JlYXRlT2JzZXJ2YWJsZXMoKTtcbiAgICAgICAgICAgIGNsaWNrVHJhY2tpbmdTdWJzY3JpcHRpb24gPSB0cmFja0NsaWNrcyh7XG4gICAgICAgICAgICAgICAgYWxsT2JzZXJ2YWJsZXM6IGFsbE9ic2VydmFibGVzLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IG9wdGlvbnMsXG4gICAgICAgICAgICAgICAgYW1wbGl0dWRlOiBhbXBsaXR1ZGUsXG4gICAgICAgICAgICAgICAgc2hvdWxkVHJhY2tFdmVudDogc2hvdWxkVHJhY2tFdmVudCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc3Vic2NyaXB0aW9ucy5wdXNoKGNsaWNrVHJhY2tpbmdTdWJzY3JpcHRpb24pO1xuICAgICAgICAgICAgY2hhbmdlU3Vic2NyaXB0aW9uID0gdHJhY2tDaGFuZ2Uoe1xuICAgICAgICAgICAgICAgIGFsbE9ic2VydmFibGVzOiBhbGxPYnNlcnZhYmxlcyxcbiAgICAgICAgICAgICAgICBnZXRFdmVudFByb3BlcnRpZXM6IGdldEV2ZW50UHJvcGVydGllcyxcbiAgICAgICAgICAgICAgICBhbXBsaXR1ZGU6IGFtcGxpdHVkZSxcbiAgICAgICAgICAgICAgICBzaG91bGRUcmFja0V2ZW50OiBzaG91bGRUcmFja0V2ZW50LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzdWJzY3JpcHRpb25zLnB1c2goY2hhbmdlU3Vic2NyaXB0aW9uKTtcbiAgICAgICAgICAgIGFjdGlvbkNsaWNrU3Vic2NyaXB0aW9uID0gdHJhY2tBY3Rpb25DbGljayh7XG4gICAgICAgICAgICAgICAgYWxsT2JzZXJ2YWJsZXM6IGFsbE9ic2VydmFibGVzLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IG9wdGlvbnMsXG4gICAgICAgICAgICAgICAgZ2V0RXZlbnRQcm9wZXJ0aWVzOiBnZXRFdmVudFByb3BlcnRpZXMsXG4gICAgICAgICAgICAgICAgYW1wbGl0dWRlOiBhbXBsaXR1ZGUsXG4gICAgICAgICAgICAgICAgc2hvdWxkVHJhY2tFdmVudDogc2hvdWxkVHJhY2tFdmVudCxcbiAgICAgICAgICAgICAgICBzaG91bGRUcmFja0FjdGlvbkNsaWNrOiBzaG91bGRUcmFja0FjdGlvbkNsaWNrLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzdWJzY3JpcHRpb25zLnB1c2goYWN0aW9uQ2xpY2tTdWJzY3JpcHRpb24pO1xuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgICAgIChfYSA9IGNvbmZpZyA9PT0gbnVsbCB8fCBjb25maWcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGNvbmZpZy5sb2dnZXJQcm92aWRlcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmxvZyhcIlwiLmNvbmNhdChuYW1lLCBcIiBoYXMgYmVlbiBzdWNjZXNzZnVsbHkgYWRkZWQuXCIpKTtcbiAgICAgICAgICAgIC8vIFNldHVwIHZpc3VhbCB0YWdnaW5nIHNlbGVjdG9yXG4gICAgICAgICAgICBpZiAod2luZG93Lm9wZW5lciAmJiB2aXN1YWxUYWdnaW5nT3B0aW9ucy5lbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgYWxsb3dsaXN0ID0gb3B0aW9ucy5jc3NTZWxlY3RvckFsbG93bGlzdDtcbiAgICAgICAgICAgICAgICBhY3Rpb25DbGlja0FsbG93bGlzdCA9IG9wdGlvbnMuYWN0aW9uQ2xpY2tBbGxvd2xpc3Q7XG4gICAgICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgICAgICAgICAoX2IgPSB2aXN1YWxUYWdnaW5nT3B0aW9ucy5tZXNzZW5nZXIpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5zZXR1cChfX2Fzc2lnbihfX2Fzc2lnbih7IGxvZ2dlcjogY29uZmlnID09PSBudWxsIHx8IGNvbmZpZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogY29uZmlnLmxvZ2dlclByb3ZpZGVyIH0sICgoY29uZmlnID09PSBudWxsIHx8IGNvbmZpZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogY29uZmlnLnNlcnZlclpvbmUpICYmIHsgZW5kcG9pbnQ6IGNvbnN0YW50cy5BTVBMSVRVREVfT1JJR0lOU19NQVBbY29uZmlnLnNlcnZlclpvbmVdIH0pKSwgeyBpc0VsZW1lbnRTZWxlY3RhYmxlOiBjcmVhdGVTaG91bGRUcmFja0V2ZW50KG9wdGlvbnMsIF9fc3ByZWFkQXJyYXkoX19zcHJlYWRBcnJheShbXSwgX19yZWFkKGFsbG93bGlzdCksIGZhbHNlKSwgX19yZWFkKGFjdGlvbkNsaWNrQWxsb3dsaXN0KSwgZmFsc2UpKSwgY3NzU2VsZWN0b3JBbGxvd2xpc3Q6IGFsbG93bGlzdCwgYWN0aW9uQ2xpY2tBbGxvd2xpc3Q6IGFjdGlvbkNsaWNrQWxsb3dsaXN0IH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgfSk7XG4gICAgfSk7IH07XG4gICAgdmFyIGV4ZWN1dGUgPSBmdW5jdGlvbiAoZXZlbnQpIHsgcmV0dXJuIF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBldmVudF07XG4gICAgICAgIH0pO1xuICAgIH0pOyB9O1xuICAgIHZhciB0ZWFyZG93biA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF9fYXdhaXRlcih2b2lkIDAsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzdWJzY3JpcHRpb25zXzEsIHN1YnNjcmlwdGlvbnNfMV8xLCBzdWJzY3JpcHRpb247XG4gICAgICAgIHZhciBlXzEsIF9hO1xuICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9iKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGZvciAoc3Vic2NyaXB0aW9uc18xID0gX192YWx1ZXMoc3Vic2NyaXB0aW9ucyksIHN1YnNjcmlwdGlvbnNfMV8xID0gc3Vic2NyaXB0aW9uc18xLm5leHQoKTsgIXN1YnNjcmlwdGlvbnNfMV8xLmRvbmU7IHN1YnNjcmlwdGlvbnNfMV8xID0gc3Vic2NyaXB0aW9uc18xLm5leHQoKSkge1xuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpcHRpb24gPSBzdWJzY3JpcHRpb25zXzFfMS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzdWJzY3JpcHRpb25zXzFfMSAmJiAhc3Vic2NyaXB0aW9uc18xXzEuZG9uZSAmJiAoX2EgPSBzdWJzY3JpcHRpb25zXzEucmV0dXJuKSkgX2EuY2FsbChzdWJzY3JpcHRpb25zXzEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgIH0pO1xuICAgIH0pOyB9O1xuICAgIHJldHVybiB7XG4gICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgIHR5cGU6IHR5cGUsXG4gICAgICAgIHNldHVwOiBzZXR1cCxcbiAgICAgICAgZXhlY3V0ZTogZXhlY3V0ZSxcbiAgICAgICAgdGVhcmRvd246IHRlYXJkb3duLFxuICAgIH07XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXV0b2NhcHR1cmUtcGx1Z2luLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@amplitude+plugin-autocapture-browser@1.2.8/node_modules/@amplitude/plugin-autocapture-browser/lib/esm/autocapture-plugin.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@amplitude+plugin-autocapture-browser@1.2.8/node_modules/@amplitude/plugin-autocapture-browser/lib/esm/autocapture/track-action-click.js":
/*!*********************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@amplitude+plugin-autocapture-browser@1.2.8/node_modules/@amplitude/plugin-autocapture-browser/lib/esm/autocapture/track-action-click.js ***!
  \*********************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   trackActionClick: () => (/* binding */ trackActionClick)\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! tslib */ \"(ssr)/./node_modules/.pnpm/tslib@2.8.1/node_modules/tslib/tslib.es6.mjs\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! rxjs */ \"(ssr)/./node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/dist/esm5/internal/operators/filter.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ \"(ssr)/./node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/dist/esm5/internal/operators/map.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs */ \"(ssr)/./node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/dist/esm5/internal/observable/merge.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs */ \"(ssr)/./node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/dist/esm5/internal/operators/switchMap.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! rxjs */ \"(ssr)/./node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/dist/esm5/internal/operators/take.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! rxjs */ \"(ssr)/./node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/dist/esm5/internal/operators/timeout.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! rxjs */ \"(ssr)/./node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/dist/esm5/internal/observable/empty.js\");\n/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../helpers */ \"(ssr)/./node_modules/.pnpm/@amplitude+plugin-autocapture-browser@1.2.8/node_modules/@amplitude/plugin-autocapture-browser/lib/esm/helpers.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../constants */ \"(ssr)/./node_modules/.pnpm/@amplitude+plugin-autocapture-browser@1.2.8/node_modules/@amplitude/plugin-autocapture-browser/lib/esm/constants.js\");\n\n\n\n\nfunction trackActionClick(_a) {\n    var amplitude = _a.amplitude, allObservables = _a.allObservables, options = _a.options, getEventProperties = _a.getEventProperties, shouldTrackEvent = _a.shouldTrackEvent, shouldTrackActionClick = _a.shouldTrackActionClick;\n    var clickObservable = allObservables.clickObservable, mutationObservable = allObservables.mutationObservable, navigateObservable = allObservables.navigateObservable;\n    var filteredClickObservable = clickObservable.pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_0__.filter)(function (click) {\n        // Filter out regularly tracked click events that are already handled in trackClicks\n        return !shouldTrackEvent('click', click.closestTrackedAncestor);\n    }), (0,rxjs__WEBPACK_IMPORTED_MODULE_1__.map)(function (click) {\n        // overwrite the closestTrackedAncestor with the closest element that is on the actionClickAllowlist\n        var closestActionClickEl = (0,_helpers__WEBPACK_IMPORTED_MODULE_2__.getClosestElement)(click.event.target, options.actionClickAllowlist);\n        click.closestTrackedAncestor = closestActionClickEl;\n        // overwrite the targetElementProperties with the properties of the closestActionClickEl\n        if (click.closestTrackedAncestor !== null) {\n            click.targetElementProperties = getEventProperties(click.type, click.closestTrackedAncestor);\n        }\n        return click;\n    }), (0,rxjs__WEBPACK_IMPORTED_MODULE_0__.filter)(_helpers__WEBPACK_IMPORTED_MODULE_2__.filterOutNonTrackableEvents), (0,rxjs__WEBPACK_IMPORTED_MODULE_0__.filter)(function (clickEvent) {\n        // Only track change on elements that should be tracked\n        return shouldTrackActionClick('click', clickEvent.closestTrackedAncestor);\n    }));\n    var changeObservables = [mutationObservable];\n    /* istanbul ignore next */\n    if (navigateObservable) {\n        changeObservables.push(navigateObservable);\n    }\n    var mutationOrNavigate = rxjs__WEBPACK_IMPORTED_MODULE_3__.merge.apply(void 0, (0,tslib__WEBPACK_IMPORTED_MODULE_4__.__spreadArray)([], (0,tslib__WEBPACK_IMPORTED_MODULE_4__.__read)(changeObservables), false));\n    var actionClicks = filteredClickObservable.pipe(\n    // If a mutation occurs within 0.5 seconds of a click event (timeout({ first: 500 })), it emits the original first click event.\n    // take 1 to only limit the action events in case there are multiple\n    (0,rxjs__WEBPACK_IMPORTED_MODULE_5__.switchMap)(function (click) {\n        return mutationOrNavigate.pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.take)(1), (0,rxjs__WEBPACK_IMPORTED_MODULE_7__.timeout)({ first: 500, with: function () { return rxjs__WEBPACK_IMPORTED_MODULE_8__.EMPTY; } }), // in case of timeout, map to empty to prevent any click from being emitted\n        (0,rxjs__WEBPACK_IMPORTED_MODULE_1__.map)(function () { return click; }));\n    }));\n    return actionClicks.subscribe(function (actionClick) {\n        /* istanbul ignore next */\n        amplitude === null || amplitude === void 0 ? void 0 : amplitude.track(_constants__WEBPACK_IMPORTED_MODULE_9__.AMPLITUDE_ELEMENT_CLICKED_EVENT, getEventProperties('click', actionClick.closestTrackedAncestor));\n    });\n}\n//# sourceMappingURL=track-action-click.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGFtcGxpdHVkZStwbHVnaW4tYXV0b2NhcHR1cmUtYnJvd3NlckAxLjIuOC9ub2RlX21vZHVsZXMvQGFtcGxpdHVkZS9wbHVnaW4tYXV0b2NhcHR1cmUtYnJvd3Nlci9saWIvZXNtL2F1dG9jYXB0dXJlL3RyYWNrLWFjdGlvbi1jbGljay5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUE4QztBQUM2QjtBQUNDO0FBQ2I7QUFDeEQ7QUFDUDtBQUNBO0FBQ0EsdURBQXVELDRDQUFNO0FBQzdEO0FBQ0E7QUFDQSxLQUFLLEdBQUcseUNBQUc7QUFDWDtBQUNBLG1DQUFtQywyREFBaUI7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxHQUFHLDRDQUFNLENBQUMsaUVBQTJCLEdBQUcsNENBQU07QUFDbkQ7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLHVDQUFLLGVBQWUsb0RBQWEsS0FBSyw2Q0FBTTtBQUN6RTtBQUNBLDJFQUEyRSxZQUFZO0FBQ3ZGO0FBQ0EsSUFBSSwrQ0FBUztBQUNiLHVDQUF1QywwQ0FBSSxLQUFLLDZDQUFPLEdBQUcsZ0NBQWdDLE9BQU8sdUNBQUssS0FBSztBQUMzRyxRQUFRLHlDQUFHLGVBQWUsZUFBZTtBQUN6QyxLQUFLO0FBQ0w7QUFDQTtBQUNBLDhFQUE4RSx1RUFBK0I7QUFDN0csS0FBSztBQUNMO0FBQ0EiLCJzb3VyY2VzIjpbIi9ob21lL2Jyb256ZS9jb2RpbmcvZnNha20vbm9kZV9tb2R1bGVzLy5wbnBtL0BhbXBsaXR1ZGUrcGx1Z2luLWF1dG9jYXB0dXJlLWJyb3dzZXJAMS4yLjgvbm9kZV9tb2R1bGVzL0BhbXBsaXR1ZGUvcGx1Z2luLWF1dG9jYXB0dXJlLWJyb3dzZXIvbGliL2VzbS9hdXRvY2FwdHVyZS90cmFjay1hY3Rpb24tY2xpY2suanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgX19yZWFkLCBfX3NwcmVhZEFycmF5IH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBmaWx0ZXIsIG1hcCwgbWVyZ2UsIHN3aXRjaE1hcCwgdGFrZSwgdGltZW91dCwgRU1QVFkgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IGZpbHRlck91dE5vblRyYWNrYWJsZUV2ZW50cywgZ2V0Q2xvc2VzdEVsZW1lbnQgfSBmcm9tICcuLi9oZWxwZXJzJztcbmltcG9ydCB7IEFNUExJVFVERV9FTEVNRU5UX0NMSUNLRURfRVZFTlQgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuZXhwb3J0IGZ1bmN0aW9uIHRyYWNrQWN0aW9uQ2xpY2soX2EpIHtcbiAgICB2YXIgYW1wbGl0dWRlID0gX2EuYW1wbGl0dWRlLCBhbGxPYnNlcnZhYmxlcyA9IF9hLmFsbE9ic2VydmFibGVzLCBvcHRpb25zID0gX2Eub3B0aW9ucywgZ2V0RXZlbnRQcm9wZXJ0aWVzID0gX2EuZ2V0RXZlbnRQcm9wZXJ0aWVzLCBzaG91bGRUcmFja0V2ZW50ID0gX2Euc2hvdWxkVHJhY2tFdmVudCwgc2hvdWxkVHJhY2tBY3Rpb25DbGljayA9IF9hLnNob3VsZFRyYWNrQWN0aW9uQ2xpY2s7XG4gICAgdmFyIGNsaWNrT2JzZXJ2YWJsZSA9IGFsbE9ic2VydmFibGVzLmNsaWNrT2JzZXJ2YWJsZSwgbXV0YXRpb25PYnNlcnZhYmxlID0gYWxsT2JzZXJ2YWJsZXMubXV0YXRpb25PYnNlcnZhYmxlLCBuYXZpZ2F0ZU9ic2VydmFibGUgPSBhbGxPYnNlcnZhYmxlcy5uYXZpZ2F0ZU9ic2VydmFibGU7XG4gICAgdmFyIGZpbHRlcmVkQ2xpY2tPYnNlcnZhYmxlID0gY2xpY2tPYnNlcnZhYmxlLnBpcGUoZmlsdGVyKGZ1bmN0aW9uIChjbGljaykge1xuICAgICAgICAvLyBGaWx0ZXIgb3V0IHJlZ3VsYXJseSB0cmFja2VkIGNsaWNrIGV2ZW50cyB0aGF0IGFyZSBhbHJlYWR5IGhhbmRsZWQgaW4gdHJhY2tDbGlja3NcbiAgICAgICAgcmV0dXJuICFzaG91bGRUcmFja0V2ZW50KCdjbGljaycsIGNsaWNrLmNsb3Nlc3RUcmFja2VkQW5jZXN0b3IpO1xuICAgIH0pLCBtYXAoZnVuY3Rpb24gKGNsaWNrKSB7XG4gICAgICAgIC8vIG92ZXJ3cml0ZSB0aGUgY2xvc2VzdFRyYWNrZWRBbmNlc3RvciB3aXRoIHRoZSBjbG9zZXN0IGVsZW1lbnQgdGhhdCBpcyBvbiB0aGUgYWN0aW9uQ2xpY2tBbGxvd2xpc3RcbiAgICAgICAgdmFyIGNsb3Nlc3RBY3Rpb25DbGlja0VsID0gZ2V0Q2xvc2VzdEVsZW1lbnQoY2xpY2suZXZlbnQudGFyZ2V0LCBvcHRpb25zLmFjdGlvbkNsaWNrQWxsb3dsaXN0KTtcbiAgICAgICAgY2xpY2suY2xvc2VzdFRyYWNrZWRBbmNlc3RvciA9IGNsb3Nlc3RBY3Rpb25DbGlja0VsO1xuICAgICAgICAvLyBvdmVyd3JpdGUgdGhlIHRhcmdldEVsZW1lbnRQcm9wZXJ0aWVzIHdpdGggdGhlIHByb3BlcnRpZXMgb2YgdGhlIGNsb3Nlc3RBY3Rpb25DbGlja0VsXG4gICAgICAgIGlmIChjbGljay5jbG9zZXN0VHJhY2tlZEFuY2VzdG9yICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjbGljay50YXJnZXRFbGVtZW50UHJvcGVydGllcyA9IGdldEV2ZW50UHJvcGVydGllcyhjbGljay50eXBlLCBjbGljay5jbG9zZXN0VHJhY2tlZEFuY2VzdG9yKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2xpY2s7XG4gICAgfSksIGZpbHRlcihmaWx0ZXJPdXROb25UcmFja2FibGVFdmVudHMpLCBmaWx0ZXIoZnVuY3Rpb24gKGNsaWNrRXZlbnQpIHtcbiAgICAgICAgLy8gT25seSB0cmFjayBjaGFuZ2Ugb24gZWxlbWVudHMgdGhhdCBzaG91bGQgYmUgdHJhY2tlZFxuICAgICAgICByZXR1cm4gc2hvdWxkVHJhY2tBY3Rpb25DbGljaygnY2xpY2snLCBjbGlja0V2ZW50LmNsb3Nlc3RUcmFja2VkQW5jZXN0b3IpO1xuICAgIH0pKTtcbiAgICB2YXIgY2hhbmdlT2JzZXJ2YWJsZXMgPSBbbXV0YXRpb25PYnNlcnZhYmxlXTtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIGlmIChuYXZpZ2F0ZU9ic2VydmFibGUpIHtcbiAgICAgICAgY2hhbmdlT2JzZXJ2YWJsZXMucHVzaChuYXZpZ2F0ZU9ic2VydmFibGUpO1xuICAgIH1cbiAgICB2YXIgbXV0YXRpb25Pck5hdmlnYXRlID0gbWVyZ2UuYXBwbHkodm9pZCAwLCBfX3NwcmVhZEFycmF5KFtdLCBfX3JlYWQoY2hhbmdlT2JzZXJ2YWJsZXMpLCBmYWxzZSkpO1xuICAgIHZhciBhY3Rpb25DbGlja3MgPSBmaWx0ZXJlZENsaWNrT2JzZXJ2YWJsZS5waXBlKFxuICAgIC8vIElmIGEgbXV0YXRpb24gb2NjdXJzIHdpdGhpbiAwLjUgc2Vjb25kcyBvZiBhIGNsaWNrIGV2ZW50ICh0aW1lb3V0KHsgZmlyc3Q6IDUwMCB9KSksIGl0IGVtaXRzIHRoZSBvcmlnaW5hbCBmaXJzdCBjbGljayBldmVudC5cbiAgICAvLyB0YWtlIDEgdG8gb25seSBsaW1pdCB0aGUgYWN0aW9uIGV2ZW50cyBpbiBjYXNlIHRoZXJlIGFyZSBtdWx0aXBsZVxuICAgIHN3aXRjaE1hcChmdW5jdGlvbiAoY2xpY2spIHtcbiAgICAgICAgcmV0dXJuIG11dGF0aW9uT3JOYXZpZ2F0ZS5waXBlKHRha2UoMSksIHRpbWVvdXQoeyBmaXJzdDogNTAwLCB3aXRoOiBmdW5jdGlvbiAoKSB7IHJldHVybiBFTVBUWTsgfSB9KSwgLy8gaW4gY2FzZSBvZiB0aW1lb3V0LCBtYXAgdG8gZW1wdHkgdG8gcHJldmVudCBhbnkgY2xpY2sgZnJvbSBiZWluZyBlbWl0dGVkXG4gICAgICAgIG1hcChmdW5jdGlvbiAoKSB7IHJldHVybiBjbGljazsgfSkpO1xuICAgIH0pKTtcbiAgICByZXR1cm4gYWN0aW9uQ2xpY2tzLnN1YnNjcmliZShmdW5jdGlvbiAoYWN0aW9uQ2xpY2spIHtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgYW1wbGl0dWRlID09PSBudWxsIHx8IGFtcGxpdHVkZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogYW1wbGl0dWRlLnRyYWNrKEFNUExJVFVERV9FTEVNRU5UX0NMSUNLRURfRVZFTlQsIGdldEV2ZW50UHJvcGVydGllcygnY2xpY2snLCBhY3Rpb25DbGljay5jbG9zZXN0VHJhY2tlZEFuY2VzdG9yKSk7XG4gICAgfSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10cmFjay1hY3Rpb24tY2xpY2suanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@amplitude+plugin-autocapture-browser@1.2.8/node_modules/@amplitude/plugin-autocapture-browser/lib/esm/autocapture/track-action-click.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@amplitude+plugin-autocapture-browser@1.2.8/node_modules/@amplitude/plugin-autocapture-browser/lib/esm/autocapture/track-change.js":
/*!***************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@amplitude+plugin-autocapture-browser@1.2.8/node_modules/@amplitude/plugin-autocapture-browser/lib/esm/autocapture/track-change.js ***!
  \***************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   trackChange: () => (/* binding */ trackChange)\n/* harmony export */ });\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! rxjs */ \"(ssr)/./node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/dist/esm5/internal/operators/filter.js\");\n/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../helpers */ \"(ssr)/./node_modules/.pnpm/@amplitude+plugin-autocapture-browser@1.2.8/node_modules/@amplitude/plugin-autocapture-browser/lib/esm/helpers.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../constants */ \"(ssr)/./node_modules/.pnpm/@amplitude+plugin-autocapture-browser@1.2.8/node_modules/@amplitude/plugin-autocapture-browser/lib/esm/constants.js\");\n\n\n\nfunction trackChange(_a) {\n    var amplitude = _a.amplitude, allObservables = _a.allObservables, getEventProperties = _a.getEventProperties, shouldTrackEvent = _a.shouldTrackEvent;\n    var changeObservable = allObservables.changeObservable;\n    var filteredChangeObservable = changeObservable.pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_0__.filter)(_helpers__WEBPACK_IMPORTED_MODULE_1__.filterOutNonTrackableEvents), (0,rxjs__WEBPACK_IMPORTED_MODULE_0__.filter)(function (changeEvent) {\n        // Only track change on elements that should be tracked,\n        return shouldTrackEvent('change', changeEvent.closestTrackedAncestor);\n    }));\n    return filteredChangeObservable.subscribe(function (changeEvent) {\n        /* istanbul ignore next */\n        amplitude === null || amplitude === void 0 ? void 0 : amplitude.track(_constants__WEBPACK_IMPORTED_MODULE_2__.AMPLITUDE_ELEMENT_CHANGED_EVENT, getEventProperties('change', changeEvent.closestTrackedAncestor));\n    });\n}\n//# sourceMappingURL=track-change.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGFtcGxpdHVkZStwbHVnaW4tYXV0b2NhcHR1cmUtYnJvd3NlckAxLjIuOC9ub2RlX21vZHVsZXMvQGFtcGxpdHVkZS9wbHVnaW4tYXV0b2NhcHR1cmUtYnJvd3Nlci9saWIvZXNtL2F1dG9jYXB0dXJlL3RyYWNrLWNoYW5nZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQThCO0FBQzJCO0FBQ007QUFDeEQ7QUFDUDtBQUNBO0FBQ0EseURBQXlELDRDQUFNLENBQUMsaUVBQTJCLEdBQUcsNENBQU07QUFDcEc7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsOEVBQThFLHVFQUErQjtBQUM3RyxLQUFLO0FBQ0w7QUFDQSIsInNvdXJjZXMiOlsiL2hvbWUvYnJvbnplL2NvZGluZy9mc2FrbS9ub2RlX21vZHVsZXMvLnBucG0vQGFtcGxpdHVkZStwbHVnaW4tYXV0b2NhcHR1cmUtYnJvd3NlckAxLjIuOC9ub2RlX21vZHVsZXMvQGFtcGxpdHVkZS9wbHVnaW4tYXV0b2NhcHR1cmUtYnJvd3Nlci9saWIvZXNtL2F1dG9jYXB0dXJlL3RyYWNrLWNoYW5nZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBmaWx0ZXIgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IGZpbHRlck91dE5vblRyYWNrYWJsZUV2ZW50cyB9IGZyb20gJy4uL2hlbHBlcnMnO1xuaW1wb3J0IHsgQU1QTElUVURFX0VMRU1FTlRfQ0hBTkdFRF9FVkVOVCB9IGZyb20gJy4uL2NvbnN0YW50cyc7XG5leHBvcnQgZnVuY3Rpb24gdHJhY2tDaGFuZ2UoX2EpIHtcbiAgICB2YXIgYW1wbGl0dWRlID0gX2EuYW1wbGl0dWRlLCBhbGxPYnNlcnZhYmxlcyA9IF9hLmFsbE9ic2VydmFibGVzLCBnZXRFdmVudFByb3BlcnRpZXMgPSBfYS5nZXRFdmVudFByb3BlcnRpZXMsIHNob3VsZFRyYWNrRXZlbnQgPSBfYS5zaG91bGRUcmFja0V2ZW50O1xuICAgIHZhciBjaGFuZ2VPYnNlcnZhYmxlID0gYWxsT2JzZXJ2YWJsZXMuY2hhbmdlT2JzZXJ2YWJsZTtcbiAgICB2YXIgZmlsdGVyZWRDaGFuZ2VPYnNlcnZhYmxlID0gY2hhbmdlT2JzZXJ2YWJsZS5waXBlKGZpbHRlcihmaWx0ZXJPdXROb25UcmFja2FibGVFdmVudHMpLCBmaWx0ZXIoZnVuY3Rpb24gKGNoYW5nZUV2ZW50KSB7XG4gICAgICAgIC8vIE9ubHkgdHJhY2sgY2hhbmdlIG9uIGVsZW1lbnRzIHRoYXQgc2hvdWxkIGJlIHRyYWNrZWQsXG4gICAgICAgIHJldHVybiBzaG91bGRUcmFja0V2ZW50KCdjaGFuZ2UnLCBjaGFuZ2VFdmVudC5jbG9zZXN0VHJhY2tlZEFuY2VzdG9yKTtcbiAgICB9KSk7XG4gICAgcmV0dXJuIGZpbHRlcmVkQ2hhbmdlT2JzZXJ2YWJsZS5zdWJzY3JpYmUoZnVuY3Rpb24gKGNoYW5nZUV2ZW50KSB7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgIGFtcGxpdHVkZSA9PT0gbnVsbCB8fCBhbXBsaXR1ZGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGFtcGxpdHVkZS50cmFjayhBTVBMSVRVREVfRUxFTUVOVF9DSEFOR0VEX0VWRU5ULCBnZXRFdmVudFByb3BlcnRpZXMoJ2NoYW5nZScsIGNoYW5nZUV2ZW50LmNsb3Nlc3RUcmFja2VkQW5jZXN0b3IpKTtcbiAgICB9KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRyYWNrLWNoYW5nZS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@amplitude+plugin-autocapture-browser@1.2.8/node_modules/@amplitude/plugin-autocapture-browser/lib/esm/autocapture/track-change.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@amplitude+plugin-autocapture-browser@1.2.8/node_modules/@amplitude/plugin-autocapture-browser/lib/esm/autocapture/track-click.js":
/*!**************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@amplitude+plugin-autocapture-browser@1.2.8/node_modules/@amplitude/plugin-autocapture-browser/lib/esm/autocapture/track-click.js ***!
  \**************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   trackClicks: () => (/* binding */ trackClicks)\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! tslib */ \"(ssr)/./node_modules/.pnpm/tslib@2.8.1/node_modules/tslib/tslib.es6.mjs\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! rxjs */ \"(ssr)/./node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/dist/esm5/internal/operators/pairwise.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! rxjs */ \"(ssr)/./node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/dist/esm5/internal/operators/filter.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! rxjs */ \"(ssr)/./node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/dist/esm5/internal/operators/debounceTime.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! rxjs */ \"(ssr)/./node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/dist/esm5/internal/operators/map.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! rxjs */ \"(ssr)/./node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/dist/esm5/internal/observable/merge.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! rxjs */ \"(ssr)/./node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/dist/esm5/internal/operators/delay.js\");\n/* harmony import */ var rxjs__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! rxjs */ \"(ssr)/./node_modules/.pnpm/rxjs@7.8.2/node_modules/rxjs/dist/esm5/internal/operators/buffer.js\");\n/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../helpers */ \"(ssr)/./node_modules/.pnpm/@amplitude+plugin-autocapture-browser@1.2.8/node_modules/@amplitude/plugin-autocapture-browser/lib/esm/helpers.js\");\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../constants */ \"(ssr)/./node_modules/.pnpm/@amplitude+plugin-autocapture-browser@1.2.8/node_modules/@amplitude/plugin-autocapture-browser/lib/esm/constants.js\");\n\n\n\n\nvar RAGE_CLICK_THRESHOLD = 5;\nfunction trackClicks(_a) {\n    var amplitude = _a.amplitude, allObservables = _a.allObservables, options = _a.options, shouldTrackEvent = _a.shouldTrackEvent;\n    var clickObservable = allObservables.clickObservable;\n    // Trigger if the target of the click event has changed and position is different\n    // Keeping track of position is important to avoid false positives when the user clicks on the same\n    // element where certain frameworks could replace the element instance between rerenders\n    var comparisonTrigger = clickObservable.pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_0__.pairwise)(), (0,rxjs__WEBPACK_IMPORTED_MODULE_1__.filter)(function (_a) {\n        var _b = (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__read)(_a, 2), prev = _b[0], current = _b[1];\n        var targetChanged = prev.event.target !== current.event.target;\n        /* istanbul ignore next */\n        var samePos = Math.abs(current.event.screenX - prev.event.screenX) <= 20 &&\n            Math.abs(current.event.screenY - prev.event.screenY) <= 20;\n        return targetChanged && !samePos;\n    }));\n    // Trigger if there is no click event within 1 second\n    var timeoutTrigger = clickObservable.pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_3__.debounceTime)(options.debounceTime), (0,rxjs__WEBPACK_IMPORTED_MODULE_4__.map)(function () { return 'timeout'; }));\n    var triggers = (0,rxjs__WEBPACK_IMPORTED_MODULE_5__.merge)(comparisonTrigger, timeoutTrigger);\n    // Get buffers of clicks, if the buffer length is over 5, it is rage click\n    var bufferedClicks = clickObservable.pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.delay)(0), (0,rxjs__WEBPACK_IMPORTED_MODULE_1__.filter)(_helpers__WEBPACK_IMPORTED_MODULE_7__.filterOutNonTrackableEvents), (0,rxjs__WEBPACK_IMPORTED_MODULE_1__.filter)(function (click) {\n        // Only track clicks on elements that should be tracked,\n        return shouldTrackEvent('click', click.closestTrackedAncestor);\n    }), (0,rxjs__WEBPACK_IMPORTED_MODULE_8__.buffer)(triggers));\n    return bufferedClicks.subscribe(function (clicks) {\n        var e_1, _a;\n        // TODO: update this when rage clicks are added\n        var clickType = clicks.length >= RAGE_CLICK_THRESHOLD ? _constants__WEBPACK_IMPORTED_MODULE_9__.AMPLITUDE_ELEMENT_CLICKED_EVENT : _constants__WEBPACK_IMPORTED_MODULE_9__.AMPLITUDE_ELEMENT_CLICKED_EVENT;\n        try {\n            for (var clicks_1 = (0,tslib__WEBPACK_IMPORTED_MODULE_2__.__values)(clicks), clicks_1_1 = clicks_1.next(); !clicks_1_1.done; clicks_1_1 = clicks_1.next()) {\n                var click = clicks_1_1.value;\n                /* istanbul ignore next */\n                amplitude === null || amplitude === void 0 ? void 0 : amplitude.track(clickType, click.targetElementProperties);\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (clicks_1_1 && !clicks_1_1.done && (_a = clicks_1.return)) _a.call(clicks_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n    });\n}\n//# sourceMappingURL=track-click.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGFtcGxpdHVkZStwbHVnaW4tYXV0b2NhcHR1cmUtYnJvd3NlckAxLjIuOC9ub2RlX21vZHVsZXMvQGFtcGxpdHVkZS9wbHVnaW4tYXV0b2NhcHR1cmUtYnJvd3Nlci9saWIvZXNtL2F1dG9jYXB0dXJlL3RyYWNrLWNsaWNrLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQXlDO0FBQ3dDO0FBQ3hCO0FBQ007QUFDL0Q7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpREFBaUQsOENBQVEsSUFBSSw0Q0FBTTtBQUNuRSxpQkFBaUIsNkNBQU07QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLDhDQUE4QyxrREFBWSx3QkFBd0IseUNBQUcsZUFBZSxtQkFBbUI7QUFDdkgsbUJBQW1CLDJDQUFLO0FBQ3hCO0FBQ0EsOENBQThDLDJDQUFLLEtBQUssNENBQU0sQ0FBQyxpRUFBMkIsR0FBRyw0Q0FBTTtBQUNuRztBQUNBO0FBQ0EsS0FBSyxHQUFHLDRDQUFNO0FBQ2Q7QUFDQTtBQUNBO0FBQ0EsZ0VBQWdFLHVFQUErQixHQUFHLHVFQUErQjtBQUNqSTtBQUNBLGdDQUFnQywrQ0FBUSx3Q0FBd0Msa0JBQWtCO0FBQ2xHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsUUFBUTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBLEtBQUs7QUFDTDtBQUNBIiwic291cmNlcyI6WyIvaG9tZS9icm9uemUvY29kaW5nL2ZzYWttL25vZGVfbW9kdWxlcy8ucG5wbS9AYW1wbGl0dWRlK3BsdWdpbi1hdXRvY2FwdHVyZS1icm93c2VyQDEuMi44L25vZGVfbW9kdWxlcy9AYW1wbGl0dWRlL3BsdWdpbi1hdXRvY2FwdHVyZS1icm93c2VyL2xpYi9lc20vYXV0b2NhcHR1cmUvdHJhY2stY2xpY2suanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgX19yZWFkLCBfX3ZhbHVlcyB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgYnVmZmVyLCBmaWx0ZXIsIG1hcCwgZGVib3VuY2VUaW1lLCBtZXJnZSwgcGFpcndpc2UsIGRlbGF5IH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBmaWx0ZXJPdXROb25UcmFja2FibGVFdmVudHMgfSBmcm9tICcuLi9oZWxwZXJzJztcbmltcG9ydCB7IEFNUExJVFVERV9FTEVNRU5UX0NMSUNLRURfRVZFTlQgfSBmcm9tICcuLi9jb25zdGFudHMnO1xudmFyIFJBR0VfQ0xJQ0tfVEhSRVNIT0xEID0gNTtcbmV4cG9ydCBmdW5jdGlvbiB0cmFja0NsaWNrcyhfYSkge1xuICAgIHZhciBhbXBsaXR1ZGUgPSBfYS5hbXBsaXR1ZGUsIGFsbE9ic2VydmFibGVzID0gX2EuYWxsT2JzZXJ2YWJsZXMsIG9wdGlvbnMgPSBfYS5vcHRpb25zLCBzaG91bGRUcmFja0V2ZW50ID0gX2Euc2hvdWxkVHJhY2tFdmVudDtcbiAgICB2YXIgY2xpY2tPYnNlcnZhYmxlID0gYWxsT2JzZXJ2YWJsZXMuY2xpY2tPYnNlcnZhYmxlO1xuICAgIC8vIFRyaWdnZXIgaWYgdGhlIHRhcmdldCBvZiB0aGUgY2xpY2sgZXZlbnQgaGFzIGNoYW5nZWQgYW5kIHBvc2l0aW9uIGlzIGRpZmZlcmVudFxuICAgIC8vIEtlZXBpbmcgdHJhY2sgb2YgcG9zaXRpb24gaXMgaW1wb3J0YW50IHRvIGF2b2lkIGZhbHNlIHBvc2l0aXZlcyB3aGVuIHRoZSB1c2VyIGNsaWNrcyBvbiB0aGUgc2FtZVxuICAgIC8vIGVsZW1lbnQgd2hlcmUgY2VydGFpbiBmcmFtZXdvcmtzIGNvdWxkIHJlcGxhY2UgdGhlIGVsZW1lbnQgaW5zdGFuY2UgYmV0d2VlbiByZXJlbmRlcnNcbiAgICB2YXIgY29tcGFyaXNvblRyaWdnZXIgPSBjbGlja09ic2VydmFibGUucGlwZShwYWlyd2lzZSgpLCBmaWx0ZXIoZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciBfYiA9IF9fcmVhZChfYSwgMiksIHByZXYgPSBfYlswXSwgY3VycmVudCA9IF9iWzFdO1xuICAgICAgICB2YXIgdGFyZ2V0Q2hhbmdlZCA9IHByZXYuZXZlbnQudGFyZ2V0ICE9PSBjdXJyZW50LmV2ZW50LnRhcmdldDtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgdmFyIHNhbWVQb3MgPSBNYXRoLmFicyhjdXJyZW50LmV2ZW50LnNjcmVlblggLSBwcmV2LmV2ZW50LnNjcmVlblgpIDw9IDIwICYmXG4gICAgICAgICAgICBNYXRoLmFicyhjdXJyZW50LmV2ZW50LnNjcmVlblkgLSBwcmV2LmV2ZW50LnNjcmVlblkpIDw9IDIwO1xuICAgICAgICByZXR1cm4gdGFyZ2V0Q2hhbmdlZCAmJiAhc2FtZVBvcztcbiAgICB9KSk7XG4gICAgLy8gVHJpZ2dlciBpZiB0aGVyZSBpcyBubyBjbGljayBldmVudCB3aXRoaW4gMSBzZWNvbmRcbiAgICB2YXIgdGltZW91dFRyaWdnZXIgPSBjbGlja09ic2VydmFibGUucGlwZShkZWJvdW5jZVRpbWUob3B0aW9ucy5kZWJvdW5jZVRpbWUpLCBtYXAoZnVuY3Rpb24gKCkgeyByZXR1cm4gJ3RpbWVvdXQnOyB9KSk7XG4gICAgdmFyIHRyaWdnZXJzID0gbWVyZ2UoY29tcGFyaXNvblRyaWdnZXIsIHRpbWVvdXRUcmlnZ2VyKTtcbiAgICAvLyBHZXQgYnVmZmVycyBvZiBjbGlja3MsIGlmIHRoZSBidWZmZXIgbGVuZ3RoIGlzIG92ZXIgNSwgaXQgaXMgcmFnZSBjbGlja1xuICAgIHZhciBidWZmZXJlZENsaWNrcyA9IGNsaWNrT2JzZXJ2YWJsZS5waXBlKGRlbGF5KDApLCBmaWx0ZXIoZmlsdGVyT3V0Tm9uVHJhY2thYmxlRXZlbnRzKSwgZmlsdGVyKGZ1bmN0aW9uIChjbGljaykge1xuICAgICAgICAvLyBPbmx5IHRyYWNrIGNsaWNrcyBvbiBlbGVtZW50cyB0aGF0IHNob3VsZCBiZSB0cmFja2VkLFxuICAgICAgICByZXR1cm4gc2hvdWxkVHJhY2tFdmVudCgnY2xpY2snLCBjbGljay5jbG9zZXN0VHJhY2tlZEFuY2VzdG9yKTtcbiAgICB9KSwgYnVmZmVyKHRyaWdnZXJzKSk7XG4gICAgcmV0dXJuIGJ1ZmZlcmVkQ2xpY2tzLnN1YnNjcmliZShmdW5jdGlvbiAoY2xpY2tzKSB7XG4gICAgICAgIHZhciBlXzEsIF9hO1xuICAgICAgICAvLyBUT0RPOiB1cGRhdGUgdGhpcyB3aGVuIHJhZ2UgY2xpY2tzIGFyZSBhZGRlZFxuICAgICAgICB2YXIgY2xpY2tUeXBlID0gY2xpY2tzLmxlbmd0aCA+PSBSQUdFX0NMSUNLX1RIUkVTSE9MRCA/IEFNUExJVFVERV9FTEVNRU5UX0NMSUNLRURfRVZFTlQgOiBBTVBMSVRVREVfRUxFTUVOVF9DTElDS0VEX0VWRU5UO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZm9yICh2YXIgY2xpY2tzXzEgPSBfX3ZhbHVlcyhjbGlja3MpLCBjbGlja3NfMV8xID0gY2xpY2tzXzEubmV4dCgpOyAhY2xpY2tzXzFfMS5kb25lOyBjbGlja3NfMV8xID0gY2xpY2tzXzEubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNsaWNrID0gY2xpY2tzXzFfMS52YWx1ZTtcbiAgICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICAgICAgICAgIGFtcGxpdHVkZSA9PT0gbnVsbCB8fCBhbXBsaXR1ZGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGFtcGxpdHVkZS50cmFjayhjbGlja1R5cGUsIGNsaWNrLnRhcmdldEVsZW1lbnRQcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKGNsaWNrc18xXzEgJiYgIWNsaWNrc18xXzEuZG9uZSAmJiAoX2EgPSBjbGlja3NfMS5yZXR1cm4pKSBfYS5jYWxsKGNsaWNrc18xKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cbiAgICAgICAgfVxuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHJhY2stY2xpY2suanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@amplitude+plugin-autocapture-browser@1.2.8/node_modules/@amplitude/plugin-autocapture-browser/lib/esm/autocapture/track-click.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@amplitude+plugin-autocapture-browser@1.2.8/node_modules/@amplitude/plugin-autocapture-browser/lib/esm/constants.js":
/*!************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@amplitude+plugin-autocapture-browser@1.2.8/node_modules/@amplitude/plugin-autocapture-browser/lib/esm/constants.js ***!
  \************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AMPLITUDE_ELEMENT_CHANGED_EVENT: () => (/* binding */ AMPLITUDE_ELEMENT_CHANGED_EVENT),\n/* harmony export */   AMPLITUDE_ELEMENT_CLICKED_EVENT: () => (/* binding */ AMPLITUDE_ELEMENT_CLICKED_EVENT),\n/* harmony export */   AMPLITUDE_EVENT_PROP_ELEMENT_ARIA_LABEL: () => (/* binding */ AMPLITUDE_EVENT_PROP_ELEMENT_ARIA_LABEL),\n/* harmony export */   AMPLITUDE_EVENT_PROP_ELEMENT_ATTRIBUTES: () => (/* binding */ AMPLITUDE_EVENT_PROP_ELEMENT_ATTRIBUTES),\n/* harmony export */   AMPLITUDE_EVENT_PROP_ELEMENT_CLASS: () => (/* binding */ AMPLITUDE_EVENT_PROP_ELEMENT_CLASS),\n/* harmony export */   AMPLITUDE_EVENT_PROP_ELEMENT_HIERARCHY: () => (/* binding */ AMPLITUDE_EVENT_PROP_ELEMENT_HIERARCHY),\n/* harmony export */   AMPLITUDE_EVENT_PROP_ELEMENT_HREF: () => (/* binding */ AMPLITUDE_EVENT_PROP_ELEMENT_HREF),\n/* harmony export */   AMPLITUDE_EVENT_PROP_ELEMENT_ID: () => (/* binding */ AMPLITUDE_EVENT_PROP_ELEMENT_ID),\n/* harmony export */   AMPLITUDE_EVENT_PROP_ELEMENT_PARENT_LABEL: () => (/* binding */ AMPLITUDE_EVENT_PROP_ELEMENT_PARENT_LABEL),\n/* harmony export */   AMPLITUDE_EVENT_PROP_ELEMENT_POSITION_LEFT: () => (/* binding */ AMPLITUDE_EVENT_PROP_ELEMENT_POSITION_LEFT),\n/* harmony export */   AMPLITUDE_EVENT_PROP_ELEMENT_POSITION_TOP: () => (/* binding */ AMPLITUDE_EVENT_PROP_ELEMENT_POSITION_TOP),\n/* harmony export */   AMPLITUDE_EVENT_PROP_ELEMENT_TAG: () => (/* binding */ AMPLITUDE_EVENT_PROP_ELEMENT_TAG),\n/* harmony export */   AMPLITUDE_EVENT_PROP_ELEMENT_TEXT: () => (/* binding */ AMPLITUDE_EVENT_PROP_ELEMENT_TEXT),\n/* harmony export */   AMPLITUDE_EVENT_PROP_PAGE_TITLE: () => (/* binding */ AMPLITUDE_EVENT_PROP_PAGE_TITLE),\n/* harmony export */   AMPLITUDE_EVENT_PROP_PAGE_URL: () => (/* binding */ AMPLITUDE_EVENT_PROP_PAGE_URL),\n/* harmony export */   AMPLITUDE_EVENT_PROP_VIEWPORT_HEIGHT: () => (/* binding */ AMPLITUDE_EVENT_PROP_VIEWPORT_HEIGHT),\n/* harmony export */   AMPLITUDE_EVENT_PROP_VIEWPORT_WIDTH: () => (/* binding */ AMPLITUDE_EVENT_PROP_VIEWPORT_WIDTH),\n/* harmony export */   AMPLITUDE_ORIGIN: () => (/* binding */ AMPLITUDE_ORIGIN),\n/* harmony export */   AMPLITUDE_ORIGINS_MAP: () => (/* binding */ AMPLITUDE_ORIGINS_MAP),\n/* harmony export */   AMPLITUDE_ORIGIN_EU: () => (/* binding */ AMPLITUDE_ORIGIN_EU),\n/* harmony export */   AMPLITUDE_ORIGIN_STAGING: () => (/* binding */ AMPLITUDE_ORIGIN_STAGING),\n/* harmony export */   AMPLITUDE_VISUAL_TAGGING_HIGHLIGHT_CLASS: () => (/* binding */ AMPLITUDE_VISUAL_TAGGING_HIGHLIGHT_CLASS),\n/* harmony export */   AMPLITUDE_VISUAL_TAGGING_SELECTOR_SCRIPT_URL: () => (/* binding */ AMPLITUDE_VISUAL_TAGGING_SELECTOR_SCRIPT_URL),\n/* harmony export */   PLUGIN_NAME: () => (/* binding */ PLUGIN_NAME)\n/* harmony export */ });\nvar PLUGIN_NAME = '@amplitude/plugin-autocapture-browser';\nvar AMPLITUDE_ELEMENT_CLICKED_EVENT = '[Amplitude] Element Clicked';\nvar AMPLITUDE_ELEMENT_CHANGED_EVENT = '[Amplitude] Element Changed';\nvar AMPLITUDE_EVENT_PROP_ELEMENT_ID = '[Amplitude] Element ID';\nvar AMPLITUDE_EVENT_PROP_ELEMENT_CLASS = '[Amplitude] Element Class';\nvar AMPLITUDE_EVENT_PROP_ELEMENT_TAG = '[Amplitude] Element Tag';\nvar AMPLITUDE_EVENT_PROP_ELEMENT_TEXT = '[Amplitude] Element Text';\nvar AMPLITUDE_EVENT_PROP_ELEMENT_HIERARCHY = '[Amplitude] Element Hierarchy';\nvar AMPLITUDE_EVENT_PROP_ELEMENT_HREF = '[Amplitude] Element Href';\nvar AMPLITUDE_EVENT_PROP_ELEMENT_POSITION_LEFT = '[Amplitude] Element Position Left';\nvar AMPLITUDE_EVENT_PROP_ELEMENT_POSITION_TOP = '[Amplitude] Element Position Top';\nvar AMPLITUDE_EVENT_PROP_ELEMENT_ARIA_LABEL = '[Amplitude] Element Aria Label';\nvar AMPLITUDE_EVENT_PROP_ELEMENT_ATTRIBUTES = '[Amplitude] Element Attributes';\nvar AMPLITUDE_EVENT_PROP_ELEMENT_PARENT_LABEL = '[Amplitude] Element Parent Label';\nvar AMPLITUDE_EVENT_PROP_PAGE_URL = '[Amplitude] Page URL';\nvar AMPLITUDE_EVENT_PROP_PAGE_TITLE = '[Amplitude] Page Title';\nvar AMPLITUDE_EVENT_PROP_VIEWPORT_HEIGHT = '[Amplitude] Viewport Height';\nvar AMPLITUDE_EVENT_PROP_VIEWPORT_WIDTH = '[Amplitude] Viewport Width';\n// Visual Tagging related constants\nvar AMPLITUDE_ORIGIN = 'https://app.amplitude.com';\nvar AMPLITUDE_ORIGIN_EU = 'https://app.eu.amplitude.com';\nvar AMPLITUDE_ORIGIN_STAGING = 'https://apps.stag2.amplitude.com';\nvar AMPLITUDE_ORIGINS_MAP = {\n    US: AMPLITUDE_ORIGIN,\n    EU: AMPLITUDE_ORIGIN_EU,\n    STAGING: AMPLITUDE_ORIGIN_STAGING,\n};\nvar AMPLITUDE_VISUAL_TAGGING_SELECTOR_SCRIPT_URL = 'https://cdn.amplitude.com/libs/visual-tagging-selector-1.0.0-alpha.js.gz';\n// This is the class name used by the visual tagging selector to highlight the selected element.\n// Should not use this class in the selector.\nvar AMPLITUDE_VISUAL_TAGGING_HIGHLIGHT_CLASS = 'amp-visual-tagging-selector-highlight';\n//# sourceMappingURL=constants.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGFtcGxpdHVkZStwbHVnaW4tYXV0b2NhcHR1cmUtYnJvd3NlckAxLjIuOC9ub2RlX21vZHVsZXMvQGFtcGxpdHVkZS9wbHVnaW4tYXV0b2NhcHR1cmUtYnJvd3Nlci9saWIvZXNtL2NvbnN0YW50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBTztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDUDtBQUNPO0FBQ0E7QUFDQTtBQUNBO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDTztBQUNQIiwic291cmNlcyI6WyIvaG9tZS9icm9uemUvY29kaW5nL2ZzYWttL25vZGVfbW9kdWxlcy8ucG5wbS9AYW1wbGl0dWRlK3BsdWdpbi1hdXRvY2FwdHVyZS1icm93c2VyQDEuMi44L25vZGVfbW9kdWxlcy9AYW1wbGl0dWRlL3BsdWdpbi1hdXRvY2FwdHVyZS1icm93c2VyL2xpYi9lc20vY29uc3RhbnRzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB2YXIgUExVR0lOX05BTUUgPSAnQGFtcGxpdHVkZS9wbHVnaW4tYXV0b2NhcHR1cmUtYnJvd3Nlcic7XG5leHBvcnQgdmFyIEFNUExJVFVERV9FTEVNRU5UX0NMSUNLRURfRVZFTlQgPSAnW0FtcGxpdHVkZV0gRWxlbWVudCBDbGlja2VkJztcbmV4cG9ydCB2YXIgQU1QTElUVURFX0VMRU1FTlRfQ0hBTkdFRF9FVkVOVCA9ICdbQW1wbGl0dWRlXSBFbGVtZW50IENoYW5nZWQnO1xuZXhwb3J0IHZhciBBTVBMSVRVREVfRVZFTlRfUFJPUF9FTEVNRU5UX0lEID0gJ1tBbXBsaXR1ZGVdIEVsZW1lbnQgSUQnO1xuZXhwb3J0IHZhciBBTVBMSVRVREVfRVZFTlRfUFJPUF9FTEVNRU5UX0NMQVNTID0gJ1tBbXBsaXR1ZGVdIEVsZW1lbnQgQ2xhc3MnO1xuZXhwb3J0IHZhciBBTVBMSVRVREVfRVZFTlRfUFJPUF9FTEVNRU5UX1RBRyA9ICdbQW1wbGl0dWRlXSBFbGVtZW50IFRhZyc7XG5leHBvcnQgdmFyIEFNUExJVFVERV9FVkVOVF9QUk9QX0VMRU1FTlRfVEVYVCA9ICdbQW1wbGl0dWRlXSBFbGVtZW50IFRleHQnO1xuZXhwb3J0IHZhciBBTVBMSVRVREVfRVZFTlRfUFJPUF9FTEVNRU5UX0hJRVJBUkNIWSA9ICdbQW1wbGl0dWRlXSBFbGVtZW50IEhpZXJhcmNoeSc7XG5leHBvcnQgdmFyIEFNUExJVFVERV9FVkVOVF9QUk9QX0VMRU1FTlRfSFJFRiA9ICdbQW1wbGl0dWRlXSBFbGVtZW50IEhyZWYnO1xuZXhwb3J0IHZhciBBTVBMSVRVREVfRVZFTlRfUFJPUF9FTEVNRU5UX1BPU0lUSU9OX0xFRlQgPSAnW0FtcGxpdHVkZV0gRWxlbWVudCBQb3NpdGlvbiBMZWZ0JztcbmV4cG9ydCB2YXIgQU1QTElUVURFX0VWRU5UX1BST1BfRUxFTUVOVF9QT1NJVElPTl9UT1AgPSAnW0FtcGxpdHVkZV0gRWxlbWVudCBQb3NpdGlvbiBUb3AnO1xuZXhwb3J0IHZhciBBTVBMSVRVREVfRVZFTlRfUFJPUF9FTEVNRU5UX0FSSUFfTEFCRUwgPSAnW0FtcGxpdHVkZV0gRWxlbWVudCBBcmlhIExhYmVsJztcbmV4cG9ydCB2YXIgQU1QTElUVURFX0VWRU5UX1BST1BfRUxFTUVOVF9BVFRSSUJVVEVTID0gJ1tBbXBsaXR1ZGVdIEVsZW1lbnQgQXR0cmlidXRlcyc7XG5leHBvcnQgdmFyIEFNUExJVFVERV9FVkVOVF9QUk9QX0VMRU1FTlRfUEFSRU5UX0xBQkVMID0gJ1tBbXBsaXR1ZGVdIEVsZW1lbnQgUGFyZW50IExhYmVsJztcbmV4cG9ydCB2YXIgQU1QTElUVURFX0VWRU5UX1BST1BfUEFHRV9VUkwgPSAnW0FtcGxpdHVkZV0gUGFnZSBVUkwnO1xuZXhwb3J0IHZhciBBTVBMSVRVREVfRVZFTlRfUFJPUF9QQUdFX1RJVExFID0gJ1tBbXBsaXR1ZGVdIFBhZ2UgVGl0bGUnO1xuZXhwb3J0IHZhciBBTVBMSVRVREVfRVZFTlRfUFJPUF9WSUVXUE9SVF9IRUlHSFQgPSAnW0FtcGxpdHVkZV0gVmlld3BvcnQgSGVpZ2h0JztcbmV4cG9ydCB2YXIgQU1QTElUVURFX0VWRU5UX1BST1BfVklFV1BPUlRfV0lEVEggPSAnW0FtcGxpdHVkZV0gVmlld3BvcnQgV2lkdGgnO1xuLy8gVmlzdWFsIFRhZ2dpbmcgcmVsYXRlZCBjb25zdGFudHNcbmV4cG9ydCB2YXIgQU1QTElUVURFX09SSUdJTiA9ICdodHRwczovL2FwcC5hbXBsaXR1ZGUuY29tJztcbmV4cG9ydCB2YXIgQU1QTElUVURFX09SSUdJTl9FVSA9ICdodHRwczovL2FwcC5ldS5hbXBsaXR1ZGUuY29tJztcbmV4cG9ydCB2YXIgQU1QTElUVURFX09SSUdJTl9TVEFHSU5HID0gJ2h0dHBzOi8vYXBwcy5zdGFnMi5hbXBsaXR1ZGUuY29tJztcbmV4cG9ydCB2YXIgQU1QTElUVURFX09SSUdJTlNfTUFQID0ge1xuICAgIFVTOiBBTVBMSVRVREVfT1JJR0lOLFxuICAgIEVVOiBBTVBMSVRVREVfT1JJR0lOX0VVLFxuICAgIFNUQUdJTkc6IEFNUExJVFVERV9PUklHSU5fU1RBR0lORyxcbn07XG5leHBvcnQgdmFyIEFNUExJVFVERV9WSVNVQUxfVEFHR0lOR19TRUxFQ1RPUl9TQ1JJUFRfVVJMID0gJ2h0dHBzOi8vY2RuLmFtcGxpdHVkZS5jb20vbGlicy92aXN1YWwtdGFnZ2luZy1zZWxlY3Rvci0xLjAuMC1hbHBoYS5qcy5neic7XG4vLyBUaGlzIGlzIHRoZSBjbGFzcyBuYW1lIHVzZWQgYnkgdGhlIHZpc3VhbCB0YWdnaW5nIHNlbGVjdG9yIHRvIGhpZ2hsaWdodCB0aGUgc2VsZWN0ZWQgZWxlbWVudC5cbi8vIFNob3VsZCBub3QgdXNlIHRoaXMgY2xhc3MgaW4gdGhlIHNlbGVjdG9yLlxuZXhwb3J0IHZhciBBTVBMSVRVREVfVklTVUFMX1RBR0dJTkdfSElHSExJR0hUX0NMQVNTID0gJ2FtcC12aXN1YWwtdGFnZ2luZy1zZWxlY3Rvci1oaWdobGlnaHQnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uc3RhbnRzLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@amplitude+plugin-autocapture-browser@1.2.8/node_modules/@amplitude/plugin-autocapture-browser/lib/esm/constants.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@amplitude+plugin-autocapture-browser@1.2.8/node_modules/@amplitude/plugin-autocapture-browser/lib/esm/helpers.js":
/*!**********************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@amplitude+plugin-autocapture-browser@1.2.8/node_modules/@amplitude/plugin-autocapture-browser/lib/esm/helpers.js ***!
  \**********************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   asyncLoadScript: () => (/* binding */ asyncLoadScript),\n/* harmony export */   createShouldTrackEvent: () => (/* binding */ createShouldTrackEvent),\n/* harmony export */   filterOutNonTrackableEvents: () => (/* binding */ filterOutNonTrackableEvents),\n/* harmony export */   generateUniqueId: () => (/* binding */ generateUniqueId),\n/* harmony export */   getAttributesWithPrefix: () => (/* binding */ getAttributesWithPrefix),\n/* harmony export */   getClosestElement: () => (/* binding */ getClosestElement),\n/* harmony export */   getEventTagProps: () => (/* binding */ getEventTagProps),\n/* harmony export */   getNearestLabel: () => (/* binding */ getNearestLabel),\n/* harmony export */   getText: () => (/* binding */ getText),\n/* harmony export */   isEmpty: () => (/* binding */ isEmpty),\n/* harmony export */   isNonSensitiveElement: () => (/* binding */ isNonSensitiveElement),\n/* harmony export */   isNonSensitiveString: () => (/* binding */ isNonSensitiveString),\n/* harmony export */   isPageUrlAllowed: () => (/* binding */ isPageUrlAllowed),\n/* harmony export */   isTextNode: () => (/* binding */ isTextNode),\n/* harmony export */   querySelectUniqueElements: () => (/* binding */ querySelectUniqueElements),\n/* harmony export */   removeEmptyProperties: () => (/* binding */ removeEmptyProperties)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./constants */ \"(ssr)/./node_modules/.pnpm/@amplitude+plugin-autocapture-browser@1.2.8/node_modules/@amplitude/plugin-autocapture-browser/lib/esm/constants.js\");\n/* eslint-disable no-restricted-globals */\n\nvar SENSITIVE_TAGS = ['input', 'select', 'textarea'];\nvar createShouldTrackEvent = function (autocaptureOptions, allowlist) {\n    return function (actionType, element) {\n        var _a, _b, _c;\n        var pageUrlAllowlist = autocaptureOptions.pageUrlAllowlist, shouldTrackEventResolver = autocaptureOptions.shouldTrackEventResolver;\n        /* istanbul ignore next */\n        var tag = (_b = (_a = element === null || element === void 0 ? void 0 : element.tagName) === null || _a === void 0 ? void 0 : _a.toLowerCase) === null || _b === void 0 ? void 0 : _b.call(_a);\n        // window, document, and Text nodes have no tag\n        if (!tag) {\n            return false;\n        }\n        if (shouldTrackEventResolver) {\n            return shouldTrackEventResolver(actionType, element);\n        }\n        if (!isPageUrlAllowed(window.location.href, pageUrlAllowlist)) {\n            return false;\n        }\n        /* istanbul ignore next */\n        var elementType = String(element === null || element === void 0 ? void 0 : element.getAttribute('type')) || '';\n        if (typeof elementType === 'string') {\n            switch (elementType.toLowerCase()) {\n                case 'hidden':\n                    return false;\n                case 'password':\n                    return false;\n            }\n        }\n        /* istanbul ignore if */\n        if (allowlist) {\n            var hasMatchAnyAllowedSelector = allowlist.some(function (selector) { var _a; return !!((_a = element === null || element === void 0 ? void 0 : element.matches) === null || _a === void 0 ? void 0 : _a.call(element, selector)); });\n            if (!hasMatchAnyAllowedSelector) {\n                return false;\n            }\n        }\n        switch (tag) {\n            case 'input':\n            case 'select':\n            case 'textarea':\n                return actionType === 'change' || actionType === 'click';\n            default: {\n                /* istanbul ignore next */\n                var computedStyle = (_c = window === null || window === void 0 ? void 0 : window.getComputedStyle) === null || _c === void 0 ? void 0 : _c.call(window, element);\n                /* istanbul ignore next */\n                if (computedStyle && computedStyle.getPropertyValue('cursor') === 'pointer' && actionType === 'click') {\n                    return true;\n                }\n                return actionType === 'click';\n            }\n        }\n    };\n};\nvar isNonSensitiveString = function (text) {\n    if (text == null) {\n        return false;\n    }\n    if (typeof text === 'string') {\n        var ccRegex = /^(?:(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11}))$/;\n        if (ccRegex.test((text || '').replace(/[- ]/g, ''))) {\n            return false;\n        }\n        var ssnRegex = /(^\\d{3}-?\\d{2}-?\\d{4}$)/;\n        if (ssnRegex.test(text)) {\n            return false;\n        }\n    }\n    return true;\n};\nvar isTextNode = function (node) {\n    return !!node && node.nodeType === 3;\n};\nvar isNonSensitiveElement = function (element) {\n    var _a, _b, _c;\n    /* istanbul ignore next */\n    var tag = (_b = (_a = element === null || element === void 0 ? void 0 : element.tagName) === null || _a === void 0 ? void 0 : _a.toLowerCase) === null || _b === void 0 ? void 0 : _b.call(_a);\n    var isContentEditable = element instanceof HTMLElement ? ((_c = element.getAttribute('contenteditable')) === null || _c === void 0 ? void 0 : _c.toLowerCase()) === 'true' : false;\n    return !SENSITIVE_TAGS.includes(tag) && !isContentEditable;\n};\n// Maybe this can be simplified with element.innerText, keep and manual concatenating for now, more research needed.\nvar getText = function (element) {\n    var text = '';\n    if (isNonSensitiveElement(element) && element.childNodes && element.childNodes.length) {\n        element.childNodes.forEach(function (child) {\n            var childText = '';\n            if (isTextNode(child)) {\n                if (child.textContent) {\n                    childText = child.textContent;\n                }\n            }\n            else {\n                childText = getText(child);\n            }\n            text += childText\n                .split(/(\\s+)/)\n                .filter(isNonSensitiveString)\n                .join('')\n                .replace(/[\\r\\n]/g, ' ')\n                .replace(/[ ]+/g, ' ')\n                .substring(0, 255);\n        });\n    }\n    return text;\n};\nvar isPageUrlAllowed = function (url, pageUrlAllowlist) {\n    if (!pageUrlAllowlist || !pageUrlAllowlist.length) {\n        return true;\n    }\n    return pageUrlAllowlist.some(function (allowedUrl) {\n        if (typeof allowedUrl === 'string') {\n            return url === allowedUrl;\n        }\n        return url.match(allowedUrl);\n    });\n};\nvar getAttributesWithPrefix = function (element, prefix) {\n    return element.getAttributeNames().reduce(function (attributes, attributeName) {\n        if (attributeName.startsWith(prefix)) {\n            var attributeKey = attributeName.replace(prefix, '');\n            var attributeValue = element.getAttribute(attributeName);\n            if (attributeKey) {\n                attributes[attributeKey] = attributeValue || '';\n            }\n        }\n        return attributes;\n    }, {});\n};\nvar isEmpty = function (value) {\n    return (value === undefined ||\n        value === null ||\n        (typeof value === 'object' && Object.keys(value).length === 0) ||\n        (typeof value === 'string' && value.trim().length === 0));\n};\nvar removeEmptyProperties = function (properties) {\n    return Object.keys(properties).reduce(function (filteredProperties, key) {\n        var value = properties[key];\n        if (!isEmpty(value)) {\n            filteredProperties[key] = value;\n        }\n        return filteredProperties;\n    }, {});\n};\nvar getNearestLabel = function (element) {\n    var parent = element.parentElement;\n    if (!parent) {\n        return '';\n    }\n    var labelElement;\n    try {\n        labelElement = parent.querySelector(':scope>span,h1,h2,h3,h4,h5,h6');\n    }\n    catch (error) {\n        /* istanbul ignore next */\n        labelElement = null;\n    }\n    if (labelElement) {\n        /* istanbul ignore next */\n        var labelText = labelElement.textContent || '';\n        return isNonSensitiveString(labelText) ? labelText : '';\n    }\n    return getNearestLabel(parent);\n};\nvar querySelectUniqueElements = function (root, selectors) {\n    if (root && 'querySelectorAll' in root && typeof root.querySelectorAll === 'function') {\n        var elementSet = selectors.reduce(function (elements, selector) {\n            if (selector) {\n                var selectedElements = Array.from(root.querySelectorAll(selector));\n                selectedElements.forEach(function (element) {\n                    elements.add(element);\n                });\n            }\n            return elements;\n        }, new Set());\n        return Array.from(elementSet);\n    }\n    return [];\n};\n// Similar as element.closest, but works with multiple selectors\nvar getClosestElement = function (element, selectors) {\n    if (!element) {\n        return null;\n    }\n    /* istanbul ignore next */\n    if (selectors.some(function (selector) { var _a; return (_a = element === null || element === void 0 ? void 0 : element.matches) === null || _a === void 0 ? void 0 : _a.call(element, selector); })) {\n        return element;\n    }\n    /* istanbul ignore next */\n    return getClosestElement(element === null || element === void 0 ? void 0 : element.parentElement, selectors);\n};\n// Returns the element properties for the given element in Visual Labeling.\nvar getEventTagProps = function (element) {\n    var _a;\n    var _b, _c;\n    if (!element) {\n        return {};\n    }\n    /* istanbul ignore next */\n    var tag = (_c = (_b = element === null || element === void 0 ? void 0 : element.tagName) === null || _b === void 0 ? void 0 : _b.toLowerCase) === null || _c === void 0 ? void 0 : _c.call(_b);\n    var properties = (_a = {},\n        _a[_constants__WEBPACK_IMPORTED_MODULE_0__.AMPLITUDE_EVENT_PROP_ELEMENT_TAG] = tag,\n        _a[_constants__WEBPACK_IMPORTED_MODULE_0__.AMPLITUDE_EVENT_PROP_ELEMENT_TEXT] = getText(element),\n        _a[_constants__WEBPACK_IMPORTED_MODULE_0__.AMPLITUDE_EVENT_PROP_PAGE_URL] = window.location.href.split('?')[0],\n        _a);\n    return removeEmptyProperties(properties);\n};\nvar asyncLoadScript = function (url) {\n    return new Promise(function (resolve, reject) {\n        var _a;\n        try {\n            var scriptElement = document.createElement('script');\n            scriptElement.type = 'text/javascript';\n            scriptElement.async = true;\n            scriptElement.src = url;\n            scriptElement.addEventListener('load', function () {\n                resolve({ status: true });\n            }, { once: true });\n            scriptElement.addEventListener('error', function () {\n                reject({\n                    status: false,\n                    message: \"Failed to load the script \".concat(url),\n                });\n            });\n            /* istanbul ignore next */\n            (_a = document.head) === null || _a === void 0 ? void 0 : _a.appendChild(scriptElement);\n        }\n        catch (error) {\n            /* istanbul ignore next */\n            reject(error);\n        }\n    });\n};\nfunction generateUniqueId() {\n    return \"\".concat(Date.now(), \"-\").concat(Math.random().toString(36).substr(2, 9));\n}\nvar filterOutNonTrackableEvents = function (event) {\n    // Filter out changeEvent events with no target\n    // This could happen when change events are triggered programmatically\n    if (event.event.target === null || !event.closestTrackedAncestor) {\n        return false;\n    }\n    return true;\n};\n//# sourceMappingURL=helpers.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGFtcGxpdHVkZStwbHVnaW4tYXV0b2NhcHR1cmUtYnJvd3NlckAxLjIuOC9ub2RlX21vZHVsZXMvQGFtcGxpdHVkZS9wbHVnaW4tYXV0b2NhcHR1cmUtYnJvd3Nlci9saWIvZXNtL2hlbHBlcnMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUN5QztBQUN6QztBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0ZBQWtGLFFBQVEsc0pBQXNKO0FBQ2hQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsR0FBRyxTQUFTLEVBQUUsaUJBQWlCLEdBQUcsa0JBQWtCLEVBQUUsT0FBTyxHQUFHLGNBQWMsR0FBRyw4QkFBOEIsR0FBRyx3QkFBd0IsRUFBRSxPQUFPLEdBQUc7QUFDekw7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRTtBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssSUFBSTtBQUNUO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLLElBQUk7QUFDVDtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLFFBQVEsa0pBQWtKO0FBQ3ZNO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0IsV0FBVyx3RUFBMEM7QUFDckQsV0FBVyx5RUFBMkM7QUFDdEQsV0FBVyxxRUFBdUM7QUFDbEQ7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMEJBQTBCLGNBQWM7QUFDeEMsYUFBYSxJQUFJLFlBQVk7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ087QUFDUDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvaG9tZS9icm9uemUvY29kaW5nL2ZzYWttL25vZGVfbW9kdWxlcy8ucG5wbS9AYW1wbGl0dWRlK3BsdWdpbi1hdXRvY2FwdHVyZS1icm93c2VyQDEuMi44L25vZGVfbW9kdWxlcy9AYW1wbGl0dWRlL3BsdWdpbi1hdXRvY2FwdHVyZS1icm93c2VyL2xpYi9lc20vaGVscGVycy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBlc2xpbnQtZGlzYWJsZSBuby1yZXN0cmljdGVkLWdsb2JhbHMgKi9cbmltcG9ydCAqIGFzIGNvbnN0YW50cyBmcm9tICcuL2NvbnN0YW50cyc7XG52YXIgU0VOU0lUSVZFX1RBR1MgPSBbJ2lucHV0JywgJ3NlbGVjdCcsICd0ZXh0YXJlYSddO1xuZXhwb3J0IHZhciBjcmVhdGVTaG91bGRUcmFja0V2ZW50ID0gZnVuY3Rpb24gKGF1dG9jYXB0dXJlT3B0aW9ucywgYWxsb3dsaXN0KSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChhY3Rpb25UeXBlLCBlbGVtZW50KSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jO1xuICAgICAgICB2YXIgcGFnZVVybEFsbG93bGlzdCA9IGF1dG9jYXB0dXJlT3B0aW9ucy5wYWdlVXJsQWxsb3dsaXN0LCBzaG91bGRUcmFja0V2ZW50UmVzb2x2ZXIgPSBhdXRvY2FwdHVyZU9wdGlvbnMuc2hvdWxkVHJhY2tFdmVudFJlc29sdmVyO1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICB2YXIgdGFnID0gKF9iID0gKF9hID0gZWxlbWVudCA9PT0gbnVsbCB8fCBlbGVtZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlbGVtZW50LnRhZ05hbWUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS50b0xvd2VyQ2FzZSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoX2EpO1xuICAgICAgICAvLyB3aW5kb3csIGRvY3VtZW50LCBhbmQgVGV4dCBub2RlcyBoYXZlIG5vIHRhZ1xuICAgICAgICBpZiAoIXRhZykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzaG91bGRUcmFja0V2ZW50UmVzb2x2ZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBzaG91bGRUcmFja0V2ZW50UmVzb2x2ZXIoYWN0aW9uVHlwZSwgZWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc1BhZ2VVcmxBbGxvd2VkKHdpbmRvdy5sb2NhdGlvbi5ocmVmLCBwYWdlVXJsQWxsb3dsaXN0KSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgIHZhciBlbGVtZW50VHlwZSA9IFN0cmluZyhlbGVtZW50ID09PSBudWxsIHx8IGVsZW1lbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCd0eXBlJykpIHx8ICcnO1xuICAgICAgICBpZiAodHlwZW9mIGVsZW1lbnRUeXBlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgc3dpdGNoIChlbGVtZW50VHlwZS50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnaGlkZGVuJzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3Bhc3N3b3JkJzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICBpZiAoYWxsb3dsaXN0KSB7XG4gICAgICAgICAgICB2YXIgaGFzTWF0Y2hBbnlBbGxvd2VkU2VsZWN0b3IgPSBhbGxvd2xpc3Quc29tZShmdW5jdGlvbiAoc2VsZWN0b3IpIHsgdmFyIF9hOyByZXR1cm4gISEoKF9hID0gZWxlbWVudCA9PT0gbnVsbCB8fCBlbGVtZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlbGVtZW50Lm1hdGNoZXMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKGVsZW1lbnQsIHNlbGVjdG9yKSk7IH0pO1xuICAgICAgICAgICAgaWYgKCFoYXNNYXRjaEFueUFsbG93ZWRTZWxlY3Rvcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKHRhZykge1xuICAgICAgICAgICAgY2FzZSAnaW5wdXQnOlxuICAgICAgICAgICAgY2FzZSAnc2VsZWN0JzpcbiAgICAgICAgICAgIGNhc2UgJ3RleHRhcmVhJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gYWN0aW9uVHlwZSA9PT0gJ2NoYW5nZScgfHwgYWN0aW9uVHlwZSA9PT0gJ2NsaWNrJztcbiAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICAgICAgICAgIHZhciBjb21wdXRlZFN0eWxlID0gKF9jID0gd2luZG93ID09PSBudWxsIHx8IHdpbmRvdyA9PT0gdm9pZCAwID8gdm9pZCAwIDogd2luZG93LmdldENvbXB1dGVkU3R5bGUpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5jYWxsKHdpbmRvdywgZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgICAgICAgICBpZiAoY29tcHV0ZWRTdHlsZSAmJiBjb21wdXRlZFN0eWxlLmdldFByb3BlcnR5VmFsdWUoJ2N1cnNvcicpID09PSAncG9pbnRlcicgJiYgYWN0aW9uVHlwZSA9PT0gJ2NsaWNrJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjdGlvblR5cGUgPT09ICdjbGljayc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xufTtcbmV4cG9ydCB2YXIgaXNOb25TZW5zaXRpdmVTdHJpbmcgPSBmdW5jdGlvbiAodGV4dCkge1xuICAgIGlmICh0ZXh0ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHRleHQgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHZhciBjY1JlZ2V4ID0gL14oPzooNFswLTldezEyfSg/OlswLTldezN9KT8pfCg1WzEtNV1bMC05XXsxNH0pfCg2KD86MDExfDVbMC05XXsyfSlbMC05XXsxMn0pfCgzWzQ3XVswLTldezEzfSl8KDMoPzowWzAtNV18WzY4XVswLTldKVswLTldezExfSl8KCg/OjIxMzF8MTgwMHwzNVswLTldezN9KVswLTldezExfSkpJC87XG4gICAgICAgIGlmIChjY1JlZ2V4LnRlc3QoKHRleHQgfHwgJycpLnJlcGxhY2UoL1stIF0vZywgJycpKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzc25SZWdleCA9IC8oXlxcZHszfS0/XFxkezJ9LT9cXGR7NH0kKS87XG4gICAgICAgIGlmIChzc25SZWdleC50ZXN0KHRleHQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59O1xuZXhwb3J0IHZhciBpc1RleHROb2RlID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICByZXR1cm4gISFub2RlICYmIG5vZGUubm9kZVR5cGUgPT09IDM7XG59O1xuZXhwb3J0IHZhciBpc05vblNlbnNpdGl2ZUVsZW1lbnQgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgIHZhciBfYSwgX2IsIF9jO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgdmFyIHRhZyA9IChfYiA9IChfYSA9IGVsZW1lbnQgPT09IG51bGwgfHwgZWxlbWVudCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZWxlbWVudC50YWdOYW1lKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EudG9Mb3dlckNhc2UpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKF9hKTtcbiAgICB2YXIgaXNDb250ZW50RWRpdGFibGUgPSBlbGVtZW50IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQgPyAoKF9jID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2NvbnRlbnRlZGl0YWJsZScpKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MudG9Mb3dlckNhc2UoKSkgPT09ICd0cnVlJyA6IGZhbHNlO1xuICAgIHJldHVybiAhU0VOU0lUSVZFX1RBR1MuaW5jbHVkZXModGFnKSAmJiAhaXNDb250ZW50RWRpdGFibGU7XG59O1xuLy8gTWF5YmUgdGhpcyBjYW4gYmUgc2ltcGxpZmllZCB3aXRoIGVsZW1lbnQuaW5uZXJUZXh0LCBrZWVwIGFuZCBtYW51YWwgY29uY2F0ZW5hdGluZyBmb3Igbm93LCBtb3JlIHJlc2VhcmNoIG5lZWRlZC5cbmV4cG9ydCB2YXIgZ2V0VGV4dCA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgdmFyIHRleHQgPSAnJztcbiAgICBpZiAoaXNOb25TZW5zaXRpdmVFbGVtZW50KGVsZW1lbnQpICYmIGVsZW1lbnQuY2hpbGROb2RlcyAmJiBlbGVtZW50LmNoaWxkTm9kZXMubGVuZ3RoKSB7XG4gICAgICAgIGVsZW1lbnQuY2hpbGROb2Rlcy5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICAgICAgdmFyIGNoaWxkVGV4dCA9ICcnO1xuICAgICAgICAgICAgaWYgKGlzVGV4dE5vZGUoY2hpbGQpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNoaWxkLnRleHRDb250ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGNoaWxkVGV4dCA9IGNoaWxkLnRleHRDb250ZW50O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNoaWxkVGV4dCA9IGdldFRleHQoY2hpbGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGV4dCArPSBjaGlsZFRleHRcbiAgICAgICAgICAgICAgICAuc3BsaXQoLyhcXHMrKS8pXG4gICAgICAgICAgICAgICAgLmZpbHRlcihpc05vblNlbnNpdGl2ZVN0cmluZylcbiAgICAgICAgICAgICAgICAuam9pbignJylcbiAgICAgICAgICAgICAgICAucmVwbGFjZSgvW1xcclxcbl0vZywgJyAnKVxuICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9bIF0rL2csICcgJylcbiAgICAgICAgICAgICAgICAuc3Vic3RyaW5nKDAsIDI1NSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gdGV4dDtcbn07XG5leHBvcnQgdmFyIGlzUGFnZVVybEFsbG93ZWQgPSBmdW5jdGlvbiAodXJsLCBwYWdlVXJsQWxsb3dsaXN0KSB7XG4gICAgaWYgKCFwYWdlVXJsQWxsb3dsaXN0IHx8ICFwYWdlVXJsQWxsb3dsaXN0Lmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHBhZ2VVcmxBbGxvd2xpc3Quc29tZShmdW5jdGlvbiAoYWxsb3dlZFVybCkge1xuICAgICAgICBpZiAodHlwZW9mIGFsbG93ZWRVcmwgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gdXJsID09PSBhbGxvd2VkVXJsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1cmwubWF0Y2goYWxsb3dlZFVybCk7XG4gICAgfSk7XG59O1xuZXhwb3J0IHZhciBnZXRBdHRyaWJ1dGVzV2l0aFByZWZpeCA9IGZ1bmN0aW9uIChlbGVtZW50LCBwcmVmaXgpIHtcbiAgICByZXR1cm4gZWxlbWVudC5nZXRBdHRyaWJ1dGVOYW1lcygpLnJlZHVjZShmdW5jdGlvbiAoYXR0cmlidXRlcywgYXR0cmlidXRlTmFtZSkge1xuICAgICAgICBpZiAoYXR0cmlidXRlTmFtZS5zdGFydHNXaXRoKHByZWZpeCkpIHtcbiAgICAgICAgICAgIHZhciBhdHRyaWJ1dGVLZXkgPSBhdHRyaWJ1dGVOYW1lLnJlcGxhY2UocHJlZml4LCAnJyk7XG4gICAgICAgICAgICB2YXIgYXR0cmlidXRlVmFsdWUgPSBlbGVtZW50LmdldEF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lKTtcbiAgICAgICAgICAgIGlmIChhdHRyaWJ1dGVLZXkpIHtcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzW2F0dHJpYnV0ZUtleV0gPSBhdHRyaWJ1dGVWYWx1ZSB8fCAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXR0cmlidXRlcztcbiAgICB9LCB7fSk7XG59O1xuZXhwb3J0IHZhciBpc0VtcHR5ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgcmV0dXJuICh2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAgIHZhbHVlID09PSBudWxsIHx8XG4gICAgICAgICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIE9iamVjdC5rZXlzKHZhbHVlKS5sZW5ndGggPT09IDApIHx8XG4gICAgICAgICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnICYmIHZhbHVlLnRyaW0oKS5sZW5ndGggPT09IDApKTtcbn07XG5leHBvcnQgdmFyIHJlbW92ZUVtcHR5UHJvcGVydGllcyA9IGZ1bmN0aW9uIChwcm9wZXJ0aWVzKSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHByb3BlcnRpZXMpLnJlZHVjZShmdW5jdGlvbiAoZmlsdGVyZWRQcm9wZXJ0aWVzLCBrZXkpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gcHJvcGVydGllc1trZXldO1xuICAgICAgICBpZiAoIWlzRW1wdHkodmFsdWUpKSB7XG4gICAgICAgICAgICBmaWx0ZXJlZFByb3BlcnRpZXNba2V5XSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmaWx0ZXJlZFByb3BlcnRpZXM7XG4gICAgfSwge30pO1xufTtcbmV4cG9ydCB2YXIgZ2V0TmVhcmVzdExhYmVsID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICB2YXIgcGFyZW50ID0gZWxlbWVudC5wYXJlbnRFbGVtZW50O1xuICAgIGlmICghcGFyZW50KSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgdmFyIGxhYmVsRWxlbWVudDtcbiAgICB0cnkge1xuICAgICAgICBsYWJlbEVsZW1lbnQgPSBwYXJlbnQucXVlcnlTZWxlY3RvcignOnNjb3BlPnNwYW4saDEsaDIsaDMsaDQsaDUsaDYnKTtcbiAgICB9XG4gICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgIGxhYmVsRWxlbWVudCA9IG51bGw7XG4gICAgfVxuICAgIGlmIChsYWJlbEVsZW1lbnQpIHtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgdmFyIGxhYmVsVGV4dCA9IGxhYmVsRWxlbWVudC50ZXh0Q29udGVudCB8fCAnJztcbiAgICAgICAgcmV0dXJuIGlzTm9uU2Vuc2l0aXZlU3RyaW5nKGxhYmVsVGV4dCkgPyBsYWJlbFRleHQgOiAnJztcbiAgICB9XG4gICAgcmV0dXJuIGdldE5lYXJlc3RMYWJlbChwYXJlbnQpO1xufTtcbmV4cG9ydCB2YXIgcXVlcnlTZWxlY3RVbmlxdWVFbGVtZW50cyA9IGZ1bmN0aW9uIChyb290LCBzZWxlY3RvcnMpIHtcbiAgICBpZiAocm9vdCAmJiAncXVlcnlTZWxlY3RvckFsbCcgaW4gcm9vdCAmJiB0eXBlb2Ygcm9vdC5xdWVyeVNlbGVjdG9yQWxsID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHZhciBlbGVtZW50U2V0ID0gc2VsZWN0b3JzLnJlZHVjZShmdW5jdGlvbiAoZWxlbWVudHMsIHNlbGVjdG9yKSB7XG4gICAgICAgICAgICBpZiAoc2VsZWN0b3IpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2VsZWN0ZWRFbGVtZW50cyA9IEFycmF5LmZyb20ocm9vdC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKSk7XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRFbGVtZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnRzLmFkZChlbGVtZW50KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50cztcbiAgICAgICAgfSwgbmV3IFNldCgpKTtcbiAgICAgICAgcmV0dXJuIEFycmF5LmZyb20oZWxlbWVudFNldCk7XG4gICAgfVxuICAgIHJldHVybiBbXTtcbn07XG4vLyBTaW1pbGFyIGFzIGVsZW1lbnQuY2xvc2VzdCwgYnV0IHdvcmtzIHdpdGggbXVsdGlwbGUgc2VsZWN0b3JzXG5leHBvcnQgdmFyIGdldENsb3Nlc3RFbGVtZW50ID0gZnVuY3Rpb24gKGVsZW1lbnQsIHNlbGVjdG9ycykge1xuICAgIGlmICghZWxlbWVudCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICBpZiAoc2VsZWN0b3JzLnNvbWUoZnVuY3Rpb24gKHNlbGVjdG9yKSB7IHZhciBfYTsgcmV0dXJuIChfYSA9IGVsZW1lbnQgPT09IG51bGwgfHwgZWxlbWVudCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZWxlbWVudC5tYXRjaGVzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChlbGVtZW50LCBzZWxlY3Rvcik7IH0pKSB7XG4gICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgIH1cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIHJldHVybiBnZXRDbG9zZXN0RWxlbWVudChlbGVtZW50ID09PSBudWxsIHx8IGVsZW1lbnQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGVsZW1lbnQucGFyZW50RWxlbWVudCwgc2VsZWN0b3JzKTtcbn07XG4vLyBSZXR1cm5zIHRoZSBlbGVtZW50IHByb3BlcnRpZXMgZm9yIHRoZSBnaXZlbiBlbGVtZW50IGluIFZpc3VhbCBMYWJlbGluZy5cbmV4cG9ydCB2YXIgZ2V0RXZlbnRUYWdQcm9wcyA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgdmFyIF9hO1xuICAgIHZhciBfYiwgX2M7XG4gICAgaWYgKCFlbGVtZW50KSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICB2YXIgdGFnID0gKF9jID0gKF9iID0gZWxlbWVudCA9PT0gbnVsbCB8fCBlbGVtZW50ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBlbGVtZW50LnRhZ05hbWUpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi50b0xvd2VyQ2FzZSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLmNhbGwoX2IpO1xuICAgIHZhciBwcm9wZXJ0aWVzID0gKF9hID0ge30sXG4gICAgICAgIF9hW2NvbnN0YW50cy5BTVBMSVRVREVfRVZFTlRfUFJPUF9FTEVNRU5UX1RBR10gPSB0YWcsXG4gICAgICAgIF9hW2NvbnN0YW50cy5BTVBMSVRVREVfRVZFTlRfUFJPUF9FTEVNRU5UX1RFWFRdID0gZ2V0VGV4dChlbGVtZW50KSxcbiAgICAgICAgX2FbY29uc3RhbnRzLkFNUExJVFVERV9FVkVOVF9QUk9QX1BBR0VfVVJMXSA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmLnNwbGl0KCc/JylbMF0sXG4gICAgICAgIF9hKTtcbiAgICByZXR1cm4gcmVtb3ZlRW1wdHlQcm9wZXJ0aWVzKHByb3BlcnRpZXMpO1xufTtcbmV4cG9ydCB2YXIgYXN5bmNMb2FkU2NyaXB0ID0gZnVuY3Rpb24gKHVybCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhciBzY3JpcHRFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gICAgICAgICAgICBzY3JpcHRFbGVtZW50LnR5cGUgPSAndGV4dC9qYXZhc2NyaXB0JztcbiAgICAgICAgICAgIHNjcmlwdEVsZW1lbnQuYXN5bmMgPSB0cnVlO1xuICAgICAgICAgICAgc2NyaXB0RWxlbWVudC5zcmMgPSB1cmw7XG4gICAgICAgICAgICBzY3JpcHRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSh7IHN0YXR1czogdHJ1ZSB9KTtcbiAgICAgICAgICAgIH0sIHsgb25jZTogdHJ1ZSB9KTtcbiAgICAgICAgICAgIHNjcmlwdEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZXJyb3InLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJGYWlsZWQgdG8gbG9hZCB0aGUgc2NyaXB0IFwiLmNvbmNhdCh1cmwpLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICAgICAgKF9hID0gZG9jdW1lbnQuaGVhZCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmFwcGVuZENoaWxkKHNjcmlwdEVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgIH1cbiAgICB9KTtcbn07XG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVVbmlxdWVJZCgpIHtcbiAgICByZXR1cm4gXCJcIi5jb25jYXQoRGF0ZS5ub3coKSwgXCItXCIpLmNvbmNhdChNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHIoMiwgOSkpO1xufVxuZXhwb3J0IHZhciBmaWx0ZXJPdXROb25UcmFja2FibGVFdmVudHMgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAvLyBGaWx0ZXIgb3V0IGNoYW5nZUV2ZW50IGV2ZW50cyB3aXRoIG5vIHRhcmdldFxuICAgIC8vIFRoaXMgY291bGQgaGFwcGVuIHdoZW4gY2hhbmdlIGV2ZW50cyBhcmUgdHJpZ2dlcmVkIHByb2dyYW1tYXRpY2FsbHlcbiAgICBpZiAoZXZlbnQuZXZlbnQudGFyZ2V0ID09PSBudWxsIHx8ICFldmVudC5jbG9zZXN0VHJhY2tlZEFuY2VzdG9yKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aGVscGVycy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@amplitude+plugin-autocapture-browser@1.2.8/node_modules/@amplitude/plugin-autocapture-browser/lib/esm/helpers.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@amplitude+plugin-autocapture-browser@1.2.8/node_modules/@amplitude/plugin-autocapture-browser/lib/esm/hierarchy.js":
/*!************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@amplitude+plugin-autocapture-browser@1.2.8/node_modules/@amplitude/plugin-autocapture-browser/lib/esm/hierarchy.js ***!
  \************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ensureListUnderLimit: () => (/* binding */ ensureListUnderLimit),\n/* harmony export */   ensureUnicodePythonCompatible: () => (/* binding */ ensureUnicodePythonCompatible),\n/* harmony export */   getAncestors: () => (/* binding */ getAncestors),\n/* harmony export */   getElementProperties: () => (/* binding */ getElementProperties),\n/* harmony export */   getHierarchy: () => (/* binding */ getHierarchy)\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tslib */ \"(ssr)/./node_modules/.pnpm/tslib@2.8.1/node_modules/tslib/tslib.es6.mjs\");\n/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./helpers */ \"(ssr)/./node_modules/.pnpm/@amplitude+plugin-autocapture-browser@1.2.8/node_modules/@amplitude/plugin-autocapture-browser/lib/esm/helpers.js\");\n\n\nvar BLOCKED_ATTRIBUTES = [\n    // Already captured elsewhere in the hierarchy object\n    'id',\n    'class',\n    // non-useful and potentially large attribute\n    'style',\n    // sensitive as prefilled form data may populate this attribute\n    'value',\n    // DOM events\n    'onclick',\n    'onchange',\n    'oninput',\n    'onblur',\n    'onsubmit',\n    'onfocus',\n    'onkeydown',\n    'onkeyup',\n    'onkeypress',\n    // React specific\n    'data-reactid',\n    'data-react-checksum',\n    'data-reactroot',\n];\nvar SENSITIVE_ELEMENT_ATTRIBUTE_ALLOWLIST = ['type'];\nvar SVG_TAGS = ['svg', 'path', 'g'];\nvar HIGHLY_SENSITIVE_INPUT_TYPES = ['password', 'hidden'];\nvar MAX_ATTRIBUTE_LENGTH = 128;\nvar MAX_HIERARCHY_LENGTH = 1024;\nfunction getElementProperties(element) {\n    var e_1, _a;\n    var _b, _c, _d, _e;\n    if (element === null) {\n        return null;\n    }\n    var tagName = String(element.tagName).toLowerCase();\n    var properties = {\n        tag: tagName,\n    };\n    var siblings = Array.from((_c = (_b = element.parentElement) === null || _b === void 0 ? void 0 : _b.children) !== null && _c !== void 0 ? _c : []);\n    if (siblings.length) {\n        properties.index = siblings.indexOf(element);\n        properties.indexOfType = siblings.filter(function (el) { return el.tagName === element.tagName; }).indexOf(element);\n    }\n    var prevSiblingTag = (_e = (_d = element.previousElementSibling) === null || _d === void 0 ? void 0 : _d.tagName) === null || _e === void 0 ? void 0 : _e.toLowerCase();\n    if (prevSiblingTag) {\n        properties.prevSib = String(prevSiblingTag);\n    }\n    var id = element.getAttribute('id');\n    if (id) {\n        properties.id = String(id);\n    }\n    var classes = Array.from(element.classList);\n    if (classes.length) {\n        properties.classes = classes;\n    }\n    var attributes = {};\n    var attributesArray = Array.from(element.attributes);\n    var filteredAttributes = attributesArray.filter(function (attr) { return !BLOCKED_ATTRIBUTES.includes(attr.name); });\n    var isSensitiveElement = !(0,_helpers__WEBPACK_IMPORTED_MODULE_0__.isNonSensitiveElement)(element);\n    // if input is hidden or password or for SVGs, skip attribute collection entirely\n    if (!HIGHLY_SENSITIVE_INPUT_TYPES.includes(String(element.getAttribute('type'))) && !SVG_TAGS.includes(tagName)) {\n        try {\n            for (var filteredAttributes_1 = (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__values)(filteredAttributes), filteredAttributes_1_1 = filteredAttributes_1.next(); !filteredAttributes_1_1.done; filteredAttributes_1_1 = filteredAttributes_1.next()) {\n                var attr = filteredAttributes_1_1.value;\n                // If sensitive element, only allow certain attributes\n                if (isSensitiveElement && !SENSITIVE_ELEMENT_ATTRIBUTE_ALLOWLIST.includes(attr.name)) {\n                    continue;\n                }\n                // Finally cast attribute value to string and limit attribute value length\n                attributes[attr.name] = String(attr.value).substring(0, MAX_ATTRIBUTE_LENGTH);\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (filteredAttributes_1_1 && !filteredAttributes_1_1.done && (_a = filteredAttributes_1.return)) _a.call(filteredAttributes_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n    }\n    if (Object.keys(attributes).length) {\n        properties.attrs = attributes;\n    }\n    return properties;\n}\nfunction getAncestors(targetEl) {\n    var ancestors = [];\n    if (!targetEl) {\n        return ancestors;\n    }\n    // Add self to the list of ancestors\n    ancestors.push(targetEl);\n    var current = targetEl.parentElement;\n    while (current && current.tagName !== 'HTML') {\n        ancestors.push(current);\n        current = current.parentElement;\n    }\n    return ancestors;\n}\n// Get the DOM hierarchy of the element, starting from the target element to the root element.\nvar getHierarchy = function (element) {\n    var hierarchy = [];\n    if (!element) {\n        return [];\n    }\n    // Get list of ancestors including itself and get properties at each level in the hierarchy\n    var ancestors = getAncestors(element);\n    hierarchy = ensureListUnderLimit(ancestors.map(function (el) { return getElementProperties(el); }), MAX_HIERARCHY_LENGTH);\n    return hierarchy;\n};\nfunction ensureListUnderLimit(list, bytesLimit) {\n    var numChars = 0;\n    for (var i = 0; i < list.length; i++) {\n        var node = list[i];\n        if (node === null) {\n            // simulate 'None' in python\n            numChars += 4;\n        }\n        else {\n            var value = ensureUnicodePythonCompatible(node);\n            // Using Array.from(string).length instead of string.length\n            // to correctly count Unicode characters (including emojis)\n            numChars += value ? Array.from(value).length : 4;\n        }\n        if (numChars > bytesLimit) {\n            return list.slice(0, i);\n        }\n    }\n    return list;\n}\n/**\n * Converts a JSON-compatible value to a Python-compatible string representation.\n * This function handles various data types and ensures proper escaping and formatting.\n *\n * @param value - The value to be converted (can be any JSON-compatible type)\n * @param nested - Indicates if the value is nested within another structure (default: false)\n * @returns A string representation of the value compatible with Python, or null if conversion fails\n */\nfunction ensureUnicodePythonCompatible(value, nested) {\n    if (nested === void 0) { nested = false; }\n    try {\n        if (value == null) {\n            // Handle null values\n            if (nested) {\n                return 'None'; // Represent null as 'None' in Python when nested\n            }\n            return null; // Return null for top-level null values\n        }\n        else if (typeof value === 'string') {\n            if (nested) {\n                // Escape special characters in nested strings\n                value = value.replace(/\\\\/g, '\\\\\\\\').replace(/\\n/g, '\\\\n').replace(/\\t/g, '\\\\t').replace(/\\r/g, '\\\\r');\n                // Handle quotes in the string\n                if (value.includes('\"')) {\n                    return \"'\".concat(value, \"'\"); // Wrap in single quotes if it contains double quotes\n                }\n                if (value.includes(\"'\")) {\n                    return \"\\\"\".concat(value.replace(/'/g, \"\\\\'\"), \"\\\"\"); // Wrap in double quotes and escape single quotes\n                }\n                return \"'\".concat(value, \"'\"); // Default to wrapping in single quotes\n            }\n            return value; // Return non-nested strings as-is\n        }\n        else if (typeof value === 'boolean') {\n            // Convert boolean to Python-style capitalized string\n            return value ? 'True' : 'False';\n        }\n        else if (Array.isArray(value)) {\n            // Handle arrays by recursively converting each element\n            var elements = value.map(function (o) { return ensureUnicodePythonCompatible(o, true); });\n            return \"[\".concat(elements.join(', '), \"]\");\n        }\n        else if (typeof value === 'object') {\n            // Handle objects (dictionaries in Python)\n            var entries = Object.entries(value)\n                .filter(function (_a) {\n                var _b = (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__read)(_a, 1), key = _b[0];\n                return key != null;\n            }) // Filter out null keys\n                .map(function (_a) {\n                var _b = (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__read)(_a, 2), key = _b[0], val = _b[1];\n                return \"\".concat(String(ensureUnicodePythonCompatible(key, true)), \": \").concat(String(ensureUnicodePythonCompatible(val, true)));\n            });\n            var result = \"{\".concat(entries.join(', '), \"}\");\n            // Handle single quotes in the resulting string\n            if (result.includes(\"\\\\'\")) {\n                result = result.replace(/'/g, \"'\").replace(/'/g, \"\\\\'\");\n            }\n            return result;\n        }\n        // For any other types, return their string representation;\n        return value.toString();\n    }\n    catch (e) {\n        // Return null if any error occurs during the conversion\n        return null;\n    }\n}\n//# sourceMappingURL=hierarchy.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGFtcGxpdHVkZStwbHVnaW4tYXV0b2NhcHR1cmUtYnJvd3NlckAxLjIuOC9ub2RlX21vZHVsZXMvQGFtcGxpdHVkZS9wbHVnaW4tYXV0b2NhcHR1cmUtYnJvd3Nlci9saWIvZXNtL2hpZXJhcmNoeS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQXlDO0FBQ1M7QUFDbEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlFQUFpRSx3Q0FBd0M7QUFDekc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0VBQXNFLGlEQUFpRDtBQUN2SCw4QkFBOEIsK0RBQXFCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBLDRDQUE0QywrQ0FBUSw0RUFBNEUsOEJBQThCO0FBQzlKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixRQUFRO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtRUFBbUUsa0NBQWtDO0FBQ3JHO0FBQ0E7QUFDTztBQUNQO0FBQ0Esb0JBQW9CLGlCQUFpQjtBQUNyQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbURBQW1EO0FBQ25EO0FBQ0E7QUFDQSwwRUFBMEU7QUFDMUU7QUFDQSwrQ0FBK0M7QUFDL0M7QUFDQSwwQkFBMEI7QUFDMUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvREFBb0QsZ0RBQWdEO0FBQ3BHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5Qiw2Q0FBTTtBQUMvQjtBQUNBLGFBQWE7QUFDYjtBQUNBLHlCQUF5Qiw2Q0FBTTtBQUMvQjtBQUNBLGFBQWE7QUFDYiwyQkFBMkIsK0JBQStCO0FBQzFEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL2hvbWUvYnJvbnplL2NvZGluZy9mc2FrbS9ub2RlX21vZHVsZXMvLnBucG0vQGFtcGxpdHVkZStwbHVnaW4tYXV0b2NhcHR1cmUtYnJvd3NlckAxLjIuOC9ub2RlX21vZHVsZXMvQGFtcGxpdHVkZS9wbHVnaW4tYXV0b2NhcHR1cmUtYnJvd3Nlci9saWIvZXNtL2hpZXJhcmNoeS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfX3JlYWQsIF9fdmFsdWVzIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBpc05vblNlbnNpdGl2ZUVsZW1lbnQgfSBmcm9tICcuL2hlbHBlcnMnO1xudmFyIEJMT0NLRURfQVRUUklCVVRFUyA9IFtcbiAgICAvLyBBbHJlYWR5IGNhcHR1cmVkIGVsc2V3aGVyZSBpbiB0aGUgaGllcmFyY2h5IG9iamVjdFxuICAgICdpZCcsXG4gICAgJ2NsYXNzJyxcbiAgICAvLyBub24tdXNlZnVsIGFuZCBwb3RlbnRpYWxseSBsYXJnZSBhdHRyaWJ1dGVcbiAgICAnc3R5bGUnLFxuICAgIC8vIHNlbnNpdGl2ZSBhcyBwcmVmaWxsZWQgZm9ybSBkYXRhIG1heSBwb3B1bGF0ZSB0aGlzIGF0dHJpYnV0ZVxuICAgICd2YWx1ZScsXG4gICAgLy8gRE9NIGV2ZW50c1xuICAgICdvbmNsaWNrJyxcbiAgICAnb25jaGFuZ2UnLFxuICAgICdvbmlucHV0JyxcbiAgICAnb25ibHVyJyxcbiAgICAnb25zdWJtaXQnLFxuICAgICdvbmZvY3VzJyxcbiAgICAnb25rZXlkb3duJyxcbiAgICAnb25rZXl1cCcsXG4gICAgJ29ua2V5cHJlc3MnLFxuICAgIC8vIFJlYWN0IHNwZWNpZmljXG4gICAgJ2RhdGEtcmVhY3RpZCcsXG4gICAgJ2RhdGEtcmVhY3QtY2hlY2tzdW0nLFxuICAgICdkYXRhLXJlYWN0cm9vdCcsXG5dO1xudmFyIFNFTlNJVElWRV9FTEVNRU5UX0FUVFJJQlVURV9BTExPV0xJU1QgPSBbJ3R5cGUnXTtcbnZhciBTVkdfVEFHUyA9IFsnc3ZnJywgJ3BhdGgnLCAnZyddO1xudmFyIEhJR0hMWV9TRU5TSVRJVkVfSU5QVVRfVFlQRVMgPSBbJ3Bhc3N3b3JkJywgJ2hpZGRlbiddO1xudmFyIE1BWF9BVFRSSUJVVEVfTEVOR1RIID0gMTI4O1xudmFyIE1BWF9ISUVSQVJDSFlfTEVOR1RIID0gMTAyNDtcbmV4cG9ydCBmdW5jdGlvbiBnZXRFbGVtZW50UHJvcGVydGllcyhlbGVtZW50KSB7XG4gICAgdmFyIGVfMSwgX2E7XG4gICAgdmFyIF9iLCBfYywgX2QsIF9lO1xuICAgIGlmIChlbGVtZW50ID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICB2YXIgdGFnTmFtZSA9IFN0cmluZyhlbGVtZW50LnRhZ05hbWUpLnRvTG93ZXJDYXNlKCk7XG4gICAgdmFyIHByb3BlcnRpZXMgPSB7XG4gICAgICAgIHRhZzogdGFnTmFtZSxcbiAgICB9O1xuICAgIHZhciBzaWJsaW5ncyA9IEFycmF5LmZyb20oKF9jID0gKF9iID0gZWxlbWVudC5wYXJlbnRFbGVtZW50KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2hpbGRyZW4pICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IFtdKTtcbiAgICBpZiAoc2libGluZ3MubGVuZ3RoKSB7XG4gICAgICAgIHByb3BlcnRpZXMuaW5kZXggPSBzaWJsaW5ncy5pbmRleE9mKGVsZW1lbnQpO1xuICAgICAgICBwcm9wZXJ0aWVzLmluZGV4T2ZUeXBlID0gc2libGluZ3MuZmlsdGVyKGZ1bmN0aW9uIChlbCkgeyByZXR1cm4gZWwudGFnTmFtZSA9PT0gZWxlbWVudC50YWdOYW1lOyB9KS5pbmRleE9mKGVsZW1lbnQpO1xuICAgIH1cbiAgICB2YXIgcHJldlNpYmxpbmdUYWcgPSAoX2UgPSAoX2QgPSBlbGVtZW50LnByZXZpb3VzRWxlbWVudFNpYmxpbmcpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC50YWdOYW1lKSA9PT0gbnVsbCB8fCBfZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2UudG9Mb3dlckNhc2UoKTtcbiAgICBpZiAocHJldlNpYmxpbmdUYWcpIHtcbiAgICAgICAgcHJvcGVydGllcy5wcmV2U2liID0gU3RyaW5nKHByZXZTaWJsaW5nVGFnKTtcbiAgICB9XG4gICAgdmFyIGlkID0gZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2lkJyk7XG4gICAgaWYgKGlkKSB7XG4gICAgICAgIHByb3BlcnRpZXMuaWQgPSBTdHJpbmcoaWQpO1xuICAgIH1cbiAgICB2YXIgY2xhc3NlcyA9IEFycmF5LmZyb20oZWxlbWVudC5jbGFzc0xpc3QpO1xuICAgIGlmIChjbGFzc2VzLmxlbmd0aCkge1xuICAgICAgICBwcm9wZXJ0aWVzLmNsYXNzZXMgPSBjbGFzc2VzO1xuICAgIH1cbiAgICB2YXIgYXR0cmlidXRlcyA9IHt9O1xuICAgIHZhciBhdHRyaWJ1dGVzQXJyYXkgPSBBcnJheS5mcm9tKGVsZW1lbnQuYXR0cmlidXRlcyk7XG4gICAgdmFyIGZpbHRlcmVkQXR0cmlidXRlcyA9IGF0dHJpYnV0ZXNBcnJheS5maWx0ZXIoZnVuY3Rpb24gKGF0dHIpIHsgcmV0dXJuICFCTE9DS0VEX0FUVFJJQlVURVMuaW5jbHVkZXMoYXR0ci5uYW1lKTsgfSk7XG4gICAgdmFyIGlzU2Vuc2l0aXZlRWxlbWVudCA9ICFpc05vblNlbnNpdGl2ZUVsZW1lbnQoZWxlbWVudCk7XG4gICAgLy8gaWYgaW5wdXQgaXMgaGlkZGVuIG9yIHBhc3N3b3JkIG9yIGZvciBTVkdzLCBza2lwIGF0dHJpYnV0ZSBjb2xsZWN0aW9uIGVudGlyZWx5XG4gICAgaWYgKCFISUdITFlfU0VOU0lUSVZFX0lOUFVUX1RZUEVTLmluY2x1ZGVzKFN0cmluZyhlbGVtZW50LmdldEF0dHJpYnV0ZSgndHlwZScpKSkgJiYgIVNWR19UQUdTLmluY2x1ZGVzKHRhZ05hbWUpKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKHZhciBmaWx0ZXJlZEF0dHJpYnV0ZXNfMSA9IF9fdmFsdWVzKGZpbHRlcmVkQXR0cmlidXRlcyksIGZpbHRlcmVkQXR0cmlidXRlc18xXzEgPSBmaWx0ZXJlZEF0dHJpYnV0ZXNfMS5uZXh0KCk7ICFmaWx0ZXJlZEF0dHJpYnV0ZXNfMV8xLmRvbmU7IGZpbHRlcmVkQXR0cmlidXRlc18xXzEgPSBmaWx0ZXJlZEF0dHJpYnV0ZXNfMS5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgYXR0ciA9IGZpbHRlcmVkQXR0cmlidXRlc18xXzEudmFsdWU7XG4gICAgICAgICAgICAgICAgLy8gSWYgc2Vuc2l0aXZlIGVsZW1lbnQsIG9ubHkgYWxsb3cgY2VydGFpbiBhdHRyaWJ1dGVzXG4gICAgICAgICAgICAgICAgaWYgKGlzU2Vuc2l0aXZlRWxlbWVudCAmJiAhU0VOU0lUSVZFX0VMRU1FTlRfQVRUUklCVVRFX0FMTE9XTElTVC5pbmNsdWRlcyhhdHRyLm5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBGaW5hbGx5IGNhc3QgYXR0cmlidXRlIHZhbHVlIHRvIHN0cmluZyBhbmQgbGltaXQgYXR0cmlidXRlIHZhbHVlIGxlbmd0aFxuICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXNbYXR0ci5uYW1lXSA9IFN0cmluZyhhdHRyLnZhbHVlKS5zdWJzdHJpbmcoMCwgTUFYX0FUVFJJQlVURV9MRU5HVEgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBpZiAoZmlsdGVyZWRBdHRyaWJ1dGVzXzFfMSAmJiAhZmlsdGVyZWRBdHRyaWJ1dGVzXzFfMS5kb25lICYmIChfYSA9IGZpbHRlcmVkQXR0cmlidXRlc18xLnJldHVybikpIF9hLmNhbGwoZmlsdGVyZWRBdHRyaWJ1dGVzXzEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChPYmplY3Qua2V5cyhhdHRyaWJ1dGVzKS5sZW5ndGgpIHtcbiAgICAgICAgcHJvcGVydGllcy5hdHRycyA9IGF0dHJpYnV0ZXM7XG4gICAgfVxuICAgIHJldHVybiBwcm9wZXJ0aWVzO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldEFuY2VzdG9ycyh0YXJnZXRFbCkge1xuICAgIHZhciBhbmNlc3RvcnMgPSBbXTtcbiAgICBpZiAoIXRhcmdldEVsKSB7XG4gICAgICAgIHJldHVybiBhbmNlc3RvcnM7XG4gICAgfVxuICAgIC8vIEFkZCBzZWxmIHRvIHRoZSBsaXN0IG9mIGFuY2VzdG9yc1xuICAgIGFuY2VzdG9ycy5wdXNoKHRhcmdldEVsKTtcbiAgICB2YXIgY3VycmVudCA9IHRhcmdldEVsLnBhcmVudEVsZW1lbnQ7XG4gICAgd2hpbGUgKGN1cnJlbnQgJiYgY3VycmVudC50YWdOYW1lICE9PSAnSFRNTCcpIHtcbiAgICAgICAgYW5jZXN0b3JzLnB1c2goY3VycmVudCk7XG4gICAgICAgIGN1cnJlbnQgPSBjdXJyZW50LnBhcmVudEVsZW1lbnQ7XG4gICAgfVxuICAgIHJldHVybiBhbmNlc3RvcnM7XG59XG4vLyBHZXQgdGhlIERPTSBoaWVyYXJjaHkgb2YgdGhlIGVsZW1lbnQsIHN0YXJ0aW5nIGZyb20gdGhlIHRhcmdldCBlbGVtZW50IHRvIHRoZSByb290IGVsZW1lbnQuXG5leHBvcnQgdmFyIGdldEhpZXJhcmNoeSA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgdmFyIGhpZXJhcmNoeSA9IFtdO1xuICAgIGlmICghZWxlbWVudCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIC8vIEdldCBsaXN0IG9mIGFuY2VzdG9ycyBpbmNsdWRpbmcgaXRzZWxmIGFuZCBnZXQgcHJvcGVydGllcyBhdCBlYWNoIGxldmVsIGluIHRoZSBoaWVyYXJjaHlcbiAgICB2YXIgYW5jZXN0b3JzID0gZ2V0QW5jZXN0b3JzKGVsZW1lbnQpO1xuICAgIGhpZXJhcmNoeSA9IGVuc3VyZUxpc3RVbmRlckxpbWl0KGFuY2VzdG9ycy5tYXAoZnVuY3Rpb24gKGVsKSB7IHJldHVybiBnZXRFbGVtZW50UHJvcGVydGllcyhlbCk7IH0pLCBNQVhfSElFUkFSQ0hZX0xFTkdUSCk7XG4gICAgcmV0dXJuIGhpZXJhcmNoeTtcbn07XG5leHBvcnQgZnVuY3Rpb24gZW5zdXJlTGlzdFVuZGVyTGltaXQobGlzdCwgYnl0ZXNMaW1pdCkge1xuICAgIHZhciBudW1DaGFycyA9IDA7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBub2RlID0gbGlzdFtpXTtcbiAgICAgICAgaWYgKG5vZGUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIHNpbXVsYXRlICdOb25lJyBpbiBweXRob25cbiAgICAgICAgICAgIG51bUNoYXJzICs9IDQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBlbnN1cmVVbmljb2RlUHl0aG9uQ29tcGF0aWJsZShub2RlKTtcbiAgICAgICAgICAgIC8vIFVzaW5nIEFycmF5LmZyb20oc3RyaW5nKS5sZW5ndGggaW5zdGVhZCBvZiBzdHJpbmcubGVuZ3RoXG4gICAgICAgICAgICAvLyB0byBjb3JyZWN0bHkgY291bnQgVW5pY29kZSBjaGFyYWN0ZXJzIChpbmNsdWRpbmcgZW1vamlzKVxuICAgICAgICAgICAgbnVtQ2hhcnMgKz0gdmFsdWUgPyBBcnJheS5mcm9tKHZhbHVlKS5sZW5ndGggOiA0O1xuICAgICAgICB9XG4gICAgICAgIGlmIChudW1DaGFycyA+IGJ5dGVzTGltaXQpIHtcbiAgICAgICAgICAgIHJldHVybiBsaXN0LnNsaWNlKDAsIGkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBsaXN0O1xufVxuLyoqXG4gKiBDb252ZXJ0cyBhIEpTT04tY29tcGF0aWJsZSB2YWx1ZSB0byBhIFB5dGhvbi1jb21wYXRpYmxlIHN0cmluZyByZXByZXNlbnRhdGlvbi5cbiAqIFRoaXMgZnVuY3Rpb24gaGFuZGxlcyB2YXJpb3VzIGRhdGEgdHlwZXMgYW5kIGVuc3VyZXMgcHJvcGVyIGVzY2FwaW5nIGFuZCBmb3JtYXR0aW5nLlxuICpcbiAqIEBwYXJhbSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byBiZSBjb252ZXJ0ZWQgKGNhbiBiZSBhbnkgSlNPTi1jb21wYXRpYmxlIHR5cGUpXG4gKiBAcGFyYW0gbmVzdGVkIC0gSW5kaWNhdGVzIGlmIHRoZSB2YWx1ZSBpcyBuZXN0ZWQgd2l0aGluIGFub3RoZXIgc3RydWN0dXJlIChkZWZhdWx0OiBmYWxzZSlcbiAqIEByZXR1cm5zIEEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSB2YWx1ZSBjb21wYXRpYmxlIHdpdGggUHl0aG9uLCBvciBudWxsIGlmIGNvbnZlcnNpb24gZmFpbHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVuc3VyZVVuaWNvZGVQeXRob25Db21wYXRpYmxlKHZhbHVlLCBuZXN0ZWQpIHtcbiAgICBpZiAobmVzdGVkID09PSB2b2lkIDApIHsgbmVzdGVkID0gZmFsc2U7IH1cbiAgICB0cnkge1xuICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICAgICAgLy8gSGFuZGxlIG51bGwgdmFsdWVzXG4gICAgICAgICAgICBpZiAobmVzdGVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdOb25lJzsgLy8gUmVwcmVzZW50IG51bGwgYXMgJ05vbmUnIGluIFB5dGhvbiB3aGVuIG5lc3RlZFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7IC8vIFJldHVybiBudWxsIGZvciB0b3AtbGV2ZWwgbnVsbCB2YWx1ZXNcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBpZiAobmVzdGVkKSB7XG4gICAgICAgICAgICAgICAgLy8gRXNjYXBlIHNwZWNpYWwgY2hhcmFjdGVycyBpbiBuZXN0ZWQgc3RyaW5nc1xuICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZSgvXFxcXC9nLCAnXFxcXFxcXFwnKS5yZXBsYWNlKC9cXG4vZywgJ1xcXFxuJykucmVwbGFjZSgvXFx0L2csICdcXFxcdCcpLnJlcGxhY2UoL1xcci9nLCAnXFxcXHInKTtcbiAgICAgICAgICAgICAgICAvLyBIYW5kbGUgcXVvdGVzIGluIHRoZSBzdHJpbmdcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUuaW5jbHVkZXMoJ1wiJykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiJ1wiLmNvbmNhdCh2YWx1ZSwgXCInXCIpOyAvLyBXcmFwIGluIHNpbmdsZSBxdW90ZXMgaWYgaXQgY29udGFpbnMgZG91YmxlIHF1b3Rlc1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodmFsdWUuaW5jbHVkZXMoXCInXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBcIlxcXCJcIi5jb25jYXQodmFsdWUucmVwbGFjZSgvJy9nLCBcIlxcXFwnXCIpLCBcIlxcXCJcIik7IC8vIFdyYXAgaW4gZG91YmxlIHF1b3RlcyBhbmQgZXNjYXBlIHNpbmdsZSBxdW90ZXNcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiJ1wiLmNvbmNhdCh2YWx1ZSwgXCInXCIpOyAvLyBEZWZhdWx0IHRvIHdyYXBwaW5nIGluIHNpbmdsZSBxdW90ZXNcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTsgLy8gUmV0dXJuIG5vbi1uZXN0ZWQgc3RyaW5ncyBhcy1pc1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgICAvLyBDb252ZXJ0IGJvb2xlYW4gdG8gUHl0aG9uLXN0eWxlIGNhcGl0YWxpemVkIHN0cmluZ1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlID8gJ1RydWUnIDogJ0ZhbHNlJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAgICAgLy8gSGFuZGxlIGFycmF5cyBieSByZWN1cnNpdmVseSBjb252ZXJ0aW5nIGVhY2ggZWxlbWVudFxuICAgICAgICAgICAgdmFyIGVsZW1lbnRzID0gdmFsdWUubWFwKGZ1bmN0aW9uIChvKSB7IHJldHVybiBlbnN1cmVVbmljb2RlUHl0aG9uQ29tcGF0aWJsZShvLCB0cnVlKTsgfSk7XG4gICAgICAgICAgICByZXR1cm4gXCJbXCIuY29uY2F0KGVsZW1lbnRzLmpvaW4oJywgJyksIFwiXVwiKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAvLyBIYW5kbGUgb2JqZWN0cyAoZGljdGlvbmFyaWVzIGluIFB5dGhvbilcbiAgICAgICAgICAgIHZhciBlbnRyaWVzID0gT2JqZWN0LmVudHJpZXModmFsdWUpXG4gICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2IgPSBfX3JlYWQoX2EsIDEpLCBrZXkgPSBfYlswXTtcbiAgICAgICAgICAgICAgICByZXR1cm4ga2V5ICE9IG51bGw7XG4gICAgICAgICAgICB9KSAvLyBGaWx0ZXIgb3V0IG51bGwga2V5c1xuICAgICAgICAgICAgICAgIC5tYXAoZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9iID0gX19yZWFkKF9hLCAyKSwga2V5ID0gX2JbMF0sIHZhbCA9IF9iWzFdO1xuICAgICAgICAgICAgICAgIHJldHVybiBcIlwiLmNvbmNhdChTdHJpbmcoZW5zdXJlVW5pY29kZVB5dGhvbkNvbXBhdGlibGUoa2V5LCB0cnVlKSksIFwiOiBcIikuY29uY2F0KFN0cmluZyhlbnN1cmVVbmljb2RlUHl0aG9uQ29tcGF0aWJsZSh2YWwsIHRydWUpKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciByZXN1bHQgPSBcIntcIi5jb25jYXQoZW50cmllcy5qb2luKCcsICcpLCBcIn1cIik7XG4gICAgICAgICAgICAvLyBIYW5kbGUgc2luZ2xlIHF1b3RlcyBpbiB0aGUgcmVzdWx0aW5nIHN0cmluZ1xuICAgICAgICAgICAgaWYgKHJlc3VsdC5pbmNsdWRlcyhcIlxcXFwnXCIpKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnJlcGxhY2UoLycvZywgXCInXCIpLnJlcGxhY2UoLycvZywgXCJcXFxcJ1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRm9yIGFueSBvdGhlciB0eXBlcywgcmV0dXJuIHRoZWlyIHN0cmluZyByZXByZXNlbnRhdGlvbjtcbiAgICAgICAgcmV0dXJuIHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIC8vIFJldHVybiBudWxsIGlmIGFueSBlcnJvciBvY2N1cnMgZHVyaW5nIHRoZSBjb252ZXJzaW9uXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWhpZXJhcmNoeS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@amplitude+plugin-autocapture-browser@1.2.8/node_modules/@amplitude/plugin-autocapture-browser/lib/esm/hierarchy.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@amplitude+plugin-autocapture-browser@1.2.8/node_modules/@amplitude/plugin-autocapture-browser/lib/esm/libs/messenger.js":
/*!*****************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@amplitude+plugin-autocapture-browser@1.2.8/node_modules/@amplitude/plugin-autocapture-browser/lib/esm/libs/messenger.js ***!
  \*****************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   WindowMessenger: () => (/* binding */ WindowMessenger)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../constants */ \"(ssr)/./node_modules/.pnpm/@amplitude+plugin-autocapture-browser@1.2.8/node_modules/@amplitude/plugin-autocapture-browser/lib/esm/constants.js\");\n/* harmony import */ var _helpers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../helpers */ \"(ssr)/./node_modules/.pnpm/@amplitude+plugin-autocapture-browser@1.2.8/node_modules/@amplitude/plugin-autocapture-browser/lib/esm/helpers.js\");\n/* istanbul ignore file */\n/* eslint-disable no-restricted-globals */\n\n\n// TODO: use MessageChannel instead of window.postMessage\nvar WindowMessenger = /** @class */ (function () {\n    function WindowMessenger(_a) {\n        var _b = _a === void 0 ? {} : _a, _c = _b.origin, origin = _c === void 0 ? _constants__WEBPACK_IMPORTED_MODULE_0__.AMPLITUDE_ORIGIN : _c;\n        var _this = this;\n        this.endpoint = _constants__WEBPACK_IMPORTED_MODULE_0__.AMPLITUDE_ORIGIN;\n        this.requestCallbacks = {};\n        this.onSelect = function (data) {\n            _this.notify({ action: 'element-selected', data: data });\n        };\n        this.onTrack = function (type, properties) {\n            if (type === 'selector-mode-changed') {\n                _this.notify({ action: 'track-selector-mode-changed', data: properties });\n            }\n            else if (type === 'selector-moved') {\n                _this.notify({ action: 'track-selector-moved', data: properties });\n            }\n        };\n        this.endpoint = origin;\n    }\n    WindowMessenger.prototype.notify = function (message) {\n        var _a, _b, _c, _d;\n        (_b = (_a = this.logger) === null || _a === void 0 ? void 0 : _a.debug) === null || _b === void 0 ? void 0 : _b.call(_a, 'Message sent: ', JSON.stringify(message));\n        (_d = (_c = window.opener) === null || _c === void 0 ? void 0 : _c.postMessage) === null || _d === void 0 ? void 0 : _d.call(_c, message, this.endpoint);\n    };\n    // Send an async request to the parent window\n    WindowMessenger.prototype.sendRequest = function (action, args, options) {\n        var _this = this;\n        if (options === void 0) { options = { timeout: 15000 }; }\n        // Create Request ID\n        var id = (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.generateUniqueId)();\n        var request = {\n            id: id,\n            action: action,\n            args: args,\n        };\n        // Create a Promise that will be resolved when the response is received\n        var promise = new Promise(function (resolve, reject) {\n            _this.requestCallbacks[id] = { resolve: resolve, reject: reject };\n            // Send the request\n            _this.notify(request);\n            // Handle request timeouts\n            if ((options === null || options === void 0 ? void 0 : options.timeout) > 0) {\n                setTimeout(function () {\n                    reject(new Error(\"\".concat(action, \" timed out (id: \").concat(id, \")\")));\n                    delete _this.requestCallbacks[id];\n                }, options.timeout);\n            }\n        });\n        return promise;\n    };\n    // Handle messages from the parent window\n    WindowMessenger.prototype.handleResponse = function (response) {\n        var _a;\n        if (!this.requestCallbacks[response.id]) {\n            (_a = this.logger) === null || _a === void 0 ? void 0 : _a.warn(\"No callback found for request id: \".concat(response.id));\n            return;\n        }\n        this.requestCallbacks[response.id].resolve(response.responseData);\n        delete this.requestCallbacks[response.id];\n    };\n    WindowMessenger.prototype.setup = function (_a) {\n        var _this = this;\n        var _b = _a === void 0 ? {} : _a, logger = _b.logger, endpoint = _b.endpoint, isElementSelectable = _b.isElementSelectable, cssSelectorAllowlist = _b.cssSelectorAllowlist, actionClickAllowlist = _b.actionClickAllowlist;\n        this.logger = logger;\n        // If endpoint is customized, don't override it.\n        if (endpoint && this.endpoint === _constants__WEBPACK_IMPORTED_MODULE_0__.AMPLITUDE_ORIGIN) {\n            this.endpoint = endpoint;\n        }\n        var amplitudeVisualTaggingSelectorInstance = null;\n        // Attach Event Listener to listen for messages from the parent window\n        window.addEventListener('message', function (event) {\n            var _a, _b, _c, _d, _e;\n            (_b = (_a = _this.logger) === null || _a === void 0 ? void 0 : _a.debug) === null || _b === void 0 ? void 0 : _b.call(_a, 'Message received: ', JSON.stringify(event));\n            // Only accept messages from the specified origin\n            if (_this.endpoint !== event.origin) {\n                return;\n            }\n            var eventData = event === null || event === void 0 ? void 0 : event.data;\n            var action = eventData === null || eventData === void 0 ? void 0 : eventData.action;\n            // Ignore messages without action\n            if (!action) {\n                return;\n            }\n            // If id exists, handle responses to previous requests\n            if ('id' in eventData) {\n                (_d = (_c = _this.logger) === null || _c === void 0 ? void 0 : _c.debug) === null || _d === void 0 ? void 0 : _d.call(_c, 'Received Response to previous request: ', JSON.stringify(event));\n                _this.handleResponse(eventData);\n                // If action exists, handle the action using existing handlers\n            }\n            else {\n                if (action === 'ping') {\n                    _this.notify({ action: 'pong' });\n                }\n                else if (action === 'initialize-visual-tagging-selector') {\n                    var actionData_1 = eventData === null || eventData === void 0 ? void 0 : eventData.data;\n                    (0,_helpers__WEBPACK_IMPORTED_MODULE_1__.asyncLoadScript)(_constants__WEBPACK_IMPORTED_MODULE_0__.AMPLITUDE_VISUAL_TAGGING_SELECTOR_SCRIPT_URL)\n                        .then(function () {\n                        var _a;\n                        // eslint-disable-next-line\n                        amplitudeVisualTaggingSelectorInstance = (_a = window === null || window === void 0 ? void 0 : window.amplitudeVisualTaggingSelector) === null || _a === void 0 ? void 0 : _a.call(window, {\n                            getEventTagProps: _helpers__WEBPACK_IMPORTED_MODULE_1__.getEventTagProps,\n                            isElementSelectable: function (element) {\n                                if (isElementSelectable) {\n                                    return isElementSelectable((actionData_1 === null || actionData_1 === void 0 ? void 0 : actionData_1.actionType) || 'click', element);\n                                }\n                                return true;\n                            },\n                            onTrack: _this.onTrack,\n                            onSelect: _this.onSelect,\n                            visualHighlightClass: _constants__WEBPACK_IMPORTED_MODULE_0__.AMPLITUDE_VISUAL_TAGGING_HIGHLIGHT_CLASS,\n                            messenger: _this,\n                            cssSelectorAllowlist: cssSelectorAllowlist,\n                            actionClickAllowlist: actionClickAllowlist,\n                        });\n                        _this.notify({ action: 'selector-loaded' });\n                    })\n                        .catch(function () {\n                        var _a;\n                        (_a = _this.logger) === null || _a === void 0 ? void 0 : _a.warn('Failed to initialize visual tagging selector');\n                    });\n                }\n                else if (action === 'close-visual-tagging-selector') {\n                    // eslint-disable-next-line\n                    (_e = amplitudeVisualTaggingSelectorInstance === null || amplitudeVisualTaggingSelectorInstance === void 0 ? void 0 : amplitudeVisualTaggingSelectorInstance.close) === null || _e === void 0 ? void 0 : _e.call(amplitudeVisualTaggingSelectorInstance);\n                }\n            }\n        });\n        // Notify the parent window that the page has loaded\n        this.notify({ action: 'page-loaded' });\n    };\n    return WindowMessenger;\n}());\n\n//# sourceMappingURL=messenger.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGFtcGxpdHVkZStwbHVnaW4tYXV0b2NhcHR1cmUtYnJvd3NlckAxLjIuOC9ub2RlX21vZHVsZXMvQGFtcGxpdHVkZS9wbHVnaW4tYXV0b2NhcHR1cmUtYnJvd3Nlci9saWIvZXNtL2xpYnMvbWVzc2VuZ2VyLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0E7QUFDeUk7QUFDeEQ7QUFDakY7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLCtDQUErQyx3REFBZ0I7QUFDbkc7QUFDQSx3QkFBd0Isd0RBQWdCO0FBQ3hDO0FBQ0E7QUFDQSwyQkFBMkIsd0NBQXdDO0FBQ25FO0FBQ0E7QUFDQTtBQUNBLCtCQUErQix5REFBeUQ7QUFDeEY7QUFDQTtBQUNBLCtCQUErQixrREFBa0Q7QUFDakY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDLFlBQVk7QUFDOUM7QUFDQSxpQkFBaUIsMERBQWdCO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMkNBQTJDO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0M7QUFDcEM7QUFDQTtBQUNBLDBDQUEwQyx3REFBZ0I7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsZ0JBQWdCO0FBQ25EO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQix5REFBZSxDQUFDLG9GQUE0QztBQUNoRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QyxzREFBZ0I7QUFDOUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0Esa0RBQWtELGdGQUF3QztBQUMxRjtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekIsdUNBQXVDLDJCQUEyQjtBQUNsRSxxQkFBcUI7QUFDckI7QUFDQTtBQUNBO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLHNCQUFzQix1QkFBdUI7QUFDN0M7QUFDQTtBQUNBLENBQUM7QUFDMEI7QUFDM0IiLCJzb3VyY2VzIjpbIi9ob21lL2Jyb256ZS9jb2RpbmcvZnNha20vbm9kZV9tb2R1bGVzLy5wbnBtL0BhbXBsaXR1ZGUrcGx1Z2luLWF1dG9jYXB0dXJlLWJyb3dzZXJAMS4yLjgvbm9kZV9tb2R1bGVzL0BhbXBsaXR1ZGUvcGx1Z2luLWF1dG9jYXB0dXJlLWJyb3dzZXIvbGliL2VzbS9saWJzL21lc3Nlbmdlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiBpc3RhbmJ1bCBpZ25vcmUgZmlsZSAqL1xuLyogZXNsaW50LWRpc2FibGUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzICovXG5pbXBvcnQgeyBBTVBMSVRVREVfT1JJR0lOLCBBTVBMSVRVREVfVklTVUFMX1RBR0dJTkdfU0VMRUNUT1JfU0NSSVBUX1VSTCwgQU1QTElUVURFX1ZJU1VBTF9UQUdHSU5HX0hJR0hMSUdIVF9DTEFTUywgfSBmcm9tICcuLi9jb25zdGFudHMnO1xuaW1wb3J0IHsgYXN5bmNMb2FkU2NyaXB0LCBnZW5lcmF0ZVVuaXF1ZUlkLCBnZXRFdmVudFRhZ1Byb3BzIH0gZnJvbSAnLi4vaGVscGVycyc7XG4vLyBUT0RPOiB1c2UgTWVzc2FnZUNoYW5uZWwgaW5zdGVhZCBvZiB3aW5kb3cucG9zdE1lc3NhZ2VcbnZhciBXaW5kb3dNZXNzZW5nZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gV2luZG93TWVzc2VuZ2VyKF9hKSB7XG4gICAgICAgIHZhciBfYiA9IF9hID09PSB2b2lkIDAgPyB7fSA6IF9hLCBfYyA9IF9iLm9yaWdpbiwgb3JpZ2luID0gX2MgPT09IHZvaWQgMCA/IEFNUExJVFVERV9PUklHSU4gOiBfYztcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5lbmRwb2ludCA9IEFNUExJVFVERV9PUklHSU47XG4gICAgICAgIHRoaXMucmVxdWVzdENhbGxiYWNrcyA9IHt9O1xuICAgICAgICB0aGlzLm9uU2VsZWN0ID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIF90aGlzLm5vdGlmeSh7IGFjdGlvbjogJ2VsZW1lbnQtc2VsZWN0ZWQnLCBkYXRhOiBkYXRhIH0pO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLm9uVHJhY2sgPSBmdW5jdGlvbiAodHlwZSwgcHJvcGVydGllcykge1xuICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdzZWxlY3Rvci1tb2RlLWNoYW5nZWQnKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMubm90aWZ5KHsgYWN0aW9uOiAndHJhY2stc2VsZWN0b3ItbW9kZS1jaGFuZ2VkJywgZGF0YTogcHJvcGVydGllcyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGUgPT09ICdzZWxlY3Rvci1tb3ZlZCcpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5ub3RpZnkoeyBhY3Rpb246ICd0cmFjay1zZWxlY3Rvci1tb3ZlZCcsIGRhdGE6IHByb3BlcnRpZXMgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuZW5kcG9pbnQgPSBvcmlnaW47XG4gICAgfVxuICAgIFdpbmRvd01lc3Nlbmdlci5wcm90b3R5cGUubm90aWZ5ID0gZnVuY3Rpb24gKG1lc3NhZ2UpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgICAgICAoX2IgPSAoX2EgPSB0aGlzLmxvZ2dlcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmRlYnVnKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChfYSwgJ01lc3NhZ2Ugc2VudDogJywgSlNPTi5zdHJpbmdpZnkobWVzc2FnZSkpO1xuICAgICAgICAoX2QgPSAoX2MgPSB3aW5kb3cub3BlbmVyKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MucG9zdE1lc3NhZ2UpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC5jYWxsKF9jLCBtZXNzYWdlLCB0aGlzLmVuZHBvaW50KTtcbiAgICB9O1xuICAgIC8vIFNlbmQgYW4gYXN5bmMgcmVxdWVzdCB0byB0aGUgcGFyZW50IHdpbmRvd1xuICAgIFdpbmRvd01lc3Nlbmdlci5wcm90b3R5cGUuc2VuZFJlcXVlc3QgPSBmdW5jdGlvbiAoYWN0aW9uLCBhcmdzLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IHsgdGltZW91dDogMTUwMDAgfTsgfVxuICAgICAgICAvLyBDcmVhdGUgUmVxdWVzdCBJRFxuICAgICAgICB2YXIgaWQgPSBnZW5lcmF0ZVVuaXF1ZUlkKCk7XG4gICAgICAgIHZhciByZXF1ZXN0ID0ge1xuICAgICAgICAgICAgaWQ6IGlkLFxuICAgICAgICAgICAgYWN0aW9uOiBhY3Rpb24sXG4gICAgICAgICAgICBhcmdzOiBhcmdzLFxuICAgICAgICB9O1xuICAgICAgICAvLyBDcmVhdGUgYSBQcm9taXNlIHRoYXQgd2lsbCBiZSByZXNvbHZlZCB3aGVuIHRoZSByZXNwb25zZSBpcyByZWNlaXZlZFxuICAgICAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgIF90aGlzLnJlcXVlc3RDYWxsYmFja3NbaWRdID0geyByZXNvbHZlOiByZXNvbHZlLCByZWplY3Q6IHJlamVjdCB9O1xuICAgICAgICAgICAgLy8gU2VuZCB0aGUgcmVxdWVzdFxuICAgICAgICAgICAgX3RoaXMubm90aWZ5KHJlcXVlc3QpO1xuICAgICAgICAgICAgLy8gSGFuZGxlIHJlcXVlc3QgdGltZW91dHNcbiAgICAgICAgICAgIGlmICgob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnRpbWVvdXQpID4gMCkge1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QobmV3IEVycm9yKFwiXCIuY29uY2F0KGFjdGlvbiwgXCIgdGltZWQgb3V0IChpZDogXCIpLmNvbmNhdChpZCwgXCIpXCIpKSk7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBfdGhpcy5yZXF1ZXN0Q2FsbGJhY2tzW2lkXTtcbiAgICAgICAgICAgICAgICB9LCBvcHRpb25zLnRpbWVvdXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHByb21pc2U7XG4gICAgfTtcbiAgICAvLyBIYW5kbGUgbWVzc2FnZXMgZnJvbSB0aGUgcGFyZW50IHdpbmRvd1xuICAgIFdpbmRvd01lc3Nlbmdlci5wcm90b3R5cGUuaGFuZGxlUmVzcG9uc2UgPSBmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoIXRoaXMucmVxdWVzdENhbGxiYWNrc1tyZXNwb25zZS5pZF0pIHtcbiAgICAgICAgICAgIChfYSA9IHRoaXMubG9nZ2VyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Eud2FybihcIk5vIGNhbGxiYWNrIGZvdW5kIGZvciByZXF1ZXN0IGlkOiBcIi5jb25jYXQocmVzcG9uc2UuaWQpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlcXVlc3RDYWxsYmFja3NbcmVzcG9uc2UuaWRdLnJlc29sdmUocmVzcG9uc2UucmVzcG9uc2VEYXRhKTtcbiAgICAgICAgZGVsZXRlIHRoaXMucmVxdWVzdENhbGxiYWNrc1tyZXNwb25zZS5pZF07XG4gICAgfTtcbiAgICBXaW5kb3dNZXNzZW5nZXIucHJvdG90eXBlLnNldHVwID0gZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHZhciBfYiA9IF9hID09PSB2b2lkIDAgPyB7fSA6IF9hLCBsb2dnZXIgPSBfYi5sb2dnZXIsIGVuZHBvaW50ID0gX2IuZW5kcG9pbnQsIGlzRWxlbWVudFNlbGVjdGFibGUgPSBfYi5pc0VsZW1lbnRTZWxlY3RhYmxlLCBjc3NTZWxlY3RvckFsbG93bGlzdCA9IF9iLmNzc1NlbGVjdG9yQWxsb3dsaXN0LCBhY3Rpb25DbGlja0FsbG93bGlzdCA9IF9iLmFjdGlvbkNsaWNrQWxsb3dsaXN0O1xuICAgICAgICB0aGlzLmxvZ2dlciA9IGxvZ2dlcjtcbiAgICAgICAgLy8gSWYgZW5kcG9pbnQgaXMgY3VzdG9taXplZCwgZG9uJ3Qgb3ZlcnJpZGUgaXQuXG4gICAgICAgIGlmIChlbmRwb2ludCAmJiB0aGlzLmVuZHBvaW50ID09PSBBTVBMSVRVREVfT1JJR0lOKSB7XG4gICAgICAgICAgICB0aGlzLmVuZHBvaW50ID0gZW5kcG9pbnQ7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGFtcGxpdHVkZVZpc3VhbFRhZ2dpbmdTZWxlY3Rvckluc3RhbmNlID0gbnVsbDtcbiAgICAgICAgLy8gQXR0YWNoIEV2ZW50IExpc3RlbmVyIHRvIGxpc3RlbiBmb3IgbWVzc2FnZXMgZnJvbSB0aGUgcGFyZW50IHdpbmRvd1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZTtcbiAgICAgICAgICAgIChfYiA9IChfYSA9IF90aGlzLmxvZ2dlcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmRlYnVnKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChfYSwgJ01lc3NhZ2UgcmVjZWl2ZWQ6ICcsIEpTT04uc3RyaW5naWZ5KGV2ZW50KSk7XG4gICAgICAgICAgICAvLyBPbmx5IGFjY2VwdCBtZXNzYWdlcyBmcm9tIHRoZSBzcGVjaWZpZWQgb3JpZ2luXG4gICAgICAgICAgICBpZiAoX3RoaXMuZW5kcG9pbnQgIT09IGV2ZW50Lm9yaWdpbikge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBldmVudERhdGEgPSBldmVudCA9PT0gbnVsbCB8fCBldmVudCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZXZlbnQuZGF0YTtcbiAgICAgICAgICAgIHZhciBhY3Rpb24gPSBldmVudERhdGEgPT09IG51bGwgfHwgZXZlbnREYXRhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBldmVudERhdGEuYWN0aW9uO1xuICAgICAgICAgICAgLy8gSWdub3JlIG1lc3NhZ2VzIHdpdGhvdXQgYWN0aW9uXG4gICAgICAgICAgICBpZiAoIWFjdGlvbikge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIElmIGlkIGV4aXN0cywgaGFuZGxlIHJlc3BvbnNlcyB0byBwcmV2aW91cyByZXF1ZXN0c1xuICAgICAgICAgICAgaWYgKCdpZCcgaW4gZXZlbnREYXRhKSB7XG4gICAgICAgICAgICAgICAgKF9kID0gKF9jID0gX3RoaXMubG9nZ2VyKSA9PT0gbnVsbCB8fCBfYyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2MuZGVidWcpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC5jYWxsKF9jLCAnUmVjZWl2ZWQgUmVzcG9uc2UgdG8gcHJldmlvdXMgcmVxdWVzdDogJywgSlNPTi5zdHJpbmdpZnkoZXZlbnQpKTtcbiAgICAgICAgICAgICAgICBfdGhpcy5oYW5kbGVSZXNwb25zZShldmVudERhdGEpO1xuICAgICAgICAgICAgICAgIC8vIElmIGFjdGlvbiBleGlzdHMsIGhhbmRsZSB0aGUgYWN0aW9uIHVzaW5nIGV4aXN0aW5nIGhhbmRsZXJzXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoYWN0aW9uID09PSAncGluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMubm90aWZ5KHsgYWN0aW9uOiAncG9uZycgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGFjdGlvbiA9PT0gJ2luaXRpYWxpemUtdmlzdWFsLXRhZ2dpbmctc2VsZWN0b3InKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhY3Rpb25EYXRhXzEgPSBldmVudERhdGEgPT09IG51bGwgfHwgZXZlbnREYXRhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBldmVudERhdGEuZGF0YTtcbiAgICAgICAgICAgICAgICAgICAgYXN5bmNMb2FkU2NyaXB0KEFNUExJVFVERV9WSVNVQUxfVEFHR0lOR19TRUxFQ1RPUl9TQ1JJUFRfVVJMKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lXG4gICAgICAgICAgICAgICAgICAgICAgICBhbXBsaXR1ZGVWaXN1YWxUYWdnaW5nU2VsZWN0b3JJbnN0YW5jZSA9IChfYSA9IHdpbmRvdyA9PT0gbnVsbCB8fCB3aW5kb3cgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHdpbmRvdy5hbXBsaXR1ZGVWaXN1YWxUYWdnaW5nU2VsZWN0b3IpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHdpbmRvdywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldEV2ZW50VGFnUHJvcHM6IGdldEV2ZW50VGFnUHJvcHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNFbGVtZW50U2VsZWN0YWJsZTogZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzRWxlbWVudFNlbGVjdGFibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpc0VsZW1lbnRTZWxlY3RhYmxlKChhY3Rpb25EYXRhXzEgPT09IG51bGwgfHwgYWN0aW9uRGF0YV8xID09PSB2b2lkIDAgPyB2b2lkIDAgOiBhY3Rpb25EYXRhXzEuYWN0aW9uVHlwZSkgfHwgJ2NsaWNrJywgZWxlbWVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblRyYWNrOiBfdGhpcy5vblRyYWNrLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uU2VsZWN0OiBfdGhpcy5vblNlbGVjdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aXN1YWxIaWdobGlnaHRDbGFzczogQU1QTElUVURFX1ZJU1VBTF9UQUdHSU5HX0hJR0hMSUdIVF9DTEFTUyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzZW5nZXI6IF90aGlzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNzc1NlbGVjdG9yQWxsb3dsaXN0OiBjc3NTZWxlY3RvckFsbG93bGlzdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb25DbGlja0FsbG93bGlzdDogYWN0aW9uQ2xpY2tBbGxvd2xpc3QsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLm5vdGlmeSh7IGFjdGlvbjogJ3NlbGVjdG9yLWxvYWRlZCcgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgICAgICAgICAgICAgKF9hID0gX3RoaXMubG9nZ2VyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Eud2FybignRmFpbGVkIHRvIGluaXRpYWxpemUgdmlzdWFsIHRhZ2dpbmcgc2VsZWN0b3InKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGFjdGlvbiA9PT0gJ2Nsb3NlLXZpc3VhbC10YWdnaW5nLXNlbGVjdG9yJykge1xuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgICAgICAgICAgICAgICAgICAgKF9lID0gYW1wbGl0dWRlVmlzdWFsVGFnZ2luZ1NlbGVjdG9ySW5zdGFuY2UgPT09IG51bGwgfHwgYW1wbGl0dWRlVmlzdWFsVGFnZ2luZ1NlbGVjdG9ySW5zdGFuY2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGFtcGxpdHVkZVZpc3VhbFRhZ2dpbmdTZWxlY3Rvckluc3RhbmNlLmNsb3NlKSA9PT0gbnVsbCB8fCBfZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2UuY2FsbChhbXBsaXR1ZGVWaXN1YWxUYWdnaW5nU2VsZWN0b3JJbnN0YW5jZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gTm90aWZ5IHRoZSBwYXJlbnQgd2luZG93IHRoYXQgdGhlIHBhZ2UgaGFzIGxvYWRlZFxuICAgICAgICB0aGlzLm5vdGlmeSh7IGFjdGlvbjogJ3BhZ2UtbG9hZGVkJyB9KTtcbiAgICB9O1xuICAgIHJldHVybiBXaW5kb3dNZXNzZW5nZXI7XG59KCkpO1xuZXhwb3J0IHsgV2luZG93TWVzc2VuZ2VyIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZXNzZW5nZXIuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@amplitude+plugin-autocapture-browser@1.2.8/node_modules/@amplitude/plugin-autocapture-browser/lib/esm/libs/messenger.js\n");

/***/ })

};
;