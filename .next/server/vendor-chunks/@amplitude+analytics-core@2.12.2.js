"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@amplitude+analytics-core@2.12.2";
exports.ids = ["vendor-chunks/@amplitude+analytics-core@2.12.2"];
exports.modules = {

/***/ "(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/analytics-connector.js":
/*!***********************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/analytics-connector.js ***!
  \***********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getAnalyticsConnector: () => (/* binding */ getAnalyticsConnector),\n/* harmony export */   setConnectorDeviceId: () => (/* binding */ setConnectorDeviceId),\n/* harmony export */   setConnectorUserId: () => (/* binding */ setConnectorUserId)\n/* harmony export */ });\n/* harmony import */ var _amplitude_analytics_connector__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @amplitude/analytics-connector */ \"(ssr)/./node_modules/.pnpm/@amplitude+analytics-connector@1.6.4/node_modules/@amplitude/analytics-connector/dist/analytics-connector.esm.js\");\n\nvar getAnalyticsConnector = function (instanceName) {\n    if (instanceName === void 0) { instanceName = '$default_instance'; }\n    return _amplitude_analytics_connector__WEBPACK_IMPORTED_MODULE_0__.AnalyticsConnector.getInstance(instanceName);\n};\nvar setConnectorUserId = function (userId, instanceName) {\n    // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n    // @ts-ignore\n    getAnalyticsConnector(instanceName).identityStore.editIdentity().setUserId(userId).commit();\n};\nvar setConnectorDeviceId = function (deviceId, instanceName) {\n    getAnalyticsConnector(instanceName).identityStore.editIdentity().setDeviceId(deviceId).commit();\n};\n//# sourceMappingURL=analytics-connector.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGFtcGxpdHVkZSthbmFseXRpY3MtY29yZUAyLjEyLjIvbm9kZV9tb2R1bGVzL0BhbXBsaXR1ZGUvYW5hbHl0aWNzLWNvcmUvbGliL2VzbS9hbmFseXRpY3MtY29ubmVjdG9yLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBb0U7QUFDN0Q7QUFDUCxtQ0FBbUM7QUFDbkMsV0FBVyw4RUFBa0I7QUFDN0I7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9ob21lL2Jyb256ZS9jb2RpbmcvZnNha20vbm9kZV9tb2R1bGVzLy5wbnBtL0BhbXBsaXR1ZGUrYW5hbHl0aWNzLWNvcmVAMi4xMi4yL25vZGVfbW9kdWxlcy9AYW1wbGl0dWRlL2FuYWx5dGljcy1jb3JlL2xpYi9lc20vYW5hbHl0aWNzLWNvbm5lY3Rvci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBBbmFseXRpY3NDb25uZWN0b3IgfSBmcm9tICdAYW1wbGl0dWRlL2FuYWx5dGljcy1jb25uZWN0b3InO1xuZXhwb3J0IHZhciBnZXRBbmFseXRpY3NDb25uZWN0b3IgPSBmdW5jdGlvbiAoaW5zdGFuY2VOYW1lKSB7XG4gICAgaWYgKGluc3RhbmNlTmFtZSA9PT0gdm9pZCAwKSB7IGluc3RhbmNlTmFtZSA9ICckZGVmYXVsdF9pbnN0YW5jZSc7IH1cbiAgICByZXR1cm4gQW5hbHl0aWNzQ29ubmVjdG9yLmdldEluc3RhbmNlKGluc3RhbmNlTmFtZSk7XG59O1xuZXhwb3J0IHZhciBzZXRDb25uZWN0b3JVc2VySWQgPSBmdW5jdGlvbiAodXNlcklkLCBpbnN0YW5jZU5hbWUpIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1jb21tZW50XG4gICAgLy8gQHRzLWlnbm9yZVxuICAgIGdldEFuYWx5dGljc0Nvbm5lY3RvcihpbnN0YW5jZU5hbWUpLmlkZW50aXR5U3RvcmUuZWRpdElkZW50aXR5KCkuc2V0VXNlcklkKHVzZXJJZCkuY29tbWl0KCk7XG59O1xuZXhwb3J0IHZhciBzZXRDb25uZWN0b3JEZXZpY2VJZCA9IGZ1bmN0aW9uIChkZXZpY2VJZCwgaW5zdGFuY2VOYW1lKSB7XG4gICAgZ2V0QW5hbHl0aWNzQ29ubmVjdG9yKGluc3RhbmNlTmFtZSkuaWRlbnRpdHlTdG9yZS5lZGl0SWRlbnRpdHkoKS5zZXREZXZpY2VJZChkZXZpY2VJZCkuY29tbWl0KCk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YW5hbHl0aWNzLWNvbm5lY3Rvci5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/analytics-connector.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/config.js":
/*!**********************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/config.js ***!
  \**********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Config: () => (/* binding */ Config),\n/* harmony export */   RequestMetadata: () => (/* binding */ RequestMetadata),\n/* harmony export */   createServerConfig: () => (/* binding */ createServerConfig),\n/* harmony export */   getDefaultConfig: () => (/* binding */ getDefaultConfig),\n/* harmony export */   getServerUrl: () => (/* binding */ getServerUrl)\n/* harmony export */ });\n/* harmony import */ var _types_constants__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./types/constants */ \"(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/types/constants.js\");\n/* harmony import */ var _logger__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./logger */ \"(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/logger.js\");\n/* harmony import */ var _types_loglevel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./types/loglevel */ \"(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/types/loglevel.js\");\n\n\n\nvar getDefaultConfig = function () { return ({\n    flushMaxRetries: 12,\n    flushQueueSize: 200,\n    flushIntervalMillis: 10000,\n    instanceName: '$default_instance',\n    logLevel: _types_loglevel__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Warn,\n    loggerProvider: new _logger__WEBPACK_IMPORTED_MODULE_1__.Logger(),\n    offline: false,\n    optOut: false,\n    serverUrl: _types_constants__WEBPACK_IMPORTED_MODULE_2__.AMPLITUDE_SERVER_URL,\n    serverZone: 'US',\n    useBatch: false,\n}); };\nvar Config = /** @class */ (function () {\n    function Config(options) {\n        var _a, _b, _c, _d;\n        this._optOut = false;\n        var defaultConfig = getDefaultConfig();\n        this.apiKey = options.apiKey;\n        this.flushIntervalMillis = (_a = options.flushIntervalMillis) !== null && _a !== void 0 ? _a : defaultConfig.flushIntervalMillis;\n        this.flushMaxRetries = options.flushMaxRetries || defaultConfig.flushMaxRetries;\n        this.flushQueueSize = options.flushQueueSize || defaultConfig.flushQueueSize;\n        this.instanceName = options.instanceName || defaultConfig.instanceName;\n        this.loggerProvider = options.loggerProvider || defaultConfig.loggerProvider;\n        this.logLevel = (_b = options.logLevel) !== null && _b !== void 0 ? _b : defaultConfig.logLevel;\n        this.minIdLength = options.minIdLength;\n        this.plan = options.plan;\n        this.ingestionMetadata = options.ingestionMetadata;\n        this.offline = options.offline !== undefined ? options.offline : defaultConfig.offline;\n        this.optOut = (_c = options.optOut) !== null && _c !== void 0 ? _c : defaultConfig.optOut;\n        this.serverUrl = options.serverUrl;\n        this.serverZone = options.serverZone || defaultConfig.serverZone;\n        this.storageProvider = options.storageProvider;\n        this.transportProvider = options.transportProvider;\n        this.useBatch = (_d = options.useBatch) !== null && _d !== void 0 ? _d : defaultConfig.useBatch;\n        this.loggerProvider.enable(this.logLevel);\n        var serverConfig = createServerConfig(options.serverUrl, options.serverZone, options.useBatch);\n        this.serverZone = serverConfig.serverZone;\n        this.serverUrl = serverConfig.serverUrl;\n    }\n    Object.defineProperty(Config.prototype, \"optOut\", {\n        get: function () {\n            return this._optOut;\n        },\n        set: function (optOut) {\n            this._optOut = optOut;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return Config;\n}());\n\nvar getServerUrl = function (serverZone, useBatch) {\n    if (serverZone === 'EU') {\n        return useBatch ? _types_constants__WEBPACK_IMPORTED_MODULE_2__.EU_AMPLITUDE_BATCH_SERVER_URL : _types_constants__WEBPACK_IMPORTED_MODULE_2__.EU_AMPLITUDE_SERVER_URL;\n    }\n    return useBatch ? _types_constants__WEBPACK_IMPORTED_MODULE_2__.AMPLITUDE_BATCH_SERVER_URL : _types_constants__WEBPACK_IMPORTED_MODULE_2__.AMPLITUDE_SERVER_URL;\n};\nvar createServerConfig = function (serverUrl, serverZone, useBatch) {\n    if (serverUrl === void 0) { serverUrl = ''; }\n    if (serverZone === void 0) { serverZone = getDefaultConfig().serverZone; }\n    if (useBatch === void 0) { useBatch = getDefaultConfig().useBatch; }\n    if (serverUrl) {\n        return { serverUrl: serverUrl, serverZone: undefined };\n    }\n    var _serverZone = ['US', 'EU'].includes(serverZone) ? serverZone : getDefaultConfig().serverZone;\n    return {\n        serverZone: _serverZone,\n        serverUrl: getServerUrl(_serverZone, useBatch),\n    };\n};\nvar RequestMetadata = /** @class */ (function () {\n    function RequestMetadata() {\n        this.sdk = {\n            metrics: {\n                histogram: {},\n            },\n        };\n    }\n    RequestMetadata.prototype.recordHistogram = function (key, value) {\n        this.sdk.metrics.histogram[key] = value;\n    };\n    return RequestMetadata;\n}());\n\nvar HistogramOptions = /** @class */ (function () {\n    function HistogramOptions() {\n    }\n    return HistogramOptions;\n}());\n//# sourceMappingURL=config.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGFtcGxpdHVkZSthbmFseXRpY3MtY29yZUAyLjEyLjIvbm9kZV9tb2R1bGVzL0BhbXBsaXR1ZGUvYW5hbHl0aWNzLWNvcmUvbGliL2VzbS9jb25maWcuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBOEk7QUFDNUc7QUFDVTtBQUNyQyxxQ0FBcUM7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLHFEQUFRO0FBQ3RCLHdCQUF3QiwyQ0FBTTtBQUM5QjtBQUNBO0FBQ0EsZUFBZSxrRUFBb0I7QUFDbkM7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsQ0FBQztBQUNpQjtBQUNYO0FBQ1A7QUFDQSwwQkFBMEIsMkVBQTZCLEdBQUcscUVBQXVCO0FBQ2pGO0FBQ0Esc0JBQXNCLHdFQUEwQixHQUFHLGtFQUFvQjtBQUN2RTtBQUNPO0FBQ1AsZ0NBQWdDO0FBQ2hDLGlDQUFpQztBQUNqQywrQkFBK0I7QUFDL0I7QUFDQSxpQkFBaUI7QUFDakI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QjtBQUM3QixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUMwQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRCIsInNvdXJjZXMiOlsiL2hvbWUvYnJvbnplL2NvZGluZy9mc2FrbS9ub2RlX21vZHVsZXMvLnBucG0vQGFtcGxpdHVkZSthbmFseXRpY3MtY29yZUAyLjEyLjIvbm9kZV9tb2R1bGVzL0BhbXBsaXR1ZGUvYW5hbHl0aWNzLWNvcmUvbGliL2VzbS9jb25maWcuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQU1QTElUVURFX1NFUlZFUl9VUkwsIEFNUExJVFVERV9CQVRDSF9TRVJWRVJfVVJMLCBFVV9BTVBMSVRVREVfU0VSVkVSX1VSTCwgRVVfQU1QTElUVURFX0JBVENIX1NFUlZFUl9VUkwsIH0gZnJvbSAnLi90eXBlcy9jb25zdGFudHMnO1xuaW1wb3J0IHsgTG9nZ2VyIH0gZnJvbSAnLi9sb2dnZXInO1xuaW1wb3J0IHsgTG9nTGV2ZWwgfSBmcm9tICcuL3R5cGVzL2xvZ2xldmVsJztcbmV4cG9ydCB2YXIgZ2V0RGVmYXVsdENvbmZpZyA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICh7XG4gICAgZmx1c2hNYXhSZXRyaWVzOiAxMixcbiAgICBmbHVzaFF1ZXVlU2l6ZTogMjAwLFxuICAgIGZsdXNoSW50ZXJ2YWxNaWxsaXM6IDEwMDAwLFxuICAgIGluc3RhbmNlTmFtZTogJyRkZWZhdWx0X2luc3RhbmNlJyxcbiAgICBsb2dMZXZlbDogTG9nTGV2ZWwuV2FybixcbiAgICBsb2dnZXJQcm92aWRlcjogbmV3IExvZ2dlcigpLFxuICAgIG9mZmxpbmU6IGZhbHNlLFxuICAgIG9wdE91dDogZmFsc2UsXG4gICAgc2VydmVyVXJsOiBBTVBMSVRVREVfU0VSVkVSX1VSTCxcbiAgICBzZXJ2ZXJab25lOiAnVVMnLFxuICAgIHVzZUJhdGNoOiBmYWxzZSxcbn0pOyB9O1xudmFyIENvbmZpZyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBDb25maWcob3B0aW9ucykge1xuICAgICAgICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gICAgICAgIHRoaXMuX29wdE91dCA9IGZhbHNlO1xuICAgICAgICB2YXIgZGVmYXVsdENvbmZpZyA9IGdldERlZmF1bHRDb25maWcoKTtcbiAgICAgICAgdGhpcy5hcGlLZXkgPSBvcHRpb25zLmFwaUtleTtcbiAgICAgICAgdGhpcy5mbHVzaEludGVydmFsTWlsbGlzID0gKF9hID0gb3B0aW9ucy5mbHVzaEludGVydmFsTWlsbGlzKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiBkZWZhdWx0Q29uZmlnLmZsdXNoSW50ZXJ2YWxNaWxsaXM7XG4gICAgICAgIHRoaXMuZmx1c2hNYXhSZXRyaWVzID0gb3B0aW9ucy5mbHVzaE1heFJldHJpZXMgfHwgZGVmYXVsdENvbmZpZy5mbHVzaE1heFJldHJpZXM7XG4gICAgICAgIHRoaXMuZmx1c2hRdWV1ZVNpemUgPSBvcHRpb25zLmZsdXNoUXVldWVTaXplIHx8IGRlZmF1bHRDb25maWcuZmx1c2hRdWV1ZVNpemU7XG4gICAgICAgIHRoaXMuaW5zdGFuY2VOYW1lID0gb3B0aW9ucy5pbnN0YW5jZU5hbWUgfHwgZGVmYXVsdENvbmZpZy5pbnN0YW5jZU5hbWU7XG4gICAgICAgIHRoaXMubG9nZ2VyUHJvdmlkZXIgPSBvcHRpb25zLmxvZ2dlclByb3ZpZGVyIHx8IGRlZmF1bHRDb25maWcubG9nZ2VyUHJvdmlkZXI7XG4gICAgICAgIHRoaXMubG9nTGV2ZWwgPSAoX2IgPSBvcHRpb25zLmxvZ0xldmVsKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBkZWZhdWx0Q29uZmlnLmxvZ0xldmVsO1xuICAgICAgICB0aGlzLm1pbklkTGVuZ3RoID0gb3B0aW9ucy5taW5JZExlbmd0aDtcbiAgICAgICAgdGhpcy5wbGFuID0gb3B0aW9ucy5wbGFuO1xuICAgICAgICB0aGlzLmluZ2VzdGlvbk1ldGFkYXRhID0gb3B0aW9ucy5pbmdlc3Rpb25NZXRhZGF0YTtcbiAgICAgICAgdGhpcy5vZmZsaW5lID0gb3B0aW9ucy5vZmZsaW5lICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm9mZmxpbmUgOiBkZWZhdWx0Q29uZmlnLm9mZmxpbmU7XG4gICAgICAgIHRoaXMub3B0T3V0ID0gKF9jID0gb3B0aW9ucy5vcHRPdXQpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IGRlZmF1bHRDb25maWcub3B0T3V0O1xuICAgICAgICB0aGlzLnNlcnZlclVybCA9IG9wdGlvbnMuc2VydmVyVXJsO1xuICAgICAgICB0aGlzLnNlcnZlclpvbmUgPSBvcHRpb25zLnNlcnZlclpvbmUgfHwgZGVmYXVsdENvbmZpZy5zZXJ2ZXJab25lO1xuICAgICAgICB0aGlzLnN0b3JhZ2VQcm92aWRlciA9IG9wdGlvbnMuc3RvcmFnZVByb3ZpZGVyO1xuICAgICAgICB0aGlzLnRyYW5zcG9ydFByb3ZpZGVyID0gb3B0aW9ucy50cmFuc3BvcnRQcm92aWRlcjtcbiAgICAgICAgdGhpcy51c2VCYXRjaCA9IChfZCA9IG9wdGlvbnMudXNlQmF0Y2gpICE9PSBudWxsICYmIF9kICE9PSB2b2lkIDAgPyBfZCA6IGRlZmF1bHRDb25maWcudXNlQmF0Y2g7XG4gICAgICAgIHRoaXMubG9nZ2VyUHJvdmlkZXIuZW5hYmxlKHRoaXMubG9nTGV2ZWwpO1xuICAgICAgICB2YXIgc2VydmVyQ29uZmlnID0gY3JlYXRlU2VydmVyQ29uZmlnKG9wdGlvbnMuc2VydmVyVXJsLCBvcHRpb25zLnNlcnZlclpvbmUsIG9wdGlvbnMudXNlQmF0Y2gpO1xuICAgICAgICB0aGlzLnNlcnZlclpvbmUgPSBzZXJ2ZXJDb25maWcuc2VydmVyWm9uZTtcbiAgICAgICAgdGhpcy5zZXJ2ZXJVcmwgPSBzZXJ2ZXJDb25maWcuc2VydmVyVXJsO1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoQ29uZmlnLnByb3RvdHlwZSwgXCJvcHRPdXRcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9vcHRPdXQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldDogZnVuY3Rpb24gKG9wdE91dCkge1xuICAgICAgICAgICAgdGhpcy5fb3B0T3V0ID0gb3B0T3V0O1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIENvbmZpZztcbn0oKSk7XG5leHBvcnQgeyBDb25maWcgfTtcbmV4cG9ydCB2YXIgZ2V0U2VydmVyVXJsID0gZnVuY3Rpb24gKHNlcnZlclpvbmUsIHVzZUJhdGNoKSB7XG4gICAgaWYgKHNlcnZlclpvbmUgPT09ICdFVScpIHtcbiAgICAgICAgcmV0dXJuIHVzZUJhdGNoID8gRVVfQU1QTElUVURFX0JBVENIX1NFUlZFUl9VUkwgOiBFVV9BTVBMSVRVREVfU0VSVkVSX1VSTDtcbiAgICB9XG4gICAgcmV0dXJuIHVzZUJhdGNoID8gQU1QTElUVURFX0JBVENIX1NFUlZFUl9VUkwgOiBBTVBMSVRVREVfU0VSVkVSX1VSTDtcbn07XG5leHBvcnQgdmFyIGNyZWF0ZVNlcnZlckNvbmZpZyA9IGZ1bmN0aW9uIChzZXJ2ZXJVcmwsIHNlcnZlclpvbmUsIHVzZUJhdGNoKSB7XG4gICAgaWYgKHNlcnZlclVybCA9PT0gdm9pZCAwKSB7IHNlcnZlclVybCA9ICcnOyB9XG4gICAgaWYgKHNlcnZlclpvbmUgPT09IHZvaWQgMCkgeyBzZXJ2ZXJab25lID0gZ2V0RGVmYXVsdENvbmZpZygpLnNlcnZlclpvbmU7IH1cbiAgICBpZiAodXNlQmF0Y2ggPT09IHZvaWQgMCkgeyB1c2VCYXRjaCA9IGdldERlZmF1bHRDb25maWcoKS51c2VCYXRjaDsgfVxuICAgIGlmIChzZXJ2ZXJVcmwpIHtcbiAgICAgICAgcmV0dXJuIHsgc2VydmVyVXJsOiBzZXJ2ZXJVcmwsIHNlcnZlclpvbmU6IHVuZGVmaW5lZCB9O1xuICAgIH1cbiAgICB2YXIgX3NlcnZlclpvbmUgPSBbJ1VTJywgJ0VVJ10uaW5jbHVkZXMoc2VydmVyWm9uZSkgPyBzZXJ2ZXJab25lIDogZ2V0RGVmYXVsdENvbmZpZygpLnNlcnZlclpvbmU7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2VydmVyWm9uZTogX3NlcnZlclpvbmUsXG4gICAgICAgIHNlcnZlclVybDogZ2V0U2VydmVyVXJsKF9zZXJ2ZXJab25lLCB1c2VCYXRjaCksXG4gICAgfTtcbn07XG52YXIgUmVxdWVzdE1ldGFkYXRhID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlcXVlc3RNZXRhZGF0YSgpIHtcbiAgICAgICAgdGhpcy5zZGsgPSB7XG4gICAgICAgICAgICBtZXRyaWNzOiB7XG4gICAgICAgICAgICAgICAgaGlzdG9ncmFtOiB7fSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIFJlcXVlc3RNZXRhZGF0YS5wcm90b3R5cGUucmVjb3JkSGlzdG9ncmFtID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy5zZGsubWV0cmljcy5oaXN0b2dyYW1ba2V5XSA9IHZhbHVlO1xuICAgIH07XG4gICAgcmV0dXJuIFJlcXVlc3RNZXRhZGF0YTtcbn0oKSk7XG5leHBvcnQgeyBSZXF1ZXN0TWV0YWRhdGEgfTtcbnZhciBIaXN0b2dyYW1PcHRpb25zID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIEhpc3RvZ3JhbU9wdGlvbnMoKSB7XG4gICAgfVxuICAgIHJldHVybiBIaXN0b2dyYW1PcHRpb25zO1xufSgpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbmZpZy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/config.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/cookie-name.js":
/*!***************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/cookie-name.js ***!
  \***************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getCookieName: () => (/* binding */ getCookieName),\n/* harmony export */   getOldCookieName: () => (/* binding */ getOldCookieName)\n/* harmony export */ });\n/* harmony import */ var _types_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./types/constants */ \"(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/types/constants.js\");\n\nvar getCookieName = function (apiKey, postKey, limit) {\n    if (postKey === void 0) { postKey = ''; }\n    if (limit === void 0) { limit = 10; }\n    return [_types_constants__WEBPACK_IMPORTED_MODULE_0__.AMPLITUDE_PREFIX, postKey, apiKey.substring(0, limit)].filter(Boolean).join('_');\n};\nvar getOldCookieName = function (apiKey) {\n    return \"\".concat(_types_constants__WEBPACK_IMPORTED_MODULE_0__.AMPLITUDE_PREFIX.toLowerCase(), \"_\").concat(apiKey.substring(0, 6));\n};\n//# sourceMappingURL=cookie-name.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGFtcGxpdHVkZSthbmFseXRpY3MtY29yZUAyLjEyLjIvbm9kZV9tb2R1bGVzL0BhbXBsaXR1ZGUvYW5hbHl0aWNzLWNvcmUvbGliL2VzbS9jb29raWUtbmFtZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBcUQ7QUFDOUM7QUFDUCw4QkFBOEI7QUFDOUIsNEJBQTRCO0FBQzVCLFlBQVksOERBQWdCO0FBQzVCO0FBQ087QUFDUCxxQkFBcUIsOERBQWdCO0FBQ3JDO0FBQ0EiLCJzb3VyY2VzIjpbIi9ob21lL2Jyb256ZS9jb2RpbmcvZnNha20vbm9kZV9tb2R1bGVzLy5wbnBtL0BhbXBsaXR1ZGUrYW5hbHl0aWNzLWNvcmVAMi4xMi4yL25vZGVfbW9kdWxlcy9AYW1wbGl0dWRlL2FuYWx5dGljcy1jb3JlL2xpYi9lc20vY29va2llLW5hbWUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQU1QTElUVURFX1BSRUZJWCB9IGZyb20gJy4vdHlwZXMvY29uc3RhbnRzJztcbmV4cG9ydCB2YXIgZ2V0Q29va2llTmFtZSA9IGZ1bmN0aW9uIChhcGlLZXksIHBvc3RLZXksIGxpbWl0KSB7XG4gICAgaWYgKHBvc3RLZXkgPT09IHZvaWQgMCkgeyBwb3N0S2V5ID0gJyc7IH1cbiAgICBpZiAobGltaXQgPT09IHZvaWQgMCkgeyBsaW1pdCA9IDEwOyB9XG4gICAgcmV0dXJuIFtBTVBMSVRVREVfUFJFRklYLCBwb3N0S2V5LCBhcGlLZXkuc3Vic3RyaW5nKDAsIGxpbWl0KV0uZmlsdGVyKEJvb2xlYW4pLmpvaW4oJ18nKTtcbn07XG5leHBvcnQgdmFyIGdldE9sZENvb2tpZU5hbWUgPSBmdW5jdGlvbiAoYXBpS2V5KSB7XG4gICAgcmV0dXJuIFwiXCIuY29uY2F0KEFNUExJVFVERV9QUkVGSVgudG9Mb3dlckNhc2UoKSwgXCJfXCIpLmNvbmNhdChhcGlLZXkuc3Vic3RyaW5nKDAsIDYpKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb29raWUtbmFtZS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/cookie-name.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/core-client.js":
/*!***************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/core-client.js ***!
  \***************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AmplitudeCore: () => (/* binding */ AmplitudeCore)\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tslib */ \"(ssr)/./node_modules/.pnpm/tslib@2.8.1/node_modules/tslib/tslib.es6.mjs\");\n/* harmony import */ var _types_event_event__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./types/event/event */ \"(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/types/event/event.js\");\n/* harmony import */ var _identify__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./identify */ \"(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/identify.js\");\n/* harmony import */ var _types_messages__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./types/messages */ \"(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/types/messages.js\");\n/* harmony import */ var _timeline__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./timeline */ \"(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/timeline.js\");\n/* harmony import */ var _utils_event_builder__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils/event-builder */ \"(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/utils/event-builder.js\");\n/* harmony import */ var _utils_result_builder__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./utils/result-builder */ \"(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/utils/result-builder.js\");\n/* harmony import */ var _utils_return_wrapper__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./utils/return-wrapper */ \"(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/utils/return-wrapper.js\");\n\n\n\n\n\n\n\n\nvar AmplitudeCore = /** @class */ (function () {\n    function AmplitudeCore(name) {\n        if (name === void 0) { name = '$default'; }\n        this.initializing = false;\n        this.isReady = false;\n        this.q = [];\n        this.dispatchQ = [];\n        this.logEvent = this.track.bind(this);\n        this.timeline = new _timeline__WEBPACK_IMPORTED_MODULE_0__.Timeline(this);\n        this.name = name;\n    }\n    AmplitudeCore.prototype._init = function (config) {\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__awaiter)(this, void 0, void 0, function () {\n            return (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__generator)(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        this.config = config;\n                        this.timeline.reset(this);\n                        return [4 /*yield*/, this.runQueuedFunctions('q')];\n                    case 1:\n                        _a.sent();\n                        this.isReady = true;\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    AmplitudeCore.prototype.runQueuedFunctions = function (queueName) {\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__awaiter)(this, void 0, void 0, function () {\n            var queuedFunctions, queuedFunctions_1, queuedFunctions_1_1, queuedFunction, val, e_1_1;\n            var e_1, _a;\n            return (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__generator)(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        queuedFunctions = this[queueName];\n                        this[queueName] = [];\n                        _b.label = 1;\n                    case 1:\n                        _b.trys.push([1, 8, 9, 10]);\n                        queuedFunctions_1 = (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__values)(queuedFunctions), queuedFunctions_1_1 = queuedFunctions_1.next();\n                        _b.label = 2;\n                    case 2:\n                        if (!!queuedFunctions_1_1.done) return [3 /*break*/, 7];\n                        queuedFunction = queuedFunctions_1_1.value;\n                        val = queuedFunction();\n                        if (!(val && 'promise' in val)) return [3 /*break*/, 4];\n                        return [4 /*yield*/, val.promise];\n                    case 3:\n                        _b.sent();\n                        return [3 /*break*/, 6];\n                    case 4: return [4 /*yield*/, val];\n                    case 5:\n                        _b.sent();\n                        _b.label = 6;\n                    case 6:\n                        queuedFunctions_1_1 = queuedFunctions_1.next();\n                        return [3 /*break*/, 2];\n                    case 7: return [3 /*break*/, 10];\n                    case 8:\n                        e_1_1 = _b.sent();\n                        e_1 = { error: e_1_1 };\n                        return [3 /*break*/, 10];\n                    case 9:\n                        try {\n                            if (queuedFunctions_1_1 && !queuedFunctions_1_1.done && (_a = queuedFunctions_1.return)) _a.call(queuedFunctions_1);\n                        }\n                        finally { if (e_1) throw e_1.error; }\n                        return [7 /*endfinally*/];\n                    case 10:\n                        if (!this[queueName].length) return [3 /*break*/, 12];\n                        return [4 /*yield*/, this.runQueuedFunctions(queueName)];\n                    case 11:\n                        _b.sent();\n                        _b.label = 12;\n                    case 12: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    AmplitudeCore.prototype.track = function (eventInput, eventProperties, eventOptions) {\n        var event = (0,_utils_event_builder__WEBPACK_IMPORTED_MODULE_2__.createTrackEvent)(eventInput, eventProperties, eventOptions);\n        return (0,_utils_return_wrapper__WEBPACK_IMPORTED_MODULE_3__.returnWrapper)(this.dispatch(event));\n    };\n    AmplitudeCore.prototype.identify = function (identify, eventOptions) {\n        var event = (0,_utils_event_builder__WEBPACK_IMPORTED_MODULE_2__.createIdentifyEvent)(identify, eventOptions);\n        return (0,_utils_return_wrapper__WEBPACK_IMPORTED_MODULE_3__.returnWrapper)(this.dispatch(event));\n    };\n    AmplitudeCore.prototype.groupIdentify = function (groupType, groupName, identify, eventOptions) {\n        var event = (0,_utils_event_builder__WEBPACK_IMPORTED_MODULE_2__.createGroupIdentifyEvent)(groupType, groupName, identify, eventOptions);\n        return (0,_utils_return_wrapper__WEBPACK_IMPORTED_MODULE_3__.returnWrapper)(this.dispatch(event));\n    };\n    AmplitudeCore.prototype.setGroup = function (groupType, groupName, eventOptions) {\n        var event = (0,_utils_event_builder__WEBPACK_IMPORTED_MODULE_2__.createGroupEvent)(groupType, groupName, eventOptions);\n        return (0,_utils_return_wrapper__WEBPACK_IMPORTED_MODULE_3__.returnWrapper)(this.dispatch(event));\n    };\n    AmplitudeCore.prototype.revenue = function (revenue, eventOptions) {\n        var event = (0,_utils_event_builder__WEBPACK_IMPORTED_MODULE_2__.createRevenueEvent)(revenue, eventOptions);\n        return (0,_utils_return_wrapper__WEBPACK_IMPORTED_MODULE_3__.returnWrapper)(this.dispatch(event));\n    };\n    AmplitudeCore.prototype.add = function (plugin) {\n        if (!this.isReady) {\n            this.q.push(this._addPlugin.bind(this, plugin));\n            return (0,_utils_return_wrapper__WEBPACK_IMPORTED_MODULE_3__.returnWrapper)();\n        }\n        return this._addPlugin(plugin);\n    };\n    AmplitudeCore.prototype._addPlugin = function (plugin) {\n        return (0,_utils_return_wrapper__WEBPACK_IMPORTED_MODULE_3__.returnWrapper)(this.timeline.register(plugin, this.config));\n    };\n    AmplitudeCore.prototype.remove = function (pluginName) {\n        if (!this.isReady) {\n            this.q.push(this._removePlugin.bind(this, pluginName));\n            return (0,_utils_return_wrapper__WEBPACK_IMPORTED_MODULE_3__.returnWrapper)();\n        }\n        return this._removePlugin(pluginName);\n    };\n    AmplitudeCore.prototype._removePlugin = function (pluginName) {\n        return (0,_utils_return_wrapper__WEBPACK_IMPORTED_MODULE_3__.returnWrapper)(this.timeline.deregister(pluginName, this.config));\n    };\n    AmplitudeCore.prototype.dispatchWithCallback = function (event, callback) {\n        if (!this.isReady) {\n            return callback((0,_utils_result_builder__WEBPACK_IMPORTED_MODULE_4__.buildResult)(event, 0, _types_messages__WEBPACK_IMPORTED_MODULE_5__.CLIENT_NOT_INITIALIZED));\n        }\n        void this.process(event).then(callback);\n    };\n    AmplitudeCore.prototype.dispatch = function (event) {\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__awaiter)(this, void 0, void 0, function () {\n            var _this = this;\n            return (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__generator)(this, function (_a) {\n                if (!this.isReady) {\n                    return [2 /*return*/, new Promise(function (resolve) {\n                            _this.dispatchQ.push(_this.dispatchWithCallback.bind(_this, event, resolve));\n                        })];\n                }\n                return [2 /*return*/, this.process(event)];\n            });\n        });\n    };\n    /**\n     *\n     * This method applies identify operations to user properties and\n     * returns a single object representing the final user property state.\n     *\n     * This is a best-effort api that only supports $set, $clearAll, and $unset.\n     * Other operations are not supported and are ignored.\n     *\n     *\n     * @param userProperties The `event.userProperties` object from an Identify event.\n     * @returns A key-value object user properties without operations.\n     *\n     * @example\n     * Input:\n     * {\n     *   $set: { plan: 'premium' },\n     *   custom_flag: true\n     * }\n     *\n     * Output:\n     * {\n     *   plan: 'premium',\n     *   custom_flag: true\n     * }\n     */\n    AmplitudeCore.prototype.getOperationAppliedUserProperties = function (userProperties) {\n        var updatedProperties = {};\n        if (userProperties === undefined) {\n            return updatedProperties;\n        }\n        // Keep non-operation keys for later merge\n        var nonOpProperties = {};\n        Object.keys(userProperties).forEach(function (key) {\n            if (!Object.values(_types_event_event__WEBPACK_IMPORTED_MODULE_6__.IdentifyOperation).includes(key)) {\n                // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n                // @ts-ignore\n                // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n                nonOpProperties[key] = userProperties[key];\n            }\n        });\n        _identify__WEBPACK_IMPORTED_MODULE_7__.OrderedIdentifyOperations.forEach(function (operation) {\n            // Skip when key is an operation.\n            if (!Object.keys(userProperties).includes(operation))\n                return;\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n            var opProperties = userProperties[operation];\n            switch (operation) {\n                case _types_event_event__WEBPACK_IMPORTED_MODULE_6__.IdentifyOperation.CLEAR_ALL:\n                    // Due to operation order, the following line will never execute.\n                    /* istanbul ignore next */\n                    Object.keys(updatedProperties).forEach(function (prop) {\n                        delete updatedProperties[prop];\n                    });\n                    break;\n                case _types_event_event__WEBPACK_IMPORTED_MODULE_6__.IdentifyOperation.UNSET:\n                    Object.keys(opProperties).forEach(function (prop) {\n                        delete updatedProperties[prop];\n                    });\n                    break;\n                case _types_event_event__WEBPACK_IMPORTED_MODULE_6__.IdentifyOperation.SET:\n                    Object.assign(updatedProperties, opProperties);\n                    break;\n            }\n        });\n        // Merge non-operation properties.\n        // Custom properties should not be affected by operations.\n        // https://github.com/amplitude/nova/blob/343f678ded83c032e83b189796b3c2be161b48f5/src/main/java/com/amplitude/userproperty/model/ModifyUserPropertiesIdent.java#L79-L83\n        Object.assign(updatedProperties, nonOpProperties);\n        return updatedProperties;\n    };\n    AmplitudeCore.prototype.process = function (event) {\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__awaiter)(this, void 0, void 0, function () {\n            var userProperties, result, e_2, message, result;\n            return (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__generator)(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 2, , 3]);\n                        // skip event processing if opt out\n                        if (this.config.optOut) {\n                            return [2 /*return*/, (0,_utils_result_builder__WEBPACK_IMPORTED_MODULE_4__.buildResult)(event, 0, _types_messages__WEBPACK_IMPORTED_MODULE_5__.OPT_OUT_MESSAGE)];\n                        }\n                        if (event.event_type === _types_event_event__WEBPACK_IMPORTED_MODULE_6__.SpecialEventType.IDENTIFY) {\n                            userProperties = this.getOperationAppliedUserProperties(event.user_properties);\n                            this.timeline.onIdentityChanged({ userProperties: userProperties });\n                        }\n                        return [4 /*yield*/, this.timeline.push(event)];\n                    case 1:\n                        result = _a.sent();\n                        result.code === 200\n                            ? this.config.loggerProvider.log(result.message)\n                            : result.code === 100\n                                ? this.config.loggerProvider.warn(result.message)\n                                : this.config.loggerProvider.error(result.message);\n                        return [2 /*return*/, result];\n                    case 2:\n                        e_2 = _a.sent();\n                        message = String(e_2);\n                        this.config.loggerProvider.error(message);\n                        result = (0,_utils_result_builder__WEBPACK_IMPORTED_MODULE_4__.buildResult)(event, 0, message);\n                        return [2 /*return*/, result];\n                    case 3: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    AmplitudeCore.prototype.setOptOut = function (optOut) {\n        if (!this.isReady) {\n            this.q.push(this._setOptOut.bind(this, Boolean(optOut)));\n            return;\n        }\n        this._setOptOut(optOut);\n    };\n    AmplitudeCore.prototype._setOptOut = function (optOut) {\n        if (this.config.optOut !== optOut) {\n            this.timeline.onOptOutChanged(optOut);\n            this.config.optOut = Boolean(optOut);\n        }\n    };\n    AmplitudeCore.prototype.flush = function () {\n        return (0,_utils_return_wrapper__WEBPACK_IMPORTED_MODULE_3__.returnWrapper)(this.timeline.flush());\n    };\n    AmplitudeCore.prototype.plugin = function (name) {\n        var plugin = this.timeline.plugins.find(function (plugin) { return plugin.name === name; });\n        if (plugin === undefined) {\n            this.config.loggerProvider.debug(\"Cannot find plugin with name \".concat(name));\n            return undefined;\n        }\n        return plugin;\n    };\n    AmplitudeCore.prototype.plugins = function (pluginClass) {\n        return this.timeline.plugins.filter(function (plugin) { return plugin instanceof pluginClass; });\n    };\n    return AmplitudeCore;\n}());\n\n//# sourceMappingURL=core-client.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGFtcGxpdHVkZSthbmFseXRpY3MtY29yZUAyLjEyLjIvbm9kZV9tb2R1bGVzL0BhbXBsaXR1ZGUvYW5hbHl0aWNzLWNvcmUvbGliL2VzbS9jb3JlLWNsaWVudC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBeUQ7QUFDa0I7QUFDcEI7QUFDb0I7QUFDckM7QUFDeUc7QUFDMUY7QUFDRTtBQUN2RDtBQUNBO0FBQ0EsK0JBQStCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsK0NBQVE7QUFDcEM7QUFDQTtBQUNBO0FBQ0EsZUFBZSxnREFBUztBQUN4QixtQkFBbUIsa0RBQVc7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQSxlQUFlLGdEQUFTO0FBQ3hCO0FBQ0E7QUFDQSxtQkFBbUIsa0RBQVc7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0Q0FBNEMsK0NBQVE7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdDQUFnQztBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBLG9CQUFvQixzRUFBZ0I7QUFDcEMsZUFBZSxvRUFBYTtBQUM1QjtBQUNBO0FBQ0Esb0JBQW9CLHlFQUFtQjtBQUN2QyxlQUFlLG9FQUFhO0FBQzVCO0FBQ0E7QUFDQSxvQkFBb0IsOEVBQXdCO0FBQzVDLGVBQWUsb0VBQWE7QUFDNUI7QUFDQTtBQUNBLG9CQUFvQixzRUFBZ0I7QUFDcEMsZUFBZSxvRUFBYTtBQUM1QjtBQUNBO0FBQ0Esb0JBQW9CLHdFQUFrQjtBQUN0QyxlQUFlLG9FQUFhO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUJBQW1CLG9FQUFhO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxvRUFBYTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixvRUFBYTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsb0VBQWE7QUFDNUI7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLGtFQUFXLFdBQVcsbUVBQXNCO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxnREFBUztBQUN4QjtBQUNBLG1CQUFtQixrREFBVztBQUM5QjtBQUNBO0FBQ0E7QUFDQSx5QkFBeUI7QUFDekI7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsaUJBQWlCO0FBQ2xDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsaUVBQWlCO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsUUFBUSxnRUFBeUI7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLGlFQUFpQjtBQUN0QztBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLHFCQUFxQixpRUFBaUI7QUFDdEM7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLHFCQUFxQixpRUFBaUI7QUFDdEM7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxnREFBUztBQUN4QjtBQUNBLG1CQUFtQixrREFBVztBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELGtFQUFXLFdBQVcsNERBQWU7QUFDdkY7QUFDQSxpREFBaUQsZ0VBQWdCO0FBQ2pFO0FBQ0EsOERBQThELGdDQUFnQztBQUM5RjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDLGtFQUFXO0FBQzVDO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxvRUFBYTtBQUM1QjtBQUNBO0FBQ0Esb0VBQW9FLDhCQUE4QjtBQUNsRztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdFQUFnRSx1Q0FBdUM7QUFDdkc7QUFDQTtBQUNBLENBQUM7QUFDd0I7QUFDekIiLCJzb3VyY2VzIjpbIi9ob21lL2Jyb256ZS9jb2RpbmcvZnNha20vbm9kZV9tb2R1bGVzLy5wbnBtL0BhbXBsaXR1ZGUrYW5hbHl0aWNzLWNvcmVAMi4xMi4yL25vZGVfbW9kdWxlcy9AYW1wbGl0dWRlL2FuYWx5dGljcy1jb3JlL2xpYi9lc20vY29yZS1jbGllbnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgX19hd2FpdGVyLCBfX2dlbmVyYXRvciwgX192YWx1ZXMgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IElkZW50aWZ5T3BlcmF0aW9uLCBTcGVjaWFsRXZlbnRUeXBlLCB9IGZyb20gJy4vdHlwZXMvZXZlbnQvZXZlbnQnO1xuaW1wb3J0IHsgT3JkZXJlZElkZW50aWZ5T3BlcmF0aW9ucyB9IGZyb20gJy4vaWRlbnRpZnknO1xuaW1wb3J0IHsgQ0xJRU5UX05PVF9JTklUSUFMSVpFRCwgT1BUX09VVF9NRVNTQUdFIH0gZnJvbSAnLi90eXBlcy9tZXNzYWdlcyc7XG5pbXBvcnQgeyBUaW1lbGluZSB9IGZyb20gJy4vdGltZWxpbmUnO1xuaW1wb3J0IHsgY3JlYXRlR3JvdXBFdmVudCwgY3JlYXRlR3JvdXBJZGVudGlmeUV2ZW50LCBjcmVhdGVJZGVudGlmeUV2ZW50LCBjcmVhdGVSZXZlbnVlRXZlbnQsIGNyZWF0ZVRyYWNrRXZlbnQsIH0gZnJvbSAnLi91dGlscy9ldmVudC1idWlsZGVyJztcbmltcG9ydCB7IGJ1aWxkUmVzdWx0IH0gZnJvbSAnLi91dGlscy9yZXN1bHQtYnVpbGRlcic7XG5pbXBvcnQgeyByZXR1cm5XcmFwcGVyIH0gZnJvbSAnLi91dGlscy9yZXR1cm4td3JhcHBlcic7XG52YXIgQW1wbGl0dWRlQ29yZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBBbXBsaXR1ZGVDb3JlKG5hbWUpIHtcbiAgICAgICAgaWYgKG5hbWUgPT09IHZvaWQgMCkgeyBuYW1lID0gJyRkZWZhdWx0JzsgfVxuICAgICAgICB0aGlzLmluaXRpYWxpemluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmlzUmVhZHkgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5xID0gW107XG4gICAgICAgIHRoaXMuZGlzcGF0Y2hRID0gW107XG4gICAgICAgIHRoaXMubG9nRXZlbnQgPSB0aGlzLnRyYWNrLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMudGltZWxpbmUgPSBuZXcgVGltZWxpbmUodGhpcyk7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgfVxuICAgIEFtcGxpdHVkZUNvcmUucHJvdG90eXBlLl9pbml0ID0gZnVuY3Rpb24gKGNvbmZpZykge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGltZWxpbmUucmVzZXQodGhpcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLnJ1blF1ZXVlZEZ1bmN0aW9ucygncScpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2Euc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc1JlYWR5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBBbXBsaXR1ZGVDb3JlLnByb3RvdHlwZS5ydW5RdWV1ZWRGdW5jdGlvbnMgPSBmdW5jdGlvbiAocXVldWVOYW1lKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBxdWV1ZWRGdW5jdGlvbnMsIHF1ZXVlZEZ1bmN0aW9uc18xLCBxdWV1ZWRGdW5jdGlvbnNfMV8xLCBxdWV1ZWRGdW5jdGlvbiwgdmFsLCBlXzFfMTtcbiAgICAgICAgICAgIHZhciBlXzEsIF9hO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYikge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2IubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgcXVldWVkRnVuY3Rpb25zID0gdGhpc1txdWV1ZU5hbWVdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpc1txdWV1ZU5hbWVdID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDE7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9iLnRyeXMucHVzaChbMSwgOCwgOSwgMTBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXVlZEZ1bmN0aW9uc18xID0gX192YWx1ZXMocXVldWVkRnVuY3Rpb25zKSwgcXVldWVkRnVuY3Rpb25zXzFfMSA9IHF1ZXVlZEZ1bmN0aW9uc18xLm5leHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9iLmxhYmVsID0gMjtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEhcXVldWVkRnVuY3Rpb25zXzFfMS5kb25lKSByZXR1cm4gWzMgLypicmVhayovLCA3XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXVlZEZ1bmN0aW9uID0gcXVldWVkRnVuY3Rpb25zXzFfMS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbCA9IHF1ZXVlZEZ1bmN0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISh2YWwgJiYgJ3Byb21pc2UnIGluIHZhbCkpIHJldHVybiBbMyAvKmJyZWFrKi8sIDRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdmFsLnByb21pc2VdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCA2XTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OiByZXR1cm4gWzQgLyp5aWVsZCovLCB2YWxdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDU6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDY7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXVlZEZ1bmN0aW9uc18xXzEgPSBxdWV1ZWRGdW5jdGlvbnNfMS5uZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCAyXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA3OiByZXR1cm4gWzMgLypicmVhayovLCAxMF07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgICAgICAgICAgIGVfMV8xID0gX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZV8xID0geyBlcnJvcjogZV8xXzEgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDEwXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA5OlxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocXVldWVkRnVuY3Rpb25zXzFfMSAmJiAhcXVldWVkRnVuY3Rpb25zXzFfMS5kb25lICYmIChfYSA9IHF1ZXVlZEZ1bmN0aW9uc18xLnJldHVybikpIF9hLmNhbGwocXVldWVkRnVuY3Rpb25zXzEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs3IC8qZW5kZmluYWxseSovXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpc1txdWV1ZU5hbWVdLmxlbmd0aCkgcmV0dXJuIFszIC8qYnJlYWsqLywgMTJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5ydW5RdWV1ZWRGdW5jdGlvbnMocXVldWVOYW1lKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDEyO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDEyOiByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgQW1wbGl0dWRlQ29yZS5wcm90b3R5cGUudHJhY2sgPSBmdW5jdGlvbiAoZXZlbnRJbnB1dCwgZXZlbnRQcm9wZXJ0aWVzLCBldmVudE9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGV2ZW50ID0gY3JlYXRlVHJhY2tFdmVudChldmVudElucHV0LCBldmVudFByb3BlcnRpZXMsIGV2ZW50T3B0aW9ucyk7XG4gICAgICAgIHJldHVybiByZXR1cm5XcmFwcGVyKHRoaXMuZGlzcGF0Y2goZXZlbnQpKTtcbiAgICB9O1xuICAgIEFtcGxpdHVkZUNvcmUucHJvdG90eXBlLmlkZW50aWZ5ID0gZnVuY3Rpb24gKGlkZW50aWZ5LCBldmVudE9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGV2ZW50ID0gY3JlYXRlSWRlbnRpZnlFdmVudChpZGVudGlmeSwgZXZlbnRPcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIHJldHVybldyYXBwZXIodGhpcy5kaXNwYXRjaChldmVudCkpO1xuICAgIH07XG4gICAgQW1wbGl0dWRlQ29yZS5wcm90b3R5cGUuZ3JvdXBJZGVudGlmeSA9IGZ1bmN0aW9uIChncm91cFR5cGUsIGdyb3VwTmFtZSwgaWRlbnRpZnksIGV2ZW50T3B0aW9ucykge1xuICAgICAgICB2YXIgZXZlbnQgPSBjcmVhdGVHcm91cElkZW50aWZ5RXZlbnQoZ3JvdXBUeXBlLCBncm91cE5hbWUsIGlkZW50aWZ5LCBldmVudE9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gcmV0dXJuV3JhcHBlcih0aGlzLmRpc3BhdGNoKGV2ZW50KSk7XG4gICAgfTtcbiAgICBBbXBsaXR1ZGVDb3JlLnByb3RvdHlwZS5zZXRHcm91cCA9IGZ1bmN0aW9uIChncm91cFR5cGUsIGdyb3VwTmFtZSwgZXZlbnRPcHRpb25zKSB7XG4gICAgICAgIHZhciBldmVudCA9IGNyZWF0ZUdyb3VwRXZlbnQoZ3JvdXBUeXBlLCBncm91cE5hbWUsIGV2ZW50T3B0aW9ucyk7XG4gICAgICAgIHJldHVybiByZXR1cm5XcmFwcGVyKHRoaXMuZGlzcGF0Y2goZXZlbnQpKTtcbiAgICB9O1xuICAgIEFtcGxpdHVkZUNvcmUucHJvdG90eXBlLnJldmVudWUgPSBmdW5jdGlvbiAocmV2ZW51ZSwgZXZlbnRPcHRpb25zKSB7XG4gICAgICAgIHZhciBldmVudCA9IGNyZWF0ZVJldmVudWVFdmVudChyZXZlbnVlLCBldmVudE9wdGlvbnMpO1xuICAgICAgICByZXR1cm4gcmV0dXJuV3JhcHBlcih0aGlzLmRpc3BhdGNoKGV2ZW50KSk7XG4gICAgfTtcbiAgICBBbXBsaXR1ZGVDb3JlLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAocGx1Z2luKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1JlYWR5KSB7XG4gICAgICAgICAgICB0aGlzLnEucHVzaCh0aGlzLl9hZGRQbHVnaW4uYmluZCh0aGlzLCBwbHVnaW4pKTtcbiAgICAgICAgICAgIHJldHVybiByZXR1cm5XcmFwcGVyKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZFBsdWdpbihwbHVnaW4pO1xuICAgIH07XG4gICAgQW1wbGl0dWRlQ29yZS5wcm90b3R5cGUuX2FkZFBsdWdpbiA9IGZ1bmN0aW9uIChwbHVnaW4pIHtcbiAgICAgICAgcmV0dXJuIHJldHVybldyYXBwZXIodGhpcy50aW1lbGluZS5yZWdpc3RlcihwbHVnaW4sIHRoaXMuY29uZmlnKSk7XG4gICAgfTtcbiAgICBBbXBsaXR1ZGVDb3JlLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAocGx1Z2luTmFtZSkge1xuICAgICAgICBpZiAoIXRoaXMuaXNSZWFkeSkge1xuICAgICAgICAgICAgdGhpcy5xLnB1c2godGhpcy5fcmVtb3ZlUGx1Z2luLmJpbmQodGhpcywgcGx1Z2luTmFtZSkpO1xuICAgICAgICAgICAgcmV0dXJuIHJldHVybldyYXBwZXIoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fcmVtb3ZlUGx1Z2luKHBsdWdpbk5hbWUpO1xuICAgIH07XG4gICAgQW1wbGl0dWRlQ29yZS5wcm90b3R5cGUuX3JlbW92ZVBsdWdpbiA9IGZ1bmN0aW9uIChwbHVnaW5OYW1lKSB7XG4gICAgICAgIHJldHVybiByZXR1cm5XcmFwcGVyKHRoaXMudGltZWxpbmUuZGVyZWdpc3RlcihwbHVnaW5OYW1lLCB0aGlzLmNvbmZpZykpO1xuICAgIH07XG4gICAgQW1wbGl0dWRlQ29yZS5wcm90b3R5cGUuZGlzcGF0Y2hXaXRoQ2FsbGJhY2sgPSBmdW5jdGlvbiAoZXZlbnQsIGNhbGxiYWNrKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1JlYWR5KSB7XG4gICAgICAgICAgICByZXR1cm4gY2FsbGJhY2soYnVpbGRSZXN1bHQoZXZlbnQsIDAsIENMSUVOVF9OT1RfSU5JVElBTElaRUQpKTtcbiAgICAgICAgfVxuICAgICAgICB2b2lkIHRoaXMucHJvY2VzcyhldmVudCkudGhlbihjYWxsYmFjayk7XG4gICAgfTtcbiAgICBBbXBsaXR1ZGVDb3JlLnByb3RvdHlwZS5kaXNwYXRjaCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIGlmICghdGhpcy5pc1JlYWR5KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLmRpc3BhdGNoUS5wdXNoKF90aGlzLmRpc3BhdGNoV2l0aENhbGxiYWNrLmJpbmQoX3RoaXMsIGV2ZW50LCByZXNvbHZlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB0aGlzLnByb2Nlc3MoZXZlbnQpXTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIC8qKlxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2QgYXBwbGllcyBpZGVudGlmeSBvcGVyYXRpb25zIHRvIHVzZXIgcHJvcGVydGllcyBhbmRcbiAgICAgKiByZXR1cm5zIGEgc2luZ2xlIG9iamVjdCByZXByZXNlbnRpbmcgdGhlIGZpbmFsIHVzZXIgcHJvcGVydHkgc3RhdGUuXG4gICAgICpcbiAgICAgKiBUaGlzIGlzIGEgYmVzdC1lZmZvcnQgYXBpIHRoYXQgb25seSBzdXBwb3J0cyAkc2V0LCAkY2xlYXJBbGwsIGFuZCAkdW5zZXQuXG4gICAgICogT3RoZXIgb3BlcmF0aW9ucyBhcmUgbm90IHN1cHBvcnRlZCBhbmQgYXJlIGlnbm9yZWQuXG4gICAgICpcbiAgICAgKlxuICAgICAqIEBwYXJhbSB1c2VyUHJvcGVydGllcyBUaGUgYGV2ZW50LnVzZXJQcm9wZXJ0aWVzYCBvYmplY3QgZnJvbSBhbiBJZGVudGlmeSBldmVudC5cbiAgICAgKiBAcmV0dXJucyBBIGtleS12YWx1ZSBvYmplY3QgdXNlciBwcm9wZXJ0aWVzIHdpdGhvdXQgb3BlcmF0aW9ucy5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogSW5wdXQ6XG4gICAgICoge1xuICAgICAqICAgJHNldDogeyBwbGFuOiAncHJlbWl1bScgfSxcbiAgICAgKiAgIGN1c3RvbV9mbGFnOiB0cnVlXG4gICAgICogfVxuICAgICAqXG4gICAgICogT3V0cHV0OlxuICAgICAqIHtcbiAgICAgKiAgIHBsYW46ICdwcmVtaXVtJyxcbiAgICAgKiAgIGN1c3RvbV9mbGFnOiB0cnVlXG4gICAgICogfVxuICAgICAqL1xuICAgIEFtcGxpdHVkZUNvcmUucHJvdG90eXBlLmdldE9wZXJhdGlvbkFwcGxpZWRVc2VyUHJvcGVydGllcyA9IGZ1bmN0aW9uICh1c2VyUHJvcGVydGllcykge1xuICAgICAgICB2YXIgdXBkYXRlZFByb3BlcnRpZXMgPSB7fTtcbiAgICAgICAgaWYgKHVzZXJQcm9wZXJ0aWVzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB1cGRhdGVkUHJvcGVydGllcztcbiAgICAgICAgfVxuICAgICAgICAvLyBLZWVwIG5vbi1vcGVyYXRpb24ga2V5cyBmb3IgbGF0ZXIgbWVyZ2VcbiAgICAgICAgdmFyIG5vbk9wUHJvcGVydGllcyA9IHt9O1xuICAgICAgICBPYmplY3Qua2V5cyh1c2VyUHJvcGVydGllcykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICBpZiAoIU9iamVjdC52YWx1ZXMoSWRlbnRpZnlPcGVyYXRpb24pLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10cy1jb21tZW50XG4gICAgICAgICAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLWFzc2lnbm1lbnRcbiAgICAgICAgICAgICAgICBub25PcFByb3BlcnRpZXNba2V5XSA9IHVzZXJQcm9wZXJ0aWVzW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBPcmRlcmVkSWRlbnRpZnlPcGVyYXRpb25zLmZvckVhY2goZnVuY3Rpb24gKG9wZXJhdGlvbikge1xuICAgICAgICAgICAgLy8gU2tpcCB3aGVuIGtleSBpcyBhbiBvcGVyYXRpb24uXG4gICAgICAgICAgICBpZiAoIU9iamVjdC5rZXlzKHVzZXJQcm9wZXJ0aWVzKS5pbmNsdWRlcyhvcGVyYXRpb24pKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLWFzc2lnbm1lbnRcbiAgICAgICAgICAgIHZhciBvcFByb3BlcnRpZXMgPSB1c2VyUHJvcGVydGllc1tvcGVyYXRpb25dO1xuICAgICAgICAgICAgc3dpdGNoIChvcGVyYXRpb24pIHtcbiAgICAgICAgICAgICAgICBjYXNlIElkZW50aWZ5T3BlcmF0aW9uLkNMRUFSX0FMTDpcbiAgICAgICAgICAgICAgICAgICAgLy8gRHVlIHRvIG9wZXJhdGlvbiBvcmRlciwgdGhlIGZvbGxvd2luZyBsaW5lIHdpbGwgbmV2ZXIgZXhlY3V0ZS5cbiAgICAgICAgICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmtleXModXBkYXRlZFByb3BlcnRpZXMpLmZvckVhY2goZnVuY3Rpb24gKHByb3ApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB1cGRhdGVkUHJvcGVydGllc1twcm9wXTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgSWRlbnRpZnlPcGVyYXRpb24uVU5TRVQ6XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5rZXlzKG9wUHJvcGVydGllcykuZm9yRWFjaChmdW5jdGlvbiAocHJvcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHVwZGF0ZWRQcm9wZXJ0aWVzW3Byb3BdO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBJZGVudGlmeU9wZXJhdGlvbi5TRVQ6XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5hc3NpZ24odXBkYXRlZFByb3BlcnRpZXMsIG9wUHJvcGVydGllcyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gTWVyZ2Ugbm9uLW9wZXJhdGlvbiBwcm9wZXJ0aWVzLlxuICAgICAgICAvLyBDdXN0b20gcHJvcGVydGllcyBzaG91bGQgbm90IGJlIGFmZmVjdGVkIGJ5IG9wZXJhdGlvbnMuXG4gICAgICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbXBsaXR1ZGUvbm92YS9ibG9iLzM0M2Y2NzhkZWQ4M2MwMzJlODNiMTg5Nzk2YjNjMmJlMTYxYjQ4ZjUvc3JjL21haW4vamF2YS9jb20vYW1wbGl0dWRlL3VzZXJwcm9wZXJ0eS9tb2RlbC9Nb2RpZnlVc2VyUHJvcGVydGllc0lkZW50LmphdmEjTDc5LUw4M1xuICAgICAgICBPYmplY3QuYXNzaWduKHVwZGF0ZWRQcm9wZXJ0aWVzLCBub25PcFByb3BlcnRpZXMpO1xuICAgICAgICByZXR1cm4gdXBkYXRlZFByb3BlcnRpZXM7XG4gICAgfTtcbiAgICBBbXBsaXR1ZGVDb3JlLnByb3RvdHlwZS5wcm9jZXNzID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciB1c2VyUHJvcGVydGllcywgcmVzdWx0LCBlXzIsIG1lc3NhZ2UsIHJlc3VsdDtcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnRyeXMucHVzaChbMCwgMiwgLCAzXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBza2lwIGV2ZW50IHByb2Nlc3NpbmcgaWYgb3B0IG91dFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY29uZmlnLm9wdE91dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBidWlsZFJlc3VsdChldmVudCwgMCwgT1BUX09VVF9NRVNTQUdFKV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnQuZXZlbnRfdHlwZSA9PT0gU3BlY2lhbEV2ZW50VHlwZS5JREVOVElGWSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJQcm9wZXJ0aWVzID0gdGhpcy5nZXRPcGVyYXRpb25BcHBsaWVkVXNlclByb3BlcnRpZXMoZXZlbnQudXNlcl9wcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRpbWVsaW5lLm9uSWRlbnRpdHlDaGFuZ2VkKHsgdXNlclByb3BlcnRpZXM6IHVzZXJQcm9wZXJ0aWVzIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy50aW1lbGluZS5wdXNoKGV2ZW50KV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5jb2RlID09PSAyMDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRoaXMuY29uZmlnLmxvZ2dlclByb3ZpZGVyLmxvZyhyZXN1bHQubWVzc2FnZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHJlc3VsdC5jb2RlID09PSAxMDBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0aGlzLmNvbmZpZy5sb2dnZXJQcm92aWRlci53YXJuKHJlc3VsdC5tZXNzYWdlKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHRoaXMuY29uZmlnLmxvZ2dlclByb3ZpZGVyLmVycm9yKHJlc3VsdC5tZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCByZXN1bHRdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICBlXzIgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gU3RyaW5nKGVfMik7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZy5sb2dnZXJQcm92aWRlci5lcnJvcihtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IGJ1aWxkUmVzdWx0KGV2ZW50LCAwLCBtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCByZXN1bHRdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6IHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBBbXBsaXR1ZGVDb3JlLnByb3RvdHlwZS5zZXRPcHRPdXQgPSBmdW5jdGlvbiAob3B0T3V0KSB7XG4gICAgICAgIGlmICghdGhpcy5pc1JlYWR5KSB7XG4gICAgICAgICAgICB0aGlzLnEucHVzaCh0aGlzLl9zZXRPcHRPdXQuYmluZCh0aGlzLCBCb29sZWFuKG9wdE91dCkpKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9zZXRPcHRPdXQob3B0T3V0KTtcbiAgICB9O1xuICAgIEFtcGxpdHVkZUNvcmUucHJvdG90eXBlLl9zZXRPcHRPdXQgPSBmdW5jdGlvbiAob3B0T3V0KSB7XG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy5vcHRPdXQgIT09IG9wdE91dCkge1xuICAgICAgICAgICAgdGhpcy50aW1lbGluZS5vbk9wdE91dENoYW5nZWQob3B0T3V0KTtcbiAgICAgICAgICAgIHRoaXMuY29uZmlnLm9wdE91dCA9IEJvb2xlYW4ob3B0T3V0KTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQW1wbGl0dWRlQ29yZS5wcm90b3R5cGUuZmx1c2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiByZXR1cm5XcmFwcGVyKHRoaXMudGltZWxpbmUuZmx1c2goKSk7XG4gICAgfTtcbiAgICBBbXBsaXR1ZGVDb3JlLnByb3RvdHlwZS5wbHVnaW4gPSBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICB2YXIgcGx1Z2luID0gdGhpcy50aW1lbGluZS5wbHVnaW5zLmZpbmQoZnVuY3Rpb24gKHBsdWdpbikgeyByZXR1cm4gcGx1Z2luLm5hbWUgPT09IG5hbWU7IH0pO1xuICAgICAgICBpZiAocGx1Z2luID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuY29uZmlnLmxvZ2dlclByb3ZpZGVyLmRlYnVnKFwiQ2Fubm90IGZpbmQgcGx1Z2luIHdpdGggbmFtZSBcIi5jb25jYXQobmFtZSkpO1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGx1Z2luO1xuICAgIH07XG4gICAgQW1wbGl0dWRlQ29yZS5wcm90b3R5cGUucGx1Z2lucyA9IGZ1bmN0aW9uIChwbHVnaW5DbGFzcykge1xuICAgICAgICByZXR1cm4gdGhpcy50aW1lbGluZS5wbHVnaW5zLmZpbHRlcihmdW5jdGlvbiAocGx1Z2luKSB7IHJldHVybiBwbHVnaW4gaW5zdGFuY2VvZiBwbHVnaW5DbGFzczsgfSk7XG4gICAgfTtcbiAgICByZXR1cm4gQW1wbGl0dWRlQ29yZTtcbn0oKSk7XG5leHBvcnQgeyBBbXBsaXR1ZGVDb3JlIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb3JlLWNsaWVudC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/core-client.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/global-scope.js":
/*!****************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/global-scope.js ***!
  \****************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getGlobalScope: () => (/* binding */ getGlobalScope)\n/* harmony export */ });\n/* eslint-disable no-restricted-globals */\n/* Only file allowed to access to globalThis, window, self */\nvar getGlobalScope = function () {\n    // This should only be used for integrations with Amplitude that are not running in a browser environment\n    //   We need to specify the name of the global variable as a string to prevent it from being minified\n    var ampIntegrationContextName = 'ampIntegrationContext';\n    if (typeof globalThis !== 'undefined' && typeof globalThis[ampIntegrationContextName] !== 'undefined') {\n        return globalThis[ampIntegrationContextName];\n    }\n    if (typeof globalThis !== 'undefined') {\n        return globalThis;\n    }\n    if (typeof window !== 'undefined') {\n        return window;\n    }\n    if (typeof self !== 'undefined') {\n        return self;\n    }\n    if (typeof global !== 'undefined') {\n        return global;\n    }\n    return undefined;\n};\n//# sourceMappingURL=global-scope.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGFtcGxpdHVkZSthbmFseXRpY3MtY29yZUAyLjEyLjIvbm9kZV9tb2R1bGVzL0BhbXBsaXR1ZGUvYW5hbHl0aWNzLWNvcmUvbGliL2VzbS9nbG9iYWwtc2NvcGUuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsiL2hvbWUvYnJvbnplL2NvZGluZy9mc2FrbS9ub2RlX21vZHVsZXMvLnBucG0vQGFtcGxpdHVkZSthbmFseXRpY3MtY29yZUAyLjEyLjIvbm9kZV9tb2R1bGVzL0BhbXBsaXR1ZGUvYW5hbHl0aWNzLWNvcmUvbGliL2VzbS9nbG9iYWwtc2NvcGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLyogZXNsaW50LWRpc2FibGUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzICovXG4vKiBPbmx5IGZpbGUgYWxsb3dlZCB0byBhY2Nlc3MgdG8gZ2xvYmFsVGhpcywgd2luZG93LCBzZWxmICovXG5leHBvcnQgdmFyIGdldEdsb2JhbFNjb3BlID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIFRoaXMgc2hvdWxkIG9ubHkgYmUgdXNlZCBmb3IgaW50ZWdyYXRpb25zIHdpdGggQW1wbGl0dWRlIHRoYXQgYXJlIG5vdCBydW5uaW5nIGluIGEgYnJvd3NlciBlbnZpcm9ubWVudFxuICAgIC8vICAgV2UgbmVlZCB0byBzcGVjaWZ5IHRoZSBuYW1lIG9mIHRoZSBnbG9iYWwgdmFyaWFibGUgYXMgYSBzdHJpbmcgdG8gcHJldmVudCBpdCBmcm9tIGJlaW5nIG1pbmlmaWVkXG4gICAgdmFyIGFtcEludGVncmF0aW9uQ29udGV4dE5hbWUgPSAnYW1wSW50ZWdyYXRpb25Db250ZXh0JztcbiAgICBpZiAodHlwZW9mIGdsb2JhbFRoaXMgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBnbG9iYWxUaGlzW2FtcEludGVncmF0aW9uQ29udGV4dE5hbWVdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gZ2xvYmFsVGhpc1thbXBJbnRlZ3JhdGlvbkNvbnRleHROYW1lXTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBnbG9iYWxUaGlzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gZ2xvYmFsVGhpcztcbiAgICB9XG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiB3aW5kb3c7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygc2VsZiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgZ2xvYmFsICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gZ2xvYmFsO1xuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdsb2JhbC1zY29wZS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/global-scope.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/identify.js":
/*!************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/identify.js ***!
  \************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Identify: () => (/* binding */ Identify),\n/* harmony export */   IdentifyOperation: () => (/* binding */ IdentifyOperation),\n/* harmony export */   OrderedIdentifyOperations: () => (/* binding */ OrderedIdentifyOperations)\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"(ssr)/./node_modules/.pnpm/tslib@2.8.1/node_modules/tslib/tslib.es6.mjs\");\n/* harmony import */ var _types_constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./types/constants */ \"(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/types/constants.js\");\n/* harmony import */ var _utils_valid_properties__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils/valid-properties */ \"(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/utils/valid-properties.js\");\n\n\n\nvar Identify = /** @class */ (function () {\n    function Identify() {\n        this._propertySet = new Set();\n        this._properties = {};\n    }\n    Identify.prototype.getUserProperties = function () {\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)({}, this._properties);\n    };\n    Identify.prototype.set = function (property, value) {\n        this._safeSet(IdentifyOperation.SET, property, value);\n        return this;\n    };\n    Identify.prototype.setOnce = function (property, value) {\n        this._safeSet(IdentifyOperation.SET_ONCE, property, value);\n        return this;\n    };\n    Identify.prototype.append = function (property, value) {\n        this._safeSet(IdentifyOperation.APPEND, property, value);\n        return this;\n    };\n    Identify.prototype.prepend = function (property, value) {\n        this._safeSet(IdentifyOperation.PREPEND, property, value);\n        return this;\n    };\n    Identify.prototype.postInsert = function (property, value) {\n        this._safeSet(IdentifyOperation.POSTINSERT, property, value);\n        return this;\n    };\n    Identify.prototype.preInsert = function (property, value) {\n        this._safeSet(IdentifyOperation.PREINSERT, property, value);\n        return this;\n    };\n    Identify.prototype.remove = function (property, value) {\n        this._safeSet(IdentifyOperation.REMOVE, property, value);\n        return this;\n    };\n    Identify.prototype.add = function (property, value) {\n        this._safeSet(IdentifyOperation.ADD, property, value);\n        return this;\n    };\n    Identify.prototype.unset = function (property) {\n        this._safeSet(IdentifyOperation.UNSET, property, _types_constants__WEBPACK_IMPORTED_MODULE_1__.UNSET_VALUE);\n        return this;\n    };\n    Identify.prototype.clearAll = function () {\n        // When clear all happens, all properties are unset. Reset the entire object.\n        this._properties = {};\n        this._properties[IdentifyOperation.CLEAR_ALL] = _types_constants__WEBPACK_IMPORTED_MODULE_1__.UNSET_VALUE;\n        return this;\n    };\n    // Returns whether or not this set actually worked.\n    Identify.prototype._safeSet = function (operation, property, value) {\n        if (this._validate(operation, property, value)) {\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n            var userPropertyMap = this._properties[operation];\n            if (userPropertyMap === undefined) {\n                userPropertyMap = {};\n                // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n                this._properties[operation] = userPropertyMap;\n            }\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n            userPropertyMap[property] = value;\n            this._propertySet.add(property);\n            return true;\n        }\n        return false;\n    };\n    Identify.prototype._validate = function (operation, property, value) {\n        if (this._properties[IdentifyOperation.CLEAR_ALL] !== undefined) {\n            // clear all already set. Skipping operation;\n            return false;\n        }\n        if (this._propertySet.has(property)) {\n            // Property already used. Skipping operation\n            return false;\n        }\n        if (operation === IdentifyOperation.ADD) {\n            return typeof value === 'number';\n        }\n        if (operation !== IdentifyOperation.UNSET && operation !== IdentifyOperation.REMOVE) {\n            return (0,_utils_valid_properties__WEBPACK_IMPORTED_MODULE_2__.isValidProperties)(property, value);\n        }\n        return true;\n    };\n    return Identify;\n}());\n\nvar IdentifyOperation;\n(function (IdentifyOperation) {\n    // Base Operations to set values\n    IdentifyOperation[\"SET\"] = \"$set\";\n    IdentifyOperation[\"SET_ONCE\"] = \"$setOnce\";\n    // Operations around modifying existing values\n    IdentifyOperation[\"ADD\"] = \"$add\";\n    IdentifyOperation[\"APPEND\"] = \"$append\";\n    IdentifyOperation[\"PREPEND\"] = \"$prepend\";\n    IdentifyOperation[\"REMOVE\"] = \"$remove\";\n    // Operations around appending values *if* they aren't present\n    IdentifyOperation[\"PREINSERT\"] = \"$preInsert\";\n    IdentifyOperation[\"POSTINSERT\"] = \"$postInsert\";\n    // Operations around removing properties/values\n    IdentifyOperation[\"UNSET\"] = \"$unset\";\n    IdentifyOperation[\"CLEAR_ALL\"] = \"$clearAll\";\n})(IdentifyOperation || (IdentifyOperation = {}));\n/**\n * Note that the order of operations should align with https://github.com/amplitude/nova/blob/7701b5986b565d4b2fb53b99a9f2175df055dea8/src/main/java/com/amplitude/ingestion/core/UserPropertyUtils.java#L210\n */\nvar OrderedIdentifyOperations = [\n    IdentifyOperation.CLEAR_ALL,\n    IdentifyOperation.UNSET,\n    IdentifyOperation.SET,\n    IdentifyOperation.SET_ONCE,\n    IdentifyOperation.ADD,\n    IdentifyOperation.APPEND,\n    IdentifyOperation.PREPEND,\n    IdentifyOperation.PREINSERT,\n    IdentifyOperation.POSTINSERT,\n    IdentifyOperation.REMOVE,\n];\n//# sourceMappingURL=identify.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGFtcGxpdHVkZSthbmFseXRpY3MtY29yZUAyLjEyLjIvbm9kZV9tb2R1bGVzL0BhbXBsaXR1ZGUvYW5hbHl0aWNzLWNvcmUvbGliL2VzbS9pZGVudGlmeS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBaUM7QUFDZTtBQUNhO0FBQzdEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsK0NBQVEsR0FBRztBQUMxQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlEQUF5RCx5REFBVztBQUNwRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0RBQXdELHlEQUFXO0FBQ25FO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQkFBbUIsMEVBQWlCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNtQjtBQUNiO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyw4Q0FBOEM7QUFDL0M7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9ob21lL2Jyb256ZS9jb2RpbmcvZnNha20vbm9kZV9tb2R1bGVzLy5wbnBtL0BhbXBsaXR1ZGUrYW5hbHl0aWNzLWNvcmVAMi4xMi4yL25vZGVfbW9kdWxlcy9AYW1wbGl0dWRlL2FuYWx5dGljcy1jb3JlL2xpYi9lc20vaWRlbnRpZnkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgX19hc3NpZ24gfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFVOU0VUX1ZBTFVFIH0gZnJvbSAnLi90eXBlcy9jb25zdGFudHMnO1xuaW1wb3J0IHsgaXNWYWxpZFByb3BlcnRpZXMgfSBmcm9tICcuL3V0aWxzL3ZhbGlkLXByb3BlcnRpZXMnO1xudmFyIElkZW50aWZ5ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIElkZW50aWZ5KCkge1xuICAgICAgICB0aGlzLl9wcm9wZXJ0eVNldCA9IG5ldyBTZXQoKTtcbiAgICAgICAgdGhpcy5fcHJvcGVydGllcyA9IHt9O1xuICAgIH1cbiAgICBJZGVudGlmeS5wcm90b3R5cGUuZ2V0VXNlclByb3BlcnRpZXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBfX2Fzc2lnbih7fSwgdGhpcy5fcHJvcGVydGllcyk7XG4gICAgfTtcbiAgICBJZGVudGlmeS5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gKHByb3BlcnR5LCB2YWx1ZSkge1xuICAgICAgICB0aGlzLl9zYWZlU2V0KElkZW50aWZ5T3BlcmF0aW9uLlNFVCwgcHJvcGVydHksIHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBJZGVudGlmeS5wcm90b3R5cGUuc2V0T25jZSA9IGZ1bmN0aW9uIChwcm9wZXJ0eSwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy5fc2FmZVNldChJZGVudGlmeU9wZXJhdGlvbi5TRVRfT05DRSwgcHJvcGVydHksIHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBJZGVudGlmeS5wcm90b3R5cGUuYXBwZW5kID0gZnVuY3Rpb24gKHByb3BlcnR5LCB2YWx1ZSkge1xuICAgICAgICB0aGlzLl9zYWZlU2V0KElkZW50aWZ5T3BlcmF0aW9uLkFQUEVORCwgcHJvcGVydHksIHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBJZGVudGlmeS5wcm90b3R5cGUucHJlcGVuZCA9IGZ1bmN0aW9uIChwcm9wZXJ0eSwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy5fc2FmZVNldChJZGVudGlmeU9wZXJhdGlvbi5QUkVQRU5ELCBwcm9wZXJ0eSwgdmFsdWUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIElkZW50aWZ5LnByb3RvdHlwZS5wb3N0SW5zZXJ0ID0gZnVuY3Rpb24gKHByb3BlcnR5LCB2YWx1ZSkge1xuICAgICAgICB0aGlzLl9zYWZlU2V0KElkZW50aWZ5T3BlcmF0aW9uLlBPU1RJTlNFUlQsIHByb3BlcnR5LCB2YWx1ZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgSWRlbnRpZnkucHJvdG90eXBlLnByZUluc2VydCA9IGZ1bmN0aW9uIChwcm9wZXJ0eSwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy5fc2FmZVNldChJZGVudGlmeU9wZXJhdGlvbi5QUkVJTlNFUlQsIHByb3BlcnR5LCB2YWx1ZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgSWRlbnRpZnkucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uIChwcm9wZXJ0eSwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy5fc2FmZVNldChJZGVudGlmeU9wZXJhdGlvbi5SRU1PVkUsIHByb3BlcnR5LCB2YWx1ZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgSWRlbnRpZnkucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChwcm9wZXJ0eSwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy5fc2FmZVNldChJZGVudGlmeU9wZXJhdGlvbi5BREQsIHByb3BlcnR5LCB2YWx1ZSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgSWRlbnRpZnkucHJvdG90eXBlLnVuc2V0ID0gZnVuY3Rpb24gKHByb3BlcnR5KSB7XG4gICAgICAgIHRoaXMuX3NhZmVTZXQoSWRlbnRpZnlPcGVyYXRpb24uVU5TRVQsIHByb3BlcnR5LCBVTlNFVF9WQUxVRSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgSWRlbnRpZnkucHJvdG90eXBlLmNsZWFyQWxsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBXaGVuIGNsZWFyIGFsbCBoYXBwZW5zLCBhbGwgcHJvcGVydGllcyBhcmUgdW5zZXQuIFJlc2V0IHRoZSBlbnRpcmUgb2JqZWN0LlxuICAgICAgICB0aGlzLl9wcm9wZXJ0aWVzID0ge307XG4gICAgICAgIHRoaXMuX3Byb3BlcnRpZXNbSWRlbnRpZnlPcGVyYXRpb24uQ0xFQVJfQUxMXSA9IFVOU0VUX1ZBTFVFO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8vIFJldHVybnMgd2hldGhlciBvciBub3QgdGhpcyBzZXQgYWN0dWFsbHkgd29ya2VkLlxuICAgIElkZW50aWZ5LnByb3RvdHlwZS5fc2FmZVNldCA9IGZ1bmN0aW9uIChvcGVyYXRpb24sIHByb3BlcnR5LCB2YWx1ZSkge1xuICAgICAgICBpZiAodGhpcy5fdmFsaWRhdGUob3BlcmF0aW9uLCBwcm9wZXJ0eSwgdmFsdWUpKSB7XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1hc3NpZ25tZW50XG4gICAgICAgICAgICB2YXIgdXNlclByb3BlcnR5TWFwID0gdGhpcy5fcHJvcGVydGllc1tvcGVyYXRpb25dO1xuICAgICAgICAgICAgaWYgKHVzZXJQcm9wZXJ0eU1hcCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdXNlclByb3BlcnR5TWFwID0ge307XG4gICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtYXNzaWdubWVudFxuICAgICAgICAgICAgICAgIHRoaXMuX3Byb3BlcnRpZXNbb3BlcmF0aW9uXSA9IHVzZXJQcm9wZXJ0eU1hcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLW1lbWJlci1hY2Nlc3NcbiAgICAgICAgICAgIHVzZXJQcm9wZXJ0eU1hcFtwcm9wZXJ0eV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX3Byb3BlcnR5U2V0LmFkZChwcm9wZXJ0eSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfTtcbiAgICBJZGVudGlmeS5wcm90b3R5cGUuX3ZhbGlkYXRlID0gZnVuY3Rpb24gKG9wZXJhdGlvbiwgcHJvcGVydHksIHZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLl9wcm9wZXJ0aWVzW0lkZW50aWZ5T3BlcmF0aW9uLkNMRUFSX0FMTF0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy8gY2xlYXIgYWxsIGFscmVhZHkgc2V0LiBTa2lwcGluZyBvcGVyYXRpb247XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX3Byb3BlcnR5U2V0Lmhhcyhwcm9wZXJ0eSkpIHtcbiAgICAgICAgICAgIC8vIFByb3BlcnR5IGFscmVhZHkgdXNlZC4gU2tpcHBpbmcgb3BlcmF0aW9uXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wZXJhdGlvbiA9PT0gSWRlbnRpZnlPcGVyYXRpb24uQUREKSB7XG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJztcbiAgICAgICAgfVxuICAgICAgICBpZiAob3BlcmF0aW9uICE9PSBJZGVudGlmeU9wZXJhdGlvbi5VTlNFVCAmJiBvcGVyYXRpb24gIT09IElkZW50aWZ5T3BlcmF0aW9uLlJFTU9WRSkge1xuICAgICAgICAgICAgcmV0dXJuIGlzVmFsaWRQcm9wZXJ0aWVzKHByb3BlcnR5LCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcbiAgICByZXR1cm4gSWRlbnRpZnk7XG59KCkpO1xuZXhwb3J0IHsgSWRlbnRpZnkgfTtcbmV4cG9ydCB2YXIgSWRlbnRpZnlPcGVyYXRpb247XG4oZnVuY3Rpb24gKElkZW50aWZ5T3BlcmF0aW9uKSB7XG4gICAgLy8gQmFzZSBPcGVyYXRpb25zIHRvIHNldCB2YWx1ZXNcbiAgICBJZGVudGlmeU9wZXJhdGlvbltcIlNFVFwiXSA9IFwiJHNldFwiO1xuICAgIElkZW50aWZ5T3BlcmF0aW9uW1wiU0VUX09OQ0VcIl0gPSBcIiRzZXRPbmNlXCI7XG4gICAgLy8gT3BlcmF0aW9ucyBhcm91bmQgbW9kaWZ5aW5nIGV4aXN0aW5nIHZhbHVlc1xuICAgIElkZW50aWZ5T3BlcmF0aW9uW1wiQUREXCJdID0gXCIkYWRkXCI7XG4gICAgSWRlbnRpZnlPcGVyYXRpb25bXCJBUFBFTkRcIl0gPSBcIiRhcHBlbmRcIjtcbiAgICBJZGVudGlmeU9wZXJhdGlvbltcIlBSRVBFTkRcIl0gPSBcIiRwcmVwZW5kXCI7XG4gICAgSWRlbnRpZnlPcGVyYXRpb25bXCJSRU1PVkVcIl0gPSBcIiRyZW1vdmVcIjtcbiAgICAvLyBPcGVyYXRpb25zIGFyb3VuZCBhcHBlbmRpbmcgdmFsdWVzICppZiogdGhleSBhcmVuJ3QgcHJlc2VudFxuICAgIElkZW50aWZ5T3BlcmF0aW9uW1wiUFJFSU5TRVJUXCJdID0gXCIkcHJlSW5zZXJ0XCI7XG4gICAgSWRlbnRpZnlPcGVyYXRpb25bXCJQT1NUSU5TRVJUXCJdID0gXCIkcG9zdEluc2VydFwiO1xuICAgIC8vIE9wZXJhdGlvbnMgYXJvdW5kIHJlbW92aW5nIHByb3BlcnRpZXMvdmFsdWVzXG4gICAgSWRlbnRpZnlPcGVyYXRpb25bXCJVTlNFVFwiXSA9IFwiJHVuc2V0XCI7XG4gICAgSWRlbnRpZnlPcGVyYXRpb25bXCJDTEVBUl9BTExcIl0gPSBcIiRjbGVhckFsbFwiO1xufSkoSWRlbnRpZnlPcGVyYXRpb24gfHwgKElkZW50aWZ5T3BlcmF0aW9uID0ge30pKTtcbi8qKlxuICogTm90ZSB0aGF0IHRoZSBvcmRlciBvZiBvcGVyYXRpb25zIHNob3VsZCBhbGlnbiB3aXRoIGh0dHBzOi8vZ2l0aHViLmNvbS9hbXBsaXR1ZGUvbm92YS9ibG9iLzc3MDFiNTk4NmI1NjVkNGIyZmI1M2I5OWE5ZjIxNzVkZjA1NWRlYTgvc3JjL21haW4vamF2YS9jb20vYW1wbGl0dWRlL2luZ2VzdGlvbi9jb3JlL1VzZXJQcm9wZXJ0eVV0aWxzLmphdmEjTDIxMFxuICovXG5leHBvcnQgdmFyIE9yZGVyZWRJZGVudGlmeU9wZXJhdGlvbnMgPSBbXG4gICAgSWRlbnRpZnlPcGVyYXRpb24uQ0xFQVJfQUxMLFxuICAgIElkZW50aWZ5T3BlcmF0aW9uLlVOU0VULFxuICAgIElkZW50aWZ5T3BlcmF0aW9uLlNFVCxcbiAgICBJZGVudGlmeU9wZXJhdGlvbi5TRVRfT05DRSxcbiAgICBJZGVudGlmeU9wZXJhdGlvbi5BREQsXG4gICAgSWRlbnRpZnlPcGVyYXRpb24uQVBQRU5ELFxuICAgIElkZW50aWZ5T3BlcmF0aW9uLlBSRVBFTkQsXG4gICAgSWRlbnRpZnlPcGVyYXRpb24uUFJFSU5TRVJULFxuICAgIElkZW50aWZ5T3BlcmF0aW9uLlBPU1RJTlNFUlQsXG4gICAgSWRlbnRpZnlPcGVyYXRpb24uUkVNT1ZFLFxuXTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlkZW50aWZ5LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/identify.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/language.js":
/*!************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/language.js ***!
  \************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getLanguage: () => (/* binding */ getLanguage)\n/* harmony export */ });\nvar getLanguage = function () {\n    var _a, _b, _c, _d;\n    if (typeof navigator === 'undefined')\n        return '';\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n    var userLanguage = navigator.userLanguage;\n    return (_d = (_c = (_b = (_a = navigator.languages) === null || _a === void 0 ? void 0 : _a[0]) !== null && _b !== void 0 ? _b : navigator.language) !== null && _c !== void 0 ? _c : userLanguage) !== null && _d !== void 0 ? _d : '';\n};\n//# sourceMappingURL=language.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGFtcGxpdHVkZSthbmFseXRpY3MtY29yZUAyLjEyLjIvbm9kZV9tb2R1bGVzL0BhbXBsaXR1ZGUvYW5hbHl0aWNzLWNvcmUvbGliL2VzbS9sYW5ndWFnZS5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvaG9tZS9icm9uemUvY29kaW5nL2ZzYWttL25vZGVfbW9kdWxlcy8ucG5wbS9AYW1wbGl0dWRlK2FuYWx5dGljcy1jb3JlQDIuMTIuMi9ub2RlX21vZHVsZXMvQGFtcGxpdHVkZS9hbmFseXRpY3MtY29yZS9saWIvZXNtL2xhbmd1YWdlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB2YXIgZ2V0TGFuZ3VhZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgIGlmICh0eXBlb2YgbmF2aWdhdG9yID09PSAndW5kZWZpbmVkJylcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLW1lbWJlci1hY2Nlc3NcbiAgICB2YXIgdXNlckxhbmd1YWdlID0gbmF2aWdhdG9yLnVzZXJMYW5ndWFnZTtcbiAgICByZXR1cm4gKF9kID0gKF9jID0gKF9iID0gKF9hID0gbmF2aWdhdG9yLmxhbmd1YWdlcykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hWzBdKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBuYXZpZ2F0b3IubGFuZ3VhZ2UpICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IHVzZXJMYW5ndWFnZSkgIT09IG51bGwgJiYgX2QgIT09IHZvaWQgMCA/IF9kIDogJyc7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGFuZ3VhZ2UuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/language.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/logger.js":
/*!**********************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/logger.js ***!
  \**********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Logger: () => (/* binding */ Logger)\n/* harmony export */ });\n/* harmony import */ var _types_loglevel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./types/loglevel */ \"(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/types/loglevel.js\");\n\nvar PREFIX = 'Amplitude Logger ';\nvar Logger = /** @class */ (function () {\n    function Logger() {\n        this.logLevel = _types_loglevel__WEBPACK_IMPORTED_MODULE_0__.LogLevel.None;\n    }\n    Logger.prototype.disable = function () {\n        this.logLevel = _types_loglevel__WEBPACK_IMPORTED_MODULE_0__.LogLevel.None;\n    };\n    Logger.prototype.enable = function (logLevel) {\n        if (logLevel === void 0) { logLevel = _types_loglevel__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Warn; }\n        this.logLevel = logLevel;\n    };\n    Logger.prototype.log = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        if (this.logLevel < _types_loglevel__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Verbose) {\n            return;\n        }\n        console.log(\"\".concat(PREFIX, \"[Log]: \").concat(args.join(' ')));\n    };\n    Logger.prototype.warn = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        if (this.logLevel < _types_loglevel__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Warn) {\n            return;\n        }\n        console.warn(\"\".concat(PREFIX, \"[Warn]: \").concat(args.join(' ')));\n    };\n    Logger.prototype.error = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        if (this.logLevel < _types_loglevel__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Error) {\n            return;\n        }\n        console.error(\"\".concat(PREFIX, \"[Error]: \").concat(args.join(' ')));\n    };\n    Logger.prototype.debug = function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        if (this.logLevel < _types_loglevel__WEBPACK_IMPORTED_MODULE_0__.LogLevel.Debug) {\n            return;\n        }\n        // console.debug output is hidden by default in chrome\n        console.log(\"\".concat(PREFIX, \"[Debug]: \").concat(args.join(' ')));\n    };\n    return Logger;\n}());\n\n//# sourceMappingURL=logger.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGFtcGxpdHVkZSthbmFseXRpY3MtY29yZUAyLjEyLjIvbm9kZV9tb2R1bGVzL0BhbXBsaXR1ZGUvYW5hbHl0aWNzLWNvcmUvbGliL2VzbS9sb2dnZXIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBNEM7QUFDNUM7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLHFEQUFRO0FBQ2hDO0FBQ0E7QUFDQSx3QkFBd0IscURBQVE7QUFDaEM7QUFDQTtBQUNBLG1DQUFtQyxXQUFXLHFEQUFRO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLHVCQUF1QjtBQUNoRDtBQUNBO0FBQ0EsNEJBQTRCLHFEQUFRO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlCQUF5Qix1QkFBdUI7QUFDaEQ7QUFDQTtBQUNBLDRCQUE0QixxREFBUTtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5QkFBeUIsdUJBQXVCO0FBQ2hEO0FBQ0E7QUFDQSw0QkFBNEIscURBQVE7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLHVCQUF1QjtBQUNoRDtBQUNBO0FBQ0EsNEJBQTRCLHFEQUFRO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDaUI7QUFDbEIiLCJzb3VyY2VzIjpbIi9ob21lL2Jyb256ZS9jb2RpbmcvZnNha20vbm9kZV9tb2R1bGVzLy5wbnBtL0BhbXBsaXR1ZGUrYW5hbHl0aWNzLWNvcmVAMi4xMi4yL25vZGVfbW9kdWxlcy9AYW1wbGl0dWRlL2FuYWx5dGljcy1jb3JlL2xpYi9lc20vbG9nZ2VyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IExvZ0xldmVsIH0gZnJvbSAnLi90eXBlcy9sb2dsZXZlbCc7XG52YXIgUFJFRklYID0gJ0FtcGxpdHVkZSBMb2dnZXIgJztcbnZhciBMb2dnZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gTG9nZ2VyKCkge1xuICAgICAgICB0aGlzLmxvZ0xldmVsID0gTG9nTGV2ZWwuTm9uZTtcbiAgICB9XG4gICAgTG9nZ2VyLnByb3RvdHlwZS5kaXNhYmxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmxvZ0xldmVsID0gTG9nTGV2ZWwuTm9uZTtcbiAgICB9O1xuICAgIExvZ2dlci5wcm90b3R5cGUuZW5hYmxlID0gZnVuY3Rpb24gKGxvZ0xldmVsKSB7XG4gICAgICAgIGlmIChsb2dMZXZlbCA9PT0gdm9pZCAwKSB7IGxvZ0xldmVsID0gTG9nTGV2ZWwuV2FybjsgfVxuICAgICAgICB0aGlzLmxvZ0xldmVsID0gbG9nTGV2ZWw7XG4gICAgfTtcbiAgICBMb2dnZXIucHJvdG90eXBlLmxvZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5sb2dMZXZlbCA8IExvZ0xldmVsLlZlcmJvc2UpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlLmxvZyhcIlwiLmNvbmNhdChQUkVGSVgsIFwiW0xvZ106IFwiKS5jb25jYXQoYXJncy5qb2luKCcgJykpKTtcbiAgICB9O1xuICAgIExvZ2dlci5wcm90b3R5cGUud2FybiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5sb2dMZXZlbCA8IExvZ0xldmVsLldhcm4pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlLndhcm4oXCJcIi5jb25jYXQoUFJFRklYLCBcIltXYXJuXTogXCIpLmNvbmNhdChhcmdzLmpvaW4oJyAnKSkpO1xuICAgIH07XG4gICAgTG9nZ2VyLnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5sb2dMZXZlbCA8IExvZ0xldmVsLkVycm9yKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS5lcnJvcihcIlwiLmNvbmNhdChQUkVGSVgsIFwiW0Vycm9yXTogXCIpLmNvbmNhdChhcmdzLmpvaW4oJyAnKSkpO1xuICAgIH07XG4gICAgTG9nZ2VyLnByb3RvdHlwZS5kZWJ1ZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5sb2dMZXZlbCA8IExvZ0xldmVsLkRlYnVnKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gY29uc29sZS5kZWJ1ZyBvdXRwdXQgaXMgaGlkZGVuIGJ5IGRlZmF1bHQgaW4gY2hyb21lXG4gICAgICAgIGNvbnNvbGUubG9nKFwiXCIuY29uY2F0KFBSRUZJWCwgXCJbRGVidWddOiBcIikuY29uY2F0KGFyZ3Muam9pbignICcpKSk7XG4gICAgfTtcbiAgICByZXR1cm4gTG9nZ2VyO1xufSgpKTtcbmV4cG9ydCB7IExvZ2dlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bG9nZ2VyLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/logger.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/network-observer.js":
/*!********************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/network-observer.js ***!
  \********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   NetworkEventCallback: () => (/* binding */ NetworkEventCallback),\n/* harmony export */   NetworkObserver: () => (/* binding */ NetworkObserver),\n/* harmony export */   networkObserver: () => (/* binding */ networkObserver)\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! tslib */ \"(ssr)/./node_modules/.pnpm/tslib@2.8.1/node_modules/tslib/tslib.es6.mjs\");\n/* harmony import */ var ___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ */ \"(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/global-scope.js\");\n/* harmony import */ var _utils_uuid__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/uuid */ \"(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/utils/uuid.js\");\n/* harmony import */ var _network_request_event__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./network-request-event */ \"(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/network-request-event.js\");\n\n\n\n\n/**\n * Typeguard function checks if an input is a Request object.\n */\nfunction isRequest(requestInfo) {\n    return typeof requestInfo === 'object' && requestInfo !== null && 'url' in requestInfo && 'method' in requestInfo;\n}\nvar NetworkEventCallback = /** @class */ (function () {\n    function NetworkEventCallback(callback, id) {\n        if (id === void 0) { id = (0,_utils_uuid__WEBPACK_IMPORTED_MODULE_0__.UUID)(); }\n        this.callback = callback;\n        this.id = id;\n    }\n    return NetworkEventCallback;\n}());\n\nvar NetworkObserver = /** @class */ (function () {\n    function NetworkObserver(logger) {\n        this.eventCallbacks = new Map();\n        this.isObserving = false;\n        this.logger = logger;\n        var globalScope = (0,___WEBPACK_IMPORTED_MODULE_1__.getGlobalScope)();\n        if (!NetworkObserver.isSupported()) {\n            /* istanbul ignore next */\n            return;\n        }\n        this.globalScope = globalScope;\n    }\n    NetworkObserver.isSupported = function () {\n        var globalScope = (0,___WEBPACK_IMPORTED_MODULE_1__.getGlobalScope)();\n        return !!globalScope && !!globalScope.fetch;\n    };\n    NetworkObserver.prototype.subscribe = function (eventCallback, logger) {\n        var _a, _b, _c, _d, _e, _f, _g;\n        if (!this.logger) {\n            this.logger = logger;\n        }\n        this.eventCallbacks.set(eventCallback.id, eventCallback);\n        if (!this.isObserving) {\n            /* istanbul ignore next */\n            // eslint-disable-next-line @typescript-eslint/unbound-method\n            var originalXhrOpen = (_c = (_b = (_a = this.globalScope) === null || _a === void 0 ? void 0 : _a.XMLHttpRequest) === null || _b === void 0 ? void 0 : _b.prototype) === null || _c === void 0 ? void 0 : _c.open;\n            /* istanbul ignore next */\n            // eslint-disable-next-line @typescript-eslint/unbound-method\n            var originalXhrSend = (_f = (_e = (_d = this.globalScope) === null || _d === void 0 ? void 0 : _d.XMLHttpRequest) === null || _e === void 0 ? void 0 : _e.prototype) === null || _f === void 0 ? void 0 : _f.send;\n            if (originalXhrOpen && originalXhrSend) {\n                this.observeXhr(originalXhrOpen, originalXhrSend);\n            }\n            /* istanbul ignore next */\n            var originalFetch = (_g = this.globalScope) === null || _g === void 0 ? void 0 : _g.fetch;\n            /* istanbul ignore next */\n            if (originalFetch) {\n                this.observeFetch(originalFetch);\n            }\n            /* istanbul ignore next */\n            this.isObserving = true;\n        }\n    };\n    NetworkObserver.prototype.unsubscribe = function (eventCallback) {\n        this.eventCallbacks.delete(eventCallback.id);\n    };\n    NetworkObserver.prototype.triggerEventCallbacks = function (event) {\n        var _this = this;\n        this.eventCallbacks.forEach(function (callback) {\n            var _a;\n            try {\n                callback.callback(event);\n            }\n            catch (err) {\n                // if the callback throws an error, we should catch it\n                // to avoid breaking the fetch promise chain\n                /* istanbul ignore next */\n                (_a = _this.logger) === null || _a === void 0 ? void 0 : _a.debug('an unexpected error occurred while triggering event callbacks', err);\n            }\n        });\n    };\n    NetworkObserver.prototype.handleNetworkRequestEvent = function (requestType, requestInfo, requestWrapper, responseWrapper, typedError, startTime, durationStart) {\n        var _a;\n        /* istanbul ignore next */\n        if (startTime === undefined || durationStart === undefined) {\n            // if we reach this point, it means that the performance API is not supported\n            // so we can't construct a NetworkRequestEvent\n            return;\n        }\n        // parse the URL and Method\n        var url;\n        var method = 'GET';\n        if (isRequest(requestInfo)) {\n            url = requestInfo['url'];\n            method = requestInfo['method'];\n        }\n        else {\n            url = (_a = requestInfo === null || requestInfo === void 0 ? void 0 : requestInfo.toString) === null || _a === void 0 ? void 0 : _a.call(requestInfo);\n        }\n        method = (requestWrapper === null || requestWrapper === void 0 ? void 0 : requestWrapper.method) || method;\n        var status, error;\n        if (responseWrapper) {\n            status = responseWrapper.status;\n        }\n        if (typedError) {\n            error = {\n                name: typedError.name || 'UnknownError',\n                message: typedError.message || 'An unknown error occurred',\n            };\n            status = 0;\n        }\n        var duration = Math.floor(performance.now() - durationStart);\n        var endTime = Math.floor(startTime + duration);\n        var requestEvent = new _network_request_event__WEBPACK_IMPORTED_MODULE_2__.NetworkRequestEvent(requestType, method, startTime, // timestamp and startTime are aliases\n        startTime, url, requestWrapper, status, duration, responseWrapper, error, endTime);\n        this.triggerEventCallbacks(requestEvent);\n    };\n    NetworkObserver.prototype.getTimestamps = function () {\n        var _a, _b;\n        /* istanbul ignore next */\n        return {\n            startTime: (_a = Date.now) === null || _a === void 0 ? void 0 : _a.call(Date),\n            durationStart: (_b = performance === null || performance === void 0 ? void 0 : performance.now) === null || _b === void 0 ? void 0 : _b.call(performance),\n        };\n    };\n    NetworkObserver.prototype.observeFetch = function (originalFetch) {\n        var _this = this;\n        /* istanbul ignore next */\n        if (!this.globalScope || !originalFetch) {\n            return;\n        }\n        /**\n         * IMPORTANT: This overrides window.fetch in browsers.\n         * You probably never need to make changes to this function.\n         * If you do, please be careful to preserve the original functionality of fetch\n         * and make sure another developer who is an expert reviews this change throughly\n         */\n        this.globalScope.fetch = function (requestInfo, requestInit) { return (0,tslib__WEBPACK_IMPORTED_MODULE_3__.__awaiter)(_this, void 0, void 0, function () {\n            var timestamps, originalResponse, originalError, err_1;\n            var _a, _b;\n            return (0,tslib__WEBPACK_IMPORTED_MODULE_3__.__generator)(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        try {\n                            timestamps = this.getTimestamps();\n                        }\n                        catch (error) {\n                            /* istanbul ignore next */\n                            (_a = this.logger) === null || _a === void 0 ? void 0 : _a.debug('an unexpected error occurred while retrieving timestamps', error);\n                        }\n                        _c.label = 1;\n                    case 1:\n                        _c.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, originalFetch(requestInfo, requestInit)];\n                    case 2:\n                        originalResponse = _c.sent();\n                        return [3 /*break*/, 4];\n                    case 3:\n                        err_1 = _c.sent();\n                        // Capture error information\n                        originalError = err_1;\n                        return [3 /*break*/, 4];\n                    case 4:\n                        // 3. call the handler after the fetch call is done\n                        try {\n                            this.handleNetworkRequestEvent('fetch', requestInfo, requestInit ? new _network_request_event__WEBPACK_IMPORTED_MODULE_2__.RequestWrapperFetch(requestInit) : undefined, originalResponse ? new _network_request_event__WEBPACK_IMPORTED_MODULE_2__.ResponseWrapperFetch(originalResponse) : undefined, originalError, \n                            /* istanbul ignore next */\n                            timestamps === null || timestamps === void 0 ? void 0 : timestamps.startTime, \n                            /* istanbul ignore next */\n                            timestamps === null || timestamps === void 0 ? void 0 : timestamps.durationStart);\n                        }\n                        catch (err) {\n                            // this catch shouldn't be reachable, but keep it here for safety\n                            // because we're overriding the fetch function and better to be safe than sorry\n                            /* istanbul ignore next */\n                            (_b = this.logger) === null || _b === void 0 ? void 0 : _b.debug('an unexpected error occurred while handling fetch', err);\n                        }\n                        // 4. return the original response or throw the original error\n                        if (originalResponse) {\n                            // if the response is not undefined, return it\n                            return [2 /*return*/, originalResponse];\n                        }\n                        else {\n                            throw originalError;\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        }); };\n    };\n    NetworkObserver.prototype.observeXhr = function (originalXhrOpen, originalXhrSend) {\n        /* istanbul ignore next */\n        if (!this.globalScope || !originalXhrOpen || !originalXhrSend) {\n            return;\n        }\n        var xhrProto = this.globalScope.XMLHttpRequest.prototype;\n        var networkObserverContext = this;\n        /**\n         * IMPORTANT: This overrides window.XMLHttpRequest.prototype.open\n         * You probably never need to make changes to this function.\n         * If you do, please be careful to preserve the original functionality of xhr.open\n         * and make sure another developer who is an expert reviews this change throughly\n         */\n        xhrProto.open = function () {\n            var _a, _b;\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            var xhrSafe = this;\n            var _c = (0,tslib__WEBPACK_IMPORTED_MODULE_3__.__read)(args, 2), method = _c[0], url = _c[1];\n            try {\n                /* istanbul ignore next */\n                xhrSafe.$$AmplitudeAnalyticsEvent = (0,tslib__WEBPACK_IMPORTED_MODULE_3__.__assign)({ method: method, url: (_a = url === null || url === void 0 ? void 0 : url.toString) === null || _a === void 0 ? void 0 : _a.call(url) }, networkObserverContext.getTimestamps());\n            }\n            catch (err) {\n                /* istanbul ignore next */\n                (_b = networkObserverContext.logger) === null || _b === void 0 ? void 0 : _b.debug('an unexpected error occurred while calling xhr open', err);\n            }\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n            return originalXhrOpen.apply(xhrSafe, args);\n        };\n        /**\n         * IMPORTANT: This overrides window.XMLHttpRequest.prototype.send\n         * You probably never need to make changes to this function.\n         * If you do, please be careful to preserve the original functionality of xhr.send\n         * and make sure another developer who is an expert reviews this change throughly\n         */\n        // allow \"any\" type for args to reflect how it's used in the browser\n        /* eslint-disable-next-line @typescript-eslint/no-unsafe-argument */\n        xhrProto.send = function () {\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            // eslint-disable-next-line @typescript-eslint/no-this-alias\n            var xhrSafe = this;\n            var body = args[0];\n            var requestEvent = xhrSafe.$$AmplitudeAnalyticsEvent;\n            xhrSafe.addEventListener('loadend', function () {\n                var _a;\n                try {\n                    var responseHeaders = xhrSafe.getAllResponseHeaders();\n                    var responseBodySize = xhrSafe.getResponseHeader('content-length');\n                    var responseWrapper = new _network_request_event__WEBPACK_IMPORTED_MODULE_2__.ResponseWrapperXhr(xhrSafe.status, responseHeaders, \n                    /* istanbul ignore next */\n                    responseBodySize ? parseInt(responseBodySize, 10) : undefined);\n                    var requestWrapper = new _network_request_event__WEBPACK_IMPORTED_MODULE_2__.RequestWrapperXhr(body);\n                    requestEvent.status = xhrSafe.status;\n                    networkObserverContext.handleNetworkRequestEvent('xhr', { url: requestEvent.url, method: requestEvent.method }, requestWrapper, responseWrapper, undefined, requestEvent.startTime, requestEvent.durationStart);\n                }\n                catch (err) {\n                    /* istanbul ignore next */\n                    (_a = networkObserverContext.logger) === null || _a === void 0 ? void 0 : _a.debug('an unexpected error occurred while handling xhr send', err);\n                }\n            });\n            /* eslint-disable-next-line @typescript-eslint/no-unsafe-argument */\n            return originalXhrSend.apply(xhrSafe, args);\n        };\n    };\n    return NetworkObserver;\n}());\n\n// singleton instance of NetworkObserver\nvar networkObserver = new NetworkObserver();\n//# sourceMappingURL=network-observer.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGFtcGxpdHVkZSthbmFseXRpY3MtY29yZUAyLjEyLjIvbm9kZV9tb2R1bGVzL0BhbXBsaXR1ZGUvYW5hbHl0aWNzLWNvcmUvbGliL2VzbS9uZXR3b3JrLW9ic2VydmVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7QUFBaUU7QUFDN0I7QUFDQTtBQUM2RztBQUNqSjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLEtBQUssaURBQUk7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQytCO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsaURBQWM7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsaURBQWM7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IsdUVBQW1CO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx1RUFBdUUsT0FBTyxnREFBUztBQUN2RjtBQUNBO0FBQ0EsbUJBQW1CLGtEQUFXO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1HQUFtRyx1RUFBbUIsa0RBQWtELHdFQUFvQjtBQUM1TDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsdUJBQXVCO0FBQ3BEO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQiw2Q0FBTTtBQUMzQjtBQUNBO0FBQ0Esb0RBQW9ELCtDQUFRLEdBQUcsc0lBQXNJO0FBQ3JNO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2Qix1QkFBdUI7QUFDcEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhDQUE4QyxzRUFBa0I7QUFDaEU7QUFDQTtBQUNBLDZDQUE2QyxxRUFBaUI7QUFDOUQ7QUFDQSw4RUFBOEUsb0RBQW9EO0FBQ2xJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDMEI7QUFDM0I7QUFDTztBQUNQIiwic291cmNlcyI6WyIvaG9tZS9icm9uemUvY29kaW5nL2ZzYWttL25vZGVfbW9kdWxlcy8ucG5wbS9AYW1wbGl0dWRlK2FuYWx5dGljcy1jb3JlQDIuMTIuMi9ub2RlX21vZHVsZXMvQGFtcGxpdHVkZS9hbmFseXRpY3MtY29yZS9saWIvZXNtL25ldHdvcmstb2JzZXJ2ZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgX19hc3NpZ24sIF9fYXdhaXRlciwgX19nZW5lcmF0b3IsIF9fcmVhZCB9IGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgZ2V0R2xvYmFsU2NvcGUgfSBmcm9tICcuLyc7XG5pbXBvcnQgeyBVVUlEIH0gZnJvbSAnLi91dGlscy91dWlkJztcbmltcG9ydCB7IE5ldHdvcmtSZXF1ZXN0RXZlbnQsIFJlcXVlc3RXcmFwcGVyRmV0Y2gsIFJlc3BvbnNlV3JhcHBlckZldGNoLCBSZXF1ZXN0V3JhcHBlclhociwgUmVzcG9uc2VXcmFwcGVyWGhyLCB9IGZyb20gJy4vbmV0d29yay1yZXF1ZXN0LWV2ZW50Jztcbi8qKlxuICogVHlwZWd1YXJkIGZ1bmN0aW9uIGNoZWNrcyBpZiBhbiBpbnB1dCBpcyBhIFJlcXVlc3Qgb2JqZWN0LlxuICovXG5mdW5jdGlvbiBpc1JlcXVlc3QocmVxdWVzdEluZm8pIHtcbiAgICByZXR1cm4gdHlwZW9mIHJlcXVlc3RJbmZvID09PSAnb2JqZWN0JyAmJiByZXF1ZXN0SW5mbyAhPT0gbnVsbCAmJiAndXJsJyBpbiByZXF1ZXN0SW5mbyAmJiAnbWV0aG9kJyBpbiByZXF1ZXN0SW5mbztcbn1cbnZhciBOZXR3b3JrRXZlbnRDYWxsYmFjayA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBOZXR3b3JrRXZlbnRDYWxsYmFjayhjYWxsYmFjaywgaWQpIHtcbiAgICAgICAgaWYgKGlkID09PSB2b2lkIDApIHsgaWQgPSBVVUlEKCk7IH1cbiAgICAgICAgdGhpcy5jYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgICAgICB0aGlzLmlkID0gaWQ7XG4gICAgfVxuICAgIHJldHVybiBOZXR3b3JrRXZlbnRDYWxsYmFjaztcbn0oKSk7XG5leHBvcnQgeyBOZXR3b3JrRXZlbnRDYWxsYmFjayB9O1xudmFyIE5ldHdvcmtPYnNlcnZlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBOZXR3b3JrT2JzZXJ2ZXIobG9nZ2VyKSB7XG4gICAgICAgIHRoaXMuZXZlbnRDYWxsYmFja3MgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuaXNPYnNlcnZpbmcgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5sb2dnZXIgPSBsb2dnZXI7XG4gICAgICAgIHZhciBnbG9iYWxTY29wZSA9IGdldEdsb2JhbFNjb3BlKCk7XG4gICAgICAgIGlmICghTmV0d29ya09ic2VydmVyLmlzU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5nbG9iYWxTY29wZSA9IGdsb2JhbFNjb3BlO1xuICAgIH1cbiAgICBOZXR3b3JrT2JzZXJ2ZXIuaXNTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBnbG9iYWxTY29wZSA9IGdldEdsb2JhbFNjb3BlKCk7XG4gICAgICAgIHJldHVybiAhIWdsb2JhbFNjb3BlICYmICEhZ2xvYmFsU2NvcGUuZmV0Y2g7XG4gICAgfTtcbiAgICBOZXR3b3JrT2JzZXJ2ZXIucHJvdG90eXBlLnN1YnNjcmliZSA9IGZ1bmN0aW9uIChldmVudENhbGxiYWNrLCBsb2dnZXIpIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nO1xuICAgICAgICBpZiAoIXRoaXMubG9nZ2VyKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlciA9IGxvZ2dlcjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmV2ZW50Q2FsbGJhY2tzLnNldChldmVudENhbGxiYWNrLmlkLCBldmVudENhbGxiYWNrKTtcbiAgICAgICAgaWYgKCF0aGlzLmlzT2JzZXJ2aW5nKSB7XG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC91bmJvdW5kLW1ldGhvZFxuICAgICAgICAgICAgdmFyIG9yaWdpbmFsWGhyT3BlbiA9IChfYyA9IChfYiA9IChfYSA9IHRoaXMuZ2xvYmFsU2NvcGUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5YTUxIdHRwUmVxdWVzdCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnByb3RvdHlwZSkgPT09IG51bGwgfHwgX2MgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9jLm9wZW47XG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC91bmJvdW5kLW1ldGhvZFxuICAgICAgICAgICAgdmFyIG9yaWdpbmFsWGhyU2VuZCA9IChfZiA9IChfZSA9IChfZCA9IHRoaXMuZ2xvYmFsU2NvcGUpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC5YTUxIdHRwUmVxdWVzdCkgPT09IG51bGwgfHwgX2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9lLnByb3RvdHlwZSkgPT09IG51bGwgfHwgX2YgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9mLnNlbmQ7XG4gICAgICAgICAgICBpZiAob3JpZ2luYWxYaHJPcGVuICYmIG9yaWdpbmFsWGhyU2VuZCkge1xuICAgICAgICAgICAgICAgIHRoaXMub2JzZXJ2ZVhocihvcmlnaW5hbFhock9wZW4sIG9yaWdpbmFsWGhyU2VuZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICAgICAgdmFyIG9yaWdpbmFsRmV0Y2ggPSAoX2cgPSB0aGlzLmdsb2JhbFNjb3BlKSA9PT0gbnVsbCB8fCBfZyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2cuZmV0Y2g7XG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICAgICAgaWYgKG9yaWdpbmFsRmV0Y2gpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9ic2VydmVGZXRjaChvcmlnaW5hbEZldGNoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgICAgICB0aGlzLmlzT2JzZXJ2aW5nID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgTmV0d29ya09ic2VydmVyLnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uIChldmVudENhbGxiYWNrKSB7XG4gICAgICAgIHRoaXMuZXZlbnRDYWxsYmFja3MuZGVsZXRlKGV2ZW50Q2FsbGJhY2suaWQpO1xuICAgIH07XG4gICAgTmV0d29ya09ic2VydmVyLnByb3RvdHlwZS50cmlnZ2VyRXZlbnRDYWxsYmFja3MgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdGhpcy5ldmVudENhbGxiYWNrcy5mb3JFYWNoKGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjYWxsYmFjay5jYWxsYmFjayhldmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlIGNhbGxiYWNrIHRocm93cyBhbiBlcnJvciwgd2Ugc2hvdWxkIGNhdGNoIGl0XG4gICAgICAgICAgICAgICAgLy8gdG8gYXZvaWQgYnJlYWtpbmcgdGhlIGZldGNoIHByb21pc2UgY2hhaW5cbiAgICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICAgICAgICAgIChfYSA9IF90aGlzLmxvZ2dlcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmRlYnVnKCdhbiB1bmV4cGVjdGVkIGVycm9yIG9jY3VycmVkIHdoaWxlIHRyaWdnZXJpbmcgZXZlbnQgY2FsbGJhY2tzJywgZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBOZXR3b3JrT2JzZXJ2ZXIucHJvdG90eXBlLmhhbmRsZU5ldHdvcmtSZXF1ZXN0RXZlbnQgPSBmdW5jdGlvbiAocmVxdWVzdFR5cGUsIHJlcXVlc3RJbmZvLCByZXF1ZXN0V3JhcHBlciwgcmVzcG9uc2VXcmFwcGVyLCB0eXBlZEVycm9yLCBzdGFydFRpbWUsIGR1cmF0aW9uU3RhcnQpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICBpZiAoc3RhcnRUaW1lID09PSB1bmRlZmluZWQgfHwgZHVyYXRpb25TdGFydCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAvLyBpZiB3ZSByZWFjaCB0aGlzIHBvaW50LCBpdCBtZWFucyB0aGF0IHRoZSBwZXJmb3JtYW5jZSBBUEkgaXMgbm90IHN1cHBvcnRlZFxuICAgICAgICAgICAgLy8gc28gd2UgY2FuJ3QgY29uc3RydWN0IGEgTmV0d29ya1JlcXVlc3RFdmVudFxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIHBhcnNlIHRoZSBVUkwgYW5kIE1ldGhvZFxuICAgICAgICB2YXIgdXJsO1xuICAgICAgICB2YXIgbWV0aG9kID0gJ0dFVCc7XG4gICAgICAgIGlmIChpc1JlcXVlc3QocmVxdWVzdEluZm8pKSB7XG4gICAgICAgICAgICB1cmwgPSByZXF1ZXN0SW5mb1sndXJsJ107XG4gICAgICAgICAgICBtZXRob2QgPSByZXF1ZXN0SW5mb1snbWV0aG9kJ107XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB1cmwgPSAoX2EgPSByZXF1ZXN0SW5mbyA9PT0gbnVsbCB8fCByZXF1ZXN0SW5mbyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcmVxdWVzdEluZm8udG9TdHJpbmcpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHJlcXVlc3RJbmZvKTtcbiAgICAgICAgfVxuICAgICAgICBtZXRob2QgPSAocmVxdWVzdFdyYXBwZXIgPT09IG51bGwgfHwgcmVxdWVzdFdyYXBwZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHJlcXVlc3RXcmFwcGVyLm1ldGhvZCkgfHwgbWV0aG9kO1xuICAgICAgICB2YXIgc3RhdHVzLCBlcnJvcjtcbiAgICAgICAgaWYgKHJlc3BvbnNlV3JhcHBlcikge1xuICAgICAgICAgICAgc3RhdHVzID0gcmVzcG9uc2VXcmFwcGVyLnN0YXR1cztcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZWRFcnJvcikge1xuICAgICAgICAgICAgZXJyb3IgPSB7XG4gICAgICAgICAgICAgICAgbmFtZTogdHlwZWRFcnJvci5uYW1lIHx8ICdVbmtub3duRXJyb3InLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHR5cGVkRXJyb3IubWVzc2FnZSB8fCAnQW4gdW5rbm93biBlcnJvciBvY2N1cnJlZCcsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgc3RhdHVzID0gMDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZHVyYXRpb24gPSBNYXRoLmZsb29yKHBlcmZvcm1hbmNlLm5vdygpIC0gZHVyYXRpb25TdGFydCk7XG4gICAgICAgIHZhciBlbmRUaW1lID0gTWF0aC5mbG9vcihzdGFydFRpbWUgKyBkdXJhdGlvbik7XG4gICAgICAgIHZhciByZXF1ZXN0RXZlbnQgPSBuZXcgTmV0d29ya1JlcXVlc3RFdmVudChyZXF1ZXN0VHlwZSwgbWV0aG9kLCBzdGFydFRpbWUsIC8vIHRpbWVzdGFtcCBhbmQgc3RhcnRUaW1lIGFyZSBhbGlhc2VzXG4gICAgICAgIHN0YXJ0VGltZSwgdXJsLCByZXF1ZXN0V3JhcHBlciwgc3RhdHVzLCBkdXJhdGlvbiwgcmVzcG9uc2VXcmFwcGVyLCBlcnJvciwgZW5kVGltZSk7XG4gICAgICAgIHRoaXMudHJpZ2dlckV2ZW50Q2FsbGJhY2tzKHJlcXVlc3RFdmVudCk7XG4gICAgfTtcbiAgICBOZXR3b3JrT2JzZXJ2ZXIucHJvdG90eXBlLmdldFRpbWVzdGFtcHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzdGFydFRpbWU6IChfYSA9IERhdGUubm93KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChEYXRlKSxcbiAgICAgICAgICAgIGR1cmF0aW9uU3RhcnQ6IChfYiA9IHBlcmZvcm1hbmNlID09PSBudWxsIHx8IHBlcmZvcm1hbmNlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBwZXJmb3JtYW5jZS5ub3cpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5jYWxsKHBlcmZvcm1hbmNlKSxcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIE5ldHdvcmtPYnNlcnZlci5wcm90b3R5cGUub2JzZXJ2ZUZldGNoID0gZnVuY3Rpb24gKG9yaWdpbmFsRmV0Y2gpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgaWYgKCF0aGlzLmdsb2JhbFNjb3BlIHx8ICFvcmlnaW5hbEZldGNoKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIElNUE9SVEFOVDogVGhpcyBvdmVycmlkZXMgd2luZG93LmZldGNoIGluIGJyb3dzZXJzLlxuICAgICAgICAgKiBZb3UgcHJvYmFibHkgbmV2ZXIgbmVlZCB0byBtYWtlIGNoYW5nZXMgdG8gdGhpcyBmdW5jdGlvbi5cbiAgICAgICAgICogSWYgeW91IGRvLCBwbGVhc2UgYmUgY2FyZWZ1bCB0byBwcmVzZXJ2ZSB0aGUgb3JpZ2luYWwgZnVuY3Rpb25hbGl0eSBvZiBmZXRjaFxuICAgICAgICAgKiBhbmQgbWFrZSBzdXJlIGFub3RoZXIgZGV2ZWxvcGVyIHdobyBpcyBhbiBleHBlcnQgcmV2aWV3cyB0aGlzIGNoYW5nZSB0aHJvdWdobHlcbiAgICAgICAgICovXG4gICAgICAgIHRoaXMuZ2xvYmFsU2NvcGUuZmV0Y2ggPSBmdW5jdGlvbiAocmVxdWVzdEluZm8sIHJlcXVlc3RJbml0KSB7IHJldHVybiBfX2F3YWl0ZXIoX3RoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgdGltZXN0YW1wcywgb3JpZ2luYWxSZXNwb25zZSwgb3JpZ2luYWxFcnJvciwgZXJyXzE7XG4gICAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYykge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2MubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXBzID0gdGhpcy5nZXRUaW1lc3RhbXBzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChfYSA9IHRoaXMubG9nZ2VyKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZGVidWcoJ2FuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQgd2hpbGUgcmV0cmlldmluZyB0aW1lc3RhbXBzJywgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgX2MubGFiZWwgPSAxO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYy50cnlzLnB1c2goWzEsIDMsICwgNF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgb3JpZ2luYWxGZXRjaChyZXF1ZXN0SW5mbywgcmVxdWVzdEluaXQpXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgICAgICAgICAgb3JpZ2luYWxSZXNwb25zZSA9IF9jLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDRdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJfMSA9IF9jLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENhcHR1cmUgZXJyb3IgaW5mb3JtYXRpb25cbiAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsRXJyb3IgPSBlcnJfMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDRdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAzLiBjYWxsIHRoZSBoYW5kbGVyIGFmdGVyIHRoZSBmZXRjaCBjYWxsIGlzIGRvbmVcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVOZXR3b3JrUmVxdWVzdEV2ZW50KCdmZXRjaCcsIHJlcXVlc3RJbmZvLCByZXF1ZXN0SW5pdCA/IG5ldyBSZXF1ZXN0V3JhcHBlckZldGNoKHJlcXVlc3RJbml0KSA6IHVuZGVmaW5lZCwgb3JpZ2luYWxSZXNwb25zZSA/IG5ldyBSZXNwb25zZVdyYXBwZXJGZXRjaChvcmlnaW5hbFJlc3BvbnNlKSA6IHVuZGVmaW5lZCwgb3JpZ2luYWxFcnJvciwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXBzID09PSBudWxsIHx8IHRpbWVzdGFtcHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHRpbWVzdGFtcHMuc3RhcnRUaW1lLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcHMgPT09IG51bGwgfHwgdGltZXN0YW1wcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogdGltZXN0YW1wcy5kdXJhdGlvblN0YXJ0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzIGNhdGNoIHNob3VsZG4ndCBiZSByZWFjaGFibGUsIGJ1dCBrZWVwIGl0IGhlcmUgZm9yIHNhZmV0eVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGJlY2F1c2Ugd2UncmUgb3ZlcnJpZGluZyB0aGUgZmV0Y2ggZnVuY3Rpb24gYW5kIGJldHRlciB0byBiZSBzYWZlIHRoYW4gc29ycnlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChfYiA9IHRoaXMubG9nZ2VyKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuZGVidWcoJ2FuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQgd2hpbGUgaGFuZGxpbmcgZmV0Y2gnLCBlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gNC4gcmV0dXJuIHRoZSBvcmlnaW5hbCByZXNwb25zZSBvciB0aHJvdyB0aGUgb3JpZ2luYWwgZXJyb3JcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcmlnaW5hbFJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgdGhlIHJlc3BvbnNlIGlzIG5vdCB1bmRlZmluZWQsIHJldHVybiBpdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBvcmlnaW5hbFJlc3BvbnNlXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG9yaWdpbmFsRXJyb3I7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pOyB9O1xuICAgIH07XG4gICAgTmV0d29ya09ic2VydmVyLnByb3RvdHlwZS5vYnNlcnZlWGhyID0gZnVuY3Rpb24gKG9yaWdpbmFsWGhyT3Blbiwgb3JpZ2luYWxYaHJTZW5kKSB7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgIGlmICghdGhpcy5nbG9iYWxTY29wZSB8fCAhb3JpZ2luYWxYaHJPcGVuIHx8ICFvcmlnaW5hbFhoclNlbmQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgeGhyUHJvdG8gPSB0aGlzLmdsb2JhbFNjb3BlLlhNTEh0dHBSZXF1ZXN0LnByb3RvdHlwZTtcbiAgICAgICAgdmFyIG5ldHdvcmtPYnNlcnZlckNvbnRleHQgPSB0aGlzO1xuICAgICAgICAvKipcbiAgICAgICAgICogSU1QT1JUQU5UOiBUaGlzIG92ZXJyaWRlcyB3aW5kb3cuWE1MSHR0cFJlcXVlc3QucHJvdG90eXBlLm9wZW5cbiAgICAgICAgICogWW91IHByb2JhYmx5IG5ldmVyIG5lZWQgdG8gbWFrZSBjaGFuZ2VzIHRvIHRoaXMgZnVuY3Rpb24uXG4gICAgICAgICAqIElmIHlvdSBkbywgcGxlYXNlIGJlIGNhcmVmdWwgdG8gcHJlc2VydmUgdGhlIG9yaWdpbmFsIGZ1bmN0aW9uYWxpdHkgb2YgeGhyLm9wZW5cbiAgICAgICAgICogYW5kIG1ha2Ugc3VyZSBhbm90aGVyIGRldmVsb3BlciB3aG8gaXMgYW4gZXhwZXJ0IHJldmlld3MgdGhpcyBjaGFuZ2UgdGhyb3VnaGx5XG4gICAgICAgICAqL1xuICAgICAgICB4aHJQcm90by5vcGVuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgIHZhciBhcmdzID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB4aHJTYWZlID0gdGhpcztcbiAgICAgICAgICAgIHZhciBfYyA9IF9fcmVhZChhcmdzLCAyKSwgbWV0aG9kID0gX2NbMF0sIHVybCA9IF9jWzFdO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICAgICAgICAgIHhoclNhZmUuJCRBbXBsaXR1ZGVBbmFseXRpY3NFdmVudCA9IF9fYXNzaWduKHsgbWV0aG9kOiBtZXRob2QsIHVybDogKF9hID0gdXJsID09PSBudWxsIHx8IHVybCA9PT0gdm9pZCAwID8gdm9pZCAwIDogdXJsLnRvU3RyaW5nKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbCh1cmwpIH0sIG5ldHdvcmtPYnNlcnZlckNvbnRleHQuZ2V0VGltZXN0YW1wcygpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICAgICAgICAgIChfYiA9IG5ldHdvcmtPYnNlcnZlckNvbnRleHQubG9nZ2VyKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuZGVidWcoJ2FuIHVuZXhwZWN0ZWQgZXJyb3Igb2NjdXJyZWQgd2hpbGUgY2FsbGluZyB4aHIgb3BlbicsIGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1hcmd1bWVudFxuICAgICAgICAgICAgcmV0dXJuIG9yaWdpbmFsWGhyT3Blbi5hcHBseSh4aHJTYWZlLCBhcmdzKTtcbiAgICAgICAgfTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElNUE9SVEFOVDogVGhpcyBvdmVycmlkZXMgd2luZG93LlhNTEh0dHBSZXF1ZXN0LnByb3RvdHlwZS5zZW5kXG4gICAgICAgICAqIFlvdSBwcm9iYWJseSBuZXZlciBuZWVkIHRvIG1ha2UgY2hhbmdlcyB0byB0aGlzIGZ1bmN0aW9uLlxuICAgICAgICAgKiBJZiB5b3UgZG8sIHBsZWFzZSBiZSBjYXJlZnVsIHRvIHByZXNlcnZlIHRoZSBvcmlnaW5hbCBmdW5jdGlvbmFsaXR5IG9mIHhoci5zZW5kXG4gICAgICAgICAqIGFuZCBtYWtlIHN1cmUgYW5vdGhlciBkZXZlbG9wZXIgd2hvIGlzIGFuIGV4cGVydCByZXZpZXdzIHRoaXMgY2hhbmdlIHRocm91Z2hseVxuICAgICAgICAgKi9cbiAgICAgICAgLy8gYWxsb3cgXCJhbnlcIiB0eXBlIGZvciBhcmdzIHRvIHJlZmxlY3QgaG93IGl0J3MgdXNlZCBpbiB0aGUgYnJvd3NlclxuICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1hcmd1bWVudCAqL1xuICAgICAgICB4aHJQcm90by5zZW5kID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby10aGlzLWFsaWFzXG4gICAgICAgICAgICB2YXIgeGhyU2FmZSA9IHRoaXM7XG4gICAgICAgICAgICB2YXIgYm9keSA9IGFyZ3NbMF07XG4gICAgICAgICAgICB2YXIgcmVxdWVzdEV2ZW50ID0geGhyU2FmZS4kJEFtcGxpdHVkZUFuYWx5dGljc0V2ZW50O1xuICAgICAgICAgICAgeGhyU2FmZS5hZGRFdmVudExpc3RlbmVyKCdsb2FkZW5kJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzcG9uc2VIZWFkZXJzID0geGhyU2FmZS5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3BvbnNlQm9keVNpemUgPSB4aHJTYWZlLmdldFJlc3BvbnNlSGVhZGVyKCdjb250ZW50LWxlbmd0aCcpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcmVzcG9uc2VXcmFwcGVyID0gbmV3IFJlc3BvbnNlV3JhcHBlclhocih4aHJTYWZlLnN0YXR1cywgcmVzcG9uc2VIZWFkZXJzLCBcbiAgICAgICAgICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2VCb2R5U2l6ZSA/IHBhcnNlSW50KHJlc3BvbnNlQm9keVNpemUsIDEwKSA6IHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXF1ZXN0V3JhcHBlciA9IG5ldyBSZXF1ZXN0V3JhcHBlclhocihib2R5KTtcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdEV2ZW50LnN0YXR1cyA9IHhoclNhZmUuc3RhdHVzO1xuICAgICAgICAgICAgICAgICAgICBuZXR3b3JrT2JzZXJ2ZXJDb250ZXh0LmhhbmRsZU5ldHdvcmtSZXF1ZXN0RXZlbnQoJ3hocicsIHsgdXJsOiByZXF1ZXN0RXZlbnQudXJsLCBtZXRob2Q6IHJlcXVlc3RFdmVudC5tZXRob2QgfSwgcmVxdWVzdFdyYXBwZXIsIHJlc3BvbnNlV3JhcHBlciwgdW5kZWZpbmVkLCByZXF1ZXN0RXZlbnQuc3RhcnRUaW1lLCByZXF1ZXN0RXZlbnQuZHVyYXRpb25TdGFydCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgICAgICAgICAgICAgKF9hID0gbmV0d29ya09ic2VydmVyQ29udGV4dC5sb2dnZXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5kZWJ1ZygnYW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnJlZCB3aGlsZSBoYW5kbGluZyB4aHIgc2VuZCcsIGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVuc2FmZS1hcmd1bWVudCAqL1xuICAgICAgICAgICAgcmV0dXJuIG9yaWdpbmFsWGhyU2VuZC5hcHBseSh4aHJTYWZlLCBhcmdzKTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIHJldHVybiBOZXR3b3JrT2JzZXJ2ZXI7XG59KCkpO1xuZXhwb3J0IHsgTmV0d29ya09ic2VydmVyIH07XG4vLyBzaW5nbGV0b24gaW5zdGFuY2Ugb2YgTmV0d29ya09ic2VydmVyXG5leHBvcnQgdmFyIG5ldHdvcmtPYnNlcnZlciA9IG5ldyBOZXR3b3JrT2JzZXJ2ZXIoKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5ldHdvcmstb2JzZXJ2ZXIuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/network-observer.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/network-request-event.js":
/*!*************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/network-request-event.js ***!
  \*************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MAXIMUM_ENTRIES: () => (/* binding */ MAXIMUM_ENTRIES),\n/* harmony export */   NetworkRequestEvent: () => (/* binding */ NetworkRequestEvent),\n/* harmony export */   RequestWrapperFetch: () => (/* binding */ RequestWrapperFetch),\n/* harmony export */   RequestWrapperXhr: () => (/* binding */ RequestWrapperXhr),\n/* harmony export */   ResponseWrapperFetch: () => (/* binding */ ResponseWrapperFetch),\n/* harmony export */   ResponseWrapperXhr: () => (/* binding */ ResponseWrapperXhr)\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"(ssr)/./node_modules/.pnpm/tslib@2.8.1/node_modules/tslib/tslib.es6.mjs\");\n/* harmony import */ var _global_scope__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./global-scope */ \"(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/global-scope.js\");\n\n\nvar MAXIMUM_ENTRIES = 100;\n/**\n * This class encapsulates the RequestInit (https://developer.mozilla.org/en-US/docs/Web/API/RequestInit)\n * object so that the consumer can only get access to the headers, method and body size.\n *\n * This is to prevent consumers from directly accessing the Request object\n * and mutating it or running costly operations on it.\n *\n * IMPORTANT:\n *    * Do not make changes to this class without careful consideration\n *      of performance implications, memory usage and potential to mutate the customer's\n *      request.\n *   * NEVER .clone() the RequestInit object. This will 2x's the memory overhead of the request\n *   * NEVER: call .arrayBuffer(), text(), json() or any other method on the body that\n *     consumes the body's stream. This will cause the response to be consumed\n *     meaning the body will be empty when the customer tries to access it.\n *     (ie: if the body is an instanceof https://developer.mozilla.org/en-US/docs/Web/API/ReadableStream\n *      never call any of the methods on it)\n */\nvar RequestWrapperFetch = /** @class */ (function () {\n    function RequestWrapperFetch(request) {\n        this.request = request;\n    }\n    Object.defineProperty(RequestWrapperFetch.prototype, \"headers\", {\n        get: function () {\n            if (this._headers)\n                return this._headers;\n            var headersUnsafe = this.request.headers;\n            if (Array.isArray(headersUnsafe)) {\n                var headers = headersUnsafe;\n                this._headers = headers.reduce(function (acc, _a) {\n                    var _b = (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__read)(_a, 2), key = _b[0], value = _b[1];\n                    acc[key] = value;\n                    return acc;\n                }, {});\n            }\n            else if (headersUnsafe instanceof Headers) {\n                var headersSafe = headersUnsafe;\n                var headersObj_1 = {};\n                headersSafe.forEach(function (value, key) {\n                    headersObj_1[key] = value;\n                });\n                this._headers = headersObj_1;\n            }\n            else if (typeof headersUnsafe === 'object') {\n                this._headers = headersUnsafe;\n            }\n            return this._headers;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(RequestWrapperFetch.prototype, \"bodySize\", {\n        get: function () {\n            if (typeof this._bodySize === 'number')\n                return this._bodySize;\n            var global = (0,_global_scope__WEBPACK_IMPORTED_MODULE_1__.getGlobalScope)();\n            /* istanbul ignore if */\n            if (!(global === null || global === void 0 ? void 0 : global.TextEncoder)) {\n                return;\n            }\n            var body = this.request.body;\n            this._bodySize = getBodySize(body, MAXIMUM_ENTRIES);\n            return this._bodySize;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(RequestWrapperFetch.prototype, \"method\", {\n        get: function () {\n            return this.request.method;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return RequestWrapperFetch;\n}());\n\nvar RequestWrapperXhr = /** @class */ (function () {\n    function RequestWrapperXhr(body) {\n        this.body = body;\n    }\n    Object.defineProperty(RequestWrapperXhr.prototype, \"bodySize\", {\n        get: function () {\n            return getBodySize(this.body, MAXIMUM_ENTRIES);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return RequestWrapperXhr;\n}());\n\nfunction getBodySize(bodyUnsafe, maxEntries) {\n    var e_1, _a;\n    var bodySize;\n    var global = (0,_global_scope__WEBPACK_IMPORTED_MODULE_1__.getGlobalScope)();\n    /* istanbul ignore next */\n    var TextEncoder = global === null || global === void 0 ? void 0 : global.TextEncoder;\n    /* istanbul ignore next */\n    if (!TextEncoder) {\n        return;\n    }\n    var bodySafe;\n    if (typeof bodyUnsafe === 'string') {\n        bodySafe = bodyUnsafe;\n        bodySize = new TextEncoder().encode(bodySafe).length;\n    }\n    else if (bodyUnsafe instanceof Blob) {\n        bodySafe = bodyUnsafe;\n        bodySize = bodySafe.size;\n    }\n    else if (bodyUnsafe instanceof URLSearchParams) {\n        bodySafe = bodyUnsafe;\n        bodySize = new TextEncoder().encode(bodySafe.toString()).length;\n    }\n    else if (ArrayBuffer.isView(bodyUnsafe)) {\n        bodySafe = bodyUnsafe;\n        bodySize = bodySafe.byteLength;\n    }\n    else if (bodyUnsafe instanceof ArrayBuffer) {\n        bodySafe = bodyUnsafe;\n        bodySize = bodySafe.byteLength;\n    }\n    else if (bodyUnsafe instanceof FormData) {\n        // Estimating only for text parts; not accurate for files\n        var formData = bodyUnsafe;\n        var total = 0;\n        var count = 0;\n        try {\n            for (var _b = (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__values)(formData.entries()), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var _d = (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__read)(_c.value, 2), key = _d[0], value = _d[1];\n                total += key.length;\n                if (typeof value === 'string') {\n                    total += new TextEncoder().encode(value).length;\n                }\n                else if (value instanceof Blob) {\n                    total += value.size;\n                }\n                else {\n                    // encountered an unknown type\n                    // we can't estimate the size of this entry\n                    return;\n                }\n                // terminate if we reach the maximum number of entries\n                // to avoid performance issues in case of very large FormData\n                if (++count >= maxEntries) {\n                    return;\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        bodySize = total;\n    }\n    else if (bodyUnsafe instanceof ReadableStream) {\n        // If bodyUnsafe is an instanceof ReadableStream, we can't determine the size,\n        // without consuming it, so we return undefined.\n        // Never ever consume ReadableStream! DO NOT DO IT!!!\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        bodySafe = bodyUnsafe;\n        return;\n    }\n    return bodySize;\n}\n/**\n * This class encapsulates the Fetch API Response object\n * (https://developer.mozilla.org/en-US/docs/Web/API/Response) so that the consumer can\n * only get access to the headers and body size.\n *\n * This is to prevent consumers from directly accessing the Response object\n * and mutating it or running costly operations on it.\n *\n * IMPORTANT:\n *   * Do not make changes to this class without careful consideration\n *     of performance implications, memory usage and potential to mutate the customer's\n *     response.\n *   * NEVER .clone() the Response object. This will 2x's the memory overhead of the response\n *   * NEVER consume the body's stream. This will cause the response to be consumed\n *     meaning the body will be empty when the customer tries to access it.\n *     (ie: if the body is an instanceof https://developer.mozilla.org/en-US/docs/Web/API/ReadableStream\n *      never call any of the methods on it)\n */\nvar ResponseWrapperFetch = /** @class */ (function () {\n    function ResponseWrapperFetch(response) {\n        this.response = response;\n    }\n    Object.defineProperty(ResponseWrapperFetch.prototype, \"headers\", {\n        get: function () {\n            var _a;\n            if (this._headers)\n                return this._headers;\n            if (this.response.headers instanceof Headers) {\n                var headersSafe = this.response.headers;\n                var headersOut_1 = {};\n                /* istanbul ignore next */\n                (_a = headersSafe === null || headersSafe === void 0 ? void 0 : headersSafe.forEach) === null || _a === void 0 ? void 0 : _a.call(headersSafe, function (value, key) {\n                    headersOut_1[key] = value;\n                });\n                this._headers = headersOut_1;\n                return headersOut_1;\n            }\n            return;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ResponseWrapperFetch.prototype, \"bodySize\", {\n        get: function () {\n            var _a, _b;\n            if (this._bodySize !== undefined)\n                return this._bodySize;\n            /* istanbul ignore next */\n            var contentLength = (_b = (_a = this.response.headers) === null || _a === void 0 ? void 0 : _a.get) === null || _b === void 0 ? void 0 : _b.call(_a, 'content-length');\n            var bodySize = contentLength ? parseInt(contentLength, 10) : undefined;\n            this._bodySize = bodySize;\n            return bodySize;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ResponseWrapperFetch.prototype, \"status\", {\n        get: function () {\n            return this.response.status;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return ResponseWrapperFetch;\n}());\n\nvar ResponseWrapperXhr = /** @class */ (function () {\n    function ResponseWrapperXhr(statusCode, headersString, size) {\n        this.statusCode = statusCode;\n        this.headersString = headersString;\n        this.size = size;\n    }\n    Object.defineProperty(ResponseWrapperXhr.prototype, \"bodySize\", {\n        get: function () {\n            return this.size;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ResponseWrapperXhr.prototype, \"status\", {\n        get: function () {\n            return this.statusCode;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ResponseWrapperXhr.prototype, \"headers\", {\n        get: function () {\n            var e_2, _a;\n            if (!this.headersString) {\n                return;\n            }\n            var headers = {};\n            var headerLines = this.headersString.split('\\r\\n');\n            try {\n                for (var headerLines_1 = (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__values)(headerLines), headerLines_1_1 = headerLines_1.next(); !headerLines_1_1.done; headerLines_1_1 = headerLines_1.next()) {\n                    var line = headerLines_1_1.value;\n                    var _b = (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__read)(line.split(': '), 2), key = _b[0], value = _b[1];\n                    if (key && value) {\n                        headers[key] = value;\n                    }\n                }\n            }\n            catch (e_2_1) { e_2 = { error: e_2_1 }; }\n            finally {\n                try {\n                    if (headerLines_1_1 && !headerLines_1_1.done && (_a = headerLines_1.return)) _a.call(headerLines_1);\n                }\n                finally { if (e_2) throw e_2.error; }\n            }\n            return headers;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return ResponseWrapperXhr;\n}());\n\nvar NetworkRequestEvent = /** @class */ (function () {\n    function NetworkRequestEvent(type, method, timestamp, startTime, url, requestWrapper, status, duration, responseWrapper, error, endTime) {\n        if (status === void 0) { status = 0; }\n        this.type = type;\n        this.method = method;\n        this.timestamp = timestamp;\n        this.startTime = startTime;\n        this.url = url;\n        this.requestWrapper = requestWrapper;\n        this.status = status;\n        this.duration = duration;\n        this.responseWrapper = responseWrapper;\n        this.error = error;\n        this.endTime = endTime;\n    }\n    NetworkRequestEvent.prototype.toSerializable = function () {\n        var _a, _b, _c, _d;\n        var serialized = {\n            type: this.type,\n            method: this.method,\n            url: this.url,\n            timestamp: this.timestamp,\n            status: this.status,\n            duration: this.duration,\n            error: this.error,\n            startTime: this.startTime,\n            endTime: this.endTime,\n            requestHeaders: (_a = this.requestWrapper) === null || _a === void 0 ? void 0 : _a.headers,\n            requestBodySize: (_b = this.requestWrapper) === null || _b === void 0 ? void 0 : _b.bodySize,\n            responseHeaders: (_c = this.responseWrapper) === null || _c === void 0 ? void 0 : _c.headers,\n            responseBodySize: (_d = this.responseWrapper) === null || _d === void 0 ? void 0 : _d.bodySize,\n        };\n        return Object.fromEntries(Object.entries(serialized).filter(function (_a) {\n            var _b = (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__read)(_a, 2), _ = _b[0], v = _b[1];\n            return v !== undefined;\n        }));\n    };\n    return NetworkRequestEvent;\n}());\n\n//# sourceMappingURL=network-request-event.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGFtcGxpdHVkZSthbmFseXRpY3MtY29yZUAyLjEyLjIvbm9kZV9tb2R1bGVzL0BhbXBsaXR1ZGUvYW5hbHl0aWNzLWNvcmUvbGliL2VzbS9uZXR3b3JrLXJlcXVlc3QtZXZlbnQuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBeUM7QUFDTztBQUN6QztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2Qiw2Q0FBTTtBQUNuQztBQUNBO0FBQ0EsaUJBQWlCLElBQUk7QUFDckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCLDZEQUFjO0FBQ3ZDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxDQUFDO0FBQzhCO0FBQy9CO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxDQUFDO0FBQzRCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQiw2REFBYztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJDQUEyQztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQiwrQ0FBUSxzQ0FBc0MsVUFBVTtBQUNsRix5QkFBeUIsNkNBQU07QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsUUFBUTtBQUNoQztBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxDQUFDO0FBQytCO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHlDQUF5QywrQ0FBUSx1REFBdUQsdUJBQXVCO0FBQy9IO0FBQ0EsNkJBQTZCLDZDQUFNO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEIsUUFBUTtBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQjtBQUMxQjtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxDQUFDO0FBQzZCO0FBQzlCO0FBQ0E7QUFDQSxpQ0FBaUM7QUFDakM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUJBQXFCLDZDQUFNO0FBQzNCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxDQUFDO0FBQzhCO0FBQy9CIiwic291cmNlcyI6WyIvaG9tZS9icm9uemUvY29kaW5nL2ZzYWttL25vZGVfbW9kdWxlcy8ucG5wbS9AYW1wbGl0dWRlK2FuYWx5dGljcy1jb3JlQDIuMTIuMi9ub2RlX21vZHVsZXMvQGFtcGxpdHVkZS9hbmFseXRpY3MtY29yZS9saWIvZXNtL25ldHdvcmstcmVxdWVzdC1ldmVudC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfX3JlYWQsIF9fdmFsdWVzIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBnZXRHbG9iYWxTY29wZSB9IGZyb20gJy4vZ2xvYmFsLXNjb3BlJztcbmV4cG9ydCB2YXIgTUFYSU1VTV9FTlRSSUVTID0gMTAwO1xuLyoqXG4gKiBUaGlzIGNsYXNzIGVuY2Fwc3VsYXRlcyB0aGUgUmVxdWVzdEluaXQgKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9SZXF1ZXN0SW5pdClcbiAqIG9iamVjdCBzbyB0aGF0IHRoZSBjb25zdW1lciBjYW4gb25seSBnZXQgYWNjZXNzIHRvIHRoZSBoZWFkZXJzLCBtZXRob2QgYW5kIGJvZHkgc2l6ZS5cbiAqXG4gKiBUaGlzIGlzIHRvIHByZXZlbnQgY29uc3VtZXJzIGZyb20gZGlyZWN0bHkgYWNjZXNzaW5nIHRoZSBSZXF1ZXN0IG9iamVjdFxuICogYW5kIG11dGF0aW5nIGl0IG9yIHJ1bm5pbmcgY29zdGx5IG9wZXJhdGlvbnMgb24gaXQuXG4gKlxuICogSU1QT1JUQU5UOlxuICogICAgKiBEbyBub3QgbWFrZSBjaGFuZ2VzIHRvIHRoaXMgY2xhc3Mgd2l0aG91dCBjYXJlZnVsIGNvbnNpZGVyYXRpb25cbiAqICAgICAgb2YgcGVyZm9ybWFuY2UgaW1wbGljYXRpb25zLCBtZW1vcnkgdXNhZ2UgYW5kIHBvdGVudGlhbCB0byBtdXRhdGUgdGhlIGN1c3RvbWVyJ3NcbiAqICAgICAgcmVxdWVzdC5cbiAqICAgKiBORVZFUiAuY2xvbmUoKSB0aGUgUmVxdWVzdEluaXQgb2JqZWN0LiBUaGlzIHdpbGwgMngncyB0aGUgbWVtb3J5IG92ZXJoZWFkIG9mIHRoZSByZXF1ZXN0XG4gKiAgICogTkVWRVI6IGNhbGwgLmFycmF5QnVmZmVyKCksIHRleHQoKSwganNvbigpIG9yIGFueSBvdGhlciBtZXRob2Qgb24gdGhlIGJvZHkgdGhhdFxuICogICAgIGNvbnN1bWVzIHRoZSBib2R5J3Mgc3RyZWFtLiBUaGlzIHdpbGwgY2F1c2UgdGhlIHJlc3BvbnNlIHRvIGJlIGNvbnN1bWVkXG4gKiAgICAgbWVhbmluZyB0aGUgYm9keSB3aWxsIGJlIGVtcHR5IHdoZW4gdGhlIGN1c3RvbWVyIHRyaWVzIHRvIGFjY2VzcyBpdC5cbiAqICAgICAoaWU6IGlmIHRoZSBib2R5IGlzIGFuIGluc3RhbmNlb2YgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1JlYWRhYmxlU3RyZWFtXG4gKiAgICAgIG5ldmVyIGNhbGwgYW55IG9mIHRoZSBtZXRob2RzIG9uIGl0KVxuICovXG52YXIgUmVxdWVzdFdyYXBwZXJGZXRjaCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZXF1ZXN0V3JhcHBlckZldGNoKHJlcXVlc3QpIHtcbiAgICAgICAgdGhpcy5yZXF1ZXN0ID0gcmVxdWVzdDtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlcXVlc3RXcmFwcGVyRmV0Y2gucHJvdG90eXBlLCBcImhlYWRlcnNcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLl9oZWFkZXJzKVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9oZWFkZXJzO1xuICAgICAgICAgICAgdmFyIGhlYWRlcnNVbnNhZmUgPSB0aGlzLnJlcXVlc3QuaGVhZGVycztcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGhlYWRlcnNVbnNhZmUpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGhlYWRlcnMgPSBoZWFkZXJzVW5zYWZlO1xuICAgICAgICAgICAgICAgIHRoaXMuX2hlYWRlcnMgPSBoZWFkZXJzLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBfYSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2IgPSBfX3JlYWQoX2EsIDIpLCBrZXkgPSBfYlswXSwgdmFsdWUgPSBfYlsxXTtcbiAgICAgICAgICAgICAgICAgICAgYWNjW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgICAgICAgICB9LCB7fSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChoZWFkZXJzVW5zYWZlIGluc3RhbmNlb2YgSGVhZGVycykge1xuICAgICAgICAgICAgICAgIHZhciBoZWFkZXJzU2FmZSA9IGhlYWRlcnNVbnNhZmU7XG4gICAgICAgICAgICAgICAgdmFyIGhlYWRlcnNPYmpfMSA9IHt9O1xuICAgICAgICAgICAgICAgIGhlYWRlcnNTYWZlLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyc09ial8xW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB0aGlzLl9oZWFkZXJzID0gaGVhZGVyc09ial8xO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIGhlYWRlcnNVbnNhZmUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5faGVhZGVycyA9IGhlYWRlcnNVbnNhZmU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5faGVhZGVycztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZXF1ZXN0V3JhcHBlckZldGNoLnByb3RvdHlwZSwgXCJib2R5U2l6ZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLl9ib2R5U2l6ZSA9PT0gJ251bWJlcicpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2JvZHlTaXplO1xuICAgICAgICAgICAgdmFyIGdsb2JhbCA9IGdldEdsb2JhbFNjb3BlKCk7XG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgICAgIGlmICghKGdsb2JhbCA9PT0gbnVsbCB8fCBnbG9iYWwgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGdsb2JhbC5UZXh0RW5jb2RlcikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgYm9keSA9IHRoaXMucmVxdWVzdC5ib2R5O1xuICAgICAgICAgICAgdGhpcy5fYm9keVNpemUgPSBnZXRCb2R5U2l6ZShib2R5LCBNQVhJTVVNX0VOVFJJRVMpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2JvZHlTaXplO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlcXVlc3RXcmFwcGVyRmV0Y2gucHJvdG90eXBlLCBcIm1ldGhvZFwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdC5tZXRob2Q7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICByZXR1cm4gUmVxdWVzdFdyYXBwZXJGZXRjaDtcbn0oKSk7XG5leHBvcnQgeyBSZXF1ZXN0V3JhcHBlckZldGNoIH07XG52YXIgUmVxdWVzdFdyYXBwZXJYaHIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gUmVxdWVzdFdyYXBwZXJYaHIoYm9keSkge1xuICAgICAgICB0aGlzLmJvZHkgPSBib2R5O1xuICAgIH1cbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVxdWVzdFdyYXBwZXJYaHIucHJvdG90eXBlLCBcImJvZHlTaXplXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2V0Qm9keVNpemUodGhpcy5ib2R5LCBNQVhJTVVNX0VOVFJJRVMpO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIFJlcXVlc3RXcmFwcGVyWGhyO1xufSgpKTtcbmV4cG9ydCB7IFJlcXVlc3RXcmFwcGVyWGhyIH07XG5mdW5jdGlvbiBnZXRCb2R5U2l6ZShib2R5VW5zYWZlLCBtYXhFbnRyaWVzKSB7XG4gICAgdmFyIGVfMSwgX2E7XG4gICAgdmFyIGJvZHlTaXplO1xuICAgIHZhciBnbG9iYWwgPSBnZXRHbG9iYWxTY29wZSgpO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgdmFyIFRleHRFbmNvZGVyID0gZ2xvYmFsID09PSBudWxsIHx8IGdsb2JhbCA9PT0gdm9pZCAwID8gdm9pZCAwIDogZ2xvYmFsLlRleHRFbmNvZGVyO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgaWYgKCFUZXh0RW5jb2Rlcikge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBib2R5U2FmZTtcbiAgICBpZiAodHlwZW9mIGJvZHlVbnNhZmUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGJvZHlTYWZlID0gYm9keVVuc2FmZTtcbiAgICAgICAgYm9keVNpemUgPSBuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUoYm9keVNhZmUpLmxlbmd0aDtcbiAgICB9XG4gICAgZWxzZSBpZiAoYm9keVVuc2FmZSBpbnN0YW5jZW9mIEJsb2IpIHtcbiAgICAgICAgYm9keVNhZmUgPSBib2R5VW5zYWZlO1xuICAgICAgICBib2R5U2l6ZSA9IGJvZHlTYWZlLnNpemU7XG4gICAgfVxuICAgIGVsc2UgaWYgKGJvZHlVbnNhZmUgaW5zdGFuY2VvZiBVUkxTZWFyY2hQYXJhbXMpIHtcbiAgICAgICAgYm9keVNhZmUgPSBib2R5VW5zYWZlO1xuICAgICAgICBib2R5U2l6ZSA9IG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShib2R5U2FmZS50b1N0cmluZygpKS5sZW5ndGg7XG4gICAgfVxuICAgIGVsc2UgaWYgKEFycmF5QnVmZmVyLmlzVmlldyhib2R5VW5zYWZlKSkge1xuICAgICAgICBib2R5U2FmZSA9IGJvZHlVbnNhZmU7XG4gICAgICAgIGJvZHlTaXplID0gYm9keVNhZmUuYnl0ZUxlbmd0aDtcbiAgICB9XG4gICAgZWxzZSBpZiAoYm9keVVuc2FmZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgICAgIGJvZHlTYWZlID0gYm9keVVuc2FmZTtcbiAgICAgICAgYm9keVNpemUgPSBib2R5U2FmZS5ieXRlTGVuZ3RoO1xuICAgIH1cbiAgICBlbHNlIGlmIChib2R5VW5zYWZlIGluc3RhbmNlb2YgRm9ybURhdGEpIHtcbiAgICAgICAgLy8gRXN0aW1hdGluZyBvbmx5IGZvciB0ZXh0IHBhcnRzOyBub3QgYWNjdXJhdGUgZm9yIGZpbGVzXG4gICAgICAgIHZhciBmb3JtRGF0YSA9IGJvZHlVbnNhZmU7XG4gICAgICAgIHZhciB0b3RhbCA9IDA7XG4gICAgICAgIHZhciBjb3VudCA9IDA7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBmb3IgKHZhciBfYiA9IF9fdmFsdWVzKGZvcm1EYXRhLmVudHJpZXMoKSksIF9jID0gX2IubmV4dCgpOyAhX2MuZG9uZTsgX2MgPSBfYi5uZXh0KCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgX2QgPSBfX3JlYWQoX2MudmFsdWUsIDIpLCBrZXkgPSBfZFswXSwgdmFsdWUgPSBfZFsxXTtcbiAgICAgICAgICAgICAgICB0b3RhbCArPSBrZXkubGVuZ3RoO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRvdGFsICs9IG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZSh2YWx1ZSkubGVuZ3RoO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICh2YWx1ZSBpbnN0YW5jZW9mIEJsb2IpIHtcbiAgICAgICAgICAgICAgICAgICAgdG90YWwgKz0gdmFsdWUuc2l6ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGVuY291bnRlcmVkIGFuIHVua25vd24gdHlwZVxuICAgICAgICAgICAgICAgICAgICAvLyB3ZSBjYW4ndCBlc3RpbWF0ZSB0aGUgc2l6ZSBvZiB0aGlzIGVudHJ5XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gdGVybWluYXRlIGlmIHdlIHJlYWNoIHRoZSBtYXhpbXVtIG51bWJlciBvZiBlbnRyaWVzXG4gICAgICAgICAgICAgICAgLy8gdG8gYXZvaWQgcGVyZm9ybWFuY2UgaXNzdWVzIGluIGNhc2Ugb2YgdmVyeSBsYXJnZSBGb3JtRGF0YVxuICAgICAgICAgICAgICAgIGlmICgrK2NvdW50ID49IG1heEVudHJpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKF9jICYmICFfYy5kb25lICYmIChfYSA9IF9iLnJldHVybikpIF9hLmNhbGwoX2IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfVxuICAgICAgICB9XG4gICAgICAgIGJvZHlTaXplID0gdG90YWw7XG4gICAgfVxuICAgIGVsc2UgaWYgKGJvZHlVbnNhZmUgaW5zdGFuY2VvZiBSZWFkYWJsZVN0cmVhbSkge1xuICAgICAgICAvLyBJZiBib2R5VW5zYWZlIGlzIGFuIGluc3RhbmNlb2YgUmVhZGFibGVTdHJlYW0sIHdlIGNhbid0IGRldGVybWluZSB0aGUgc2l6ZSxcbiAgICAgICAgLy8gd2l0aG91dCBjb25zdW1pbmcgaXQsIHNvIHdlIHJldHVybiB1bmRlZmluZWQuXG4gICAgICAgIC8vIE5ldmVyIGV2ZXIgY29uc3VtZSBSZWFkYWJsZVN0cmVhbSEgRE8gTk9UIERPIElUISEhXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW51c2VkLXZhcnNcbiAgICAgICAgYm9keVNhZmUgPSBib2R5VW5zYWZlO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHJldHVybiBib2R5U2l6ZTtcbn1cbi8qKlxuICogVGhpcyBjbGFzcyBlbmNhcHN1bGF0ZXMgdGhlIEZldGNoIEFQSSBSZXNwb25zZSBvYmplY3RcbiAqIChodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUmVzcG9uc2UpIHNvIHRoYXQgdGhlIGNvbnN1bWVyIGNhblxuICogb25seSBnZXQgYWNjZXNzIHRvIHRoZSBoZWFkZXJzIGFuZCBib2R5IHNpemUuXG4gKlxuICogVGhpcyBpcyB0byBwcmV2ZW50IGNvbnN1bWVycyBmcm9tIGRpcmVjdGx5IGFjY2Vzc2luZyB0aGUgUmVzcG9uc2Ugb2JqZWN0XG4gKiBhbmQgbXV0YXRpbmcgaXQgb3IgcnVubmluZyBjb3N0bHkgb3BlcmF0aW9ucyBvbiBpdC5cbiAqXG4gKiBJTVBPUlRBTlQ6XG4gKiAgICogRG8gbm90IG1ha2UgY2hhbmdlcyB0byB0aGlzIGNsYXNzIHdpdGhvdXQgY2FyZWZ1bCBjb25zaWRlcmF0aW9uXG4gKiAgICAgb2YgcGVyZm9ybWFuY2UgaW1wbGljYXRpb25zLCBtZW1vcnkgdXNhZ2UgYW5kIHBvdGVudGlhbCB0byBtdXRhdGUgdGhlIGN1c3RvbWVyJ3NcbiAqICAgICByZXNwb25zZS5cbiAqICAgKiBORVZFUiAuY2xvbmUoKSB0aGUgUmVzcG9uc2Ugb2JqZWN0LiBUaGlzIHdpbGwgMngncyB0aGUgbWVtb3J5IG92ZXJoZWFkIG9mIHRoZSByZXNwb25zZVxuICogICAqIE5FVkVSIGNvbnN1bWUgdGhlIGJvZHkncyBzdHJlYW0uIFRoaXMgd2lsbCBjYXVzZSB0aGUgcmVzcG9uc2UgdG8gYmUgY29uc3VtZWRcbiAqICAgICBtZWFuaW5nIHRoZSBib2R5IHdpbGwgYmUgZW1wdHkgd2hlbiB0aGUgY3VzdG9tZXIgdHJpZXMgdG8gYWNjZXNzIGl0LlxuICogICAgIChpZTogaWYgdGhlIGJvZHkgaXMgYW4gaW5zdGFuY2VvZiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvUmVhZGFibGVTdHJlYW1cbiAqICAgICAgbmV2ZXIgY2FsbCBhbnkgb2YgdGhlIG1ldGhvZHMgb24gaXQpXG4gKi9cbnZhciBSZXNwb25zZVdyYXBwZXJGZXRjaCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBSZXNwb25zZVdyYXBwZXJGZXRjaChyZXNwb25zZSkge1xuICAgICAgICB0aGlzLnJlc3BvbnNlID0gcmVzcG9uc2U7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZXNwb25zZVdyYXBwZXJGZXRjaC5wcm90b3R5cGUsIFwiaGVhZGVyc1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2hlYWRlcnMpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2hlYWRlcnM7XG4gICAgICAgICAgICBpZiAodGhpcy5yZXNwb25zZS5oZWFkZXJzIGluc3RhbmNlb2YgSGVhZGVycykge1xuICAgICAgICAgICAgICAgIHZhciBoZWFkZXJzU2FmZSA9IHRoaXMucmVzcG9uc2UuaGVhZGVycztcbiAgICAgICAgICAgICAgICB2YXIgaGVhZGVyc091dF8xID0ge307XG4gICAgICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgICAgICAgICAoX2EgPSBoZWFkZXJzU2FmZSA9PT0gbnVsbCB8fCBoZWFkZXJzU2FmZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogaGVhZGVyc1NhZmUuZm9yRWFjaCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwoaGVhZGVyc1NhZmUsIGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcnNPdXRfMVtrZXldID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgdGhpcy5faGVhZGVycyA9IGhlYWRlcnNPdXRfMTtcbiAgICAgICAgICAgICAgICByZXR1cm4gaGVhZGVyc091dF8xO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlc3BvbnNlV3JhcHBlckZldGNoLnByb3RvdHlwZSwgXCJib2R5U2l6ZVwiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgICAgIGlmICh0aGlzLl9ib2R5U2l6ZSAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9ib2R5U2l6ZTtcbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgICAgICB2YXIgY29udGVudExlbmd0aCA9IChfYiA9IChfYSA9IHRoaXMucmVzcG9uc2UuaGVhZGVycykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmdldCkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLmNhbGwoX2EsICdjb250ZW50LWxlbmd0aCcpO1xuICAgICAgICAgICAgdmFyIGJvZHlTaXplID0gY29udGVudExlbmd0aCA/IHBhcnNlSW50KGNvbnRlbnRMZW5ndGgsIDEwKSA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRoaXMuX2JvZHlTaXplID0gYm9keVNpemU7XG4gICAgICAgICAgICByZXR1cm4gYm9keVNpemU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICB9KTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVzcG9uc2VXcmFwcGVyRmV0Y2gucHJvdG90eXBlLCBcInN0YXR1c1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucmVzcG9uc2Uuc3RhdHVzO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgcmV0dXJuIFJlc3BvbnNlV3JhcHBlckZldGNoO1xufSgpKTtcbmV4cG9ydCB7IFJlc3BvbnNlV3JhcHBlckZldGNoIH07XG52YXIgUmVzcG9uc2VXcmFwcGVyWGhyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJlc3BvbnNlV3JhcHBlclhocihzdGF0dXNDb2RlLCBoZWFkZXJzU3RyaW5nLCBzaXplKSB7XG4gICAgICAgIHRoaXMuc3RhdHVzQ29kZSA9IHN0YXR1c0NvZGU7XG4gICAgICAgIHRoaXMuaGVhZGVyc1N0cmluZyA9IGhlYWRlcnNTdHJpbmc7XG4gICAgICAgIHRoaXMuc2l6ZSA9IHNpemU7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZXNwb25zZVdyYXBwZXJYaHIucHJvdG90eXBlLCBcImJvZHlTaXplXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zaXplO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlc3BvbnNlV3JhcHBlclhoci5wcm90b3R5cGUsIFwic3RhdHVzXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdGF0dXNDb2RlO1xuICAgICAgICB9LFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFJlc3BvbnNlV3JhcHBlclhoci5wcm90b3R5cGUsIFwiaGVhZGVyc1wiLCB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGVfMiwgX2E7XG4gICAgICAgICAgICBpZiAoIXRoaXMuaGVhZGVyc1N0cmluZykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBoZWFkZXJzID0ge307XG4gICAgICAgICAgICB2YXIgaGVhZGVyTGluZXMgPSB0aGlzLmhlYWRlcnNTdHJpbmcuc3BsaXQoJ1xcclxcbicpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBoZWFkZXJMaW5lc18xID0gX192YWx1ZXMoaGVhZGVyTGluZXMpLCBoZWFkZXJMaW5lc18xXzEgPSBoZWFkZXJMaW5lc18xLm5leHQoKTsgIWhlYWRlckxpbmVzXzFfMS5kb25lOyBoZWFkZXJMaW5lc18xXzEgPSBoZWFkZXJMaW5lc18xLm5leHQoKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbGluZSA9IGhlYWRlckxpbmVzXzFfMS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9iID0gX19yZWFkKGxpbmUuc3BsaXQoJzogJyksIDIpLCBrZXkgPSBfYlswXSwgdmFsdWUgPSBfYlsxXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGtleSAmJiB2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyc1trZXldID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZV8yXzEpIHsgZV8yID0geyBlcnJvcjogZV8yXzEgfTsgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhlYWRlckxpbmVzXzFfMSAmJiAhaGVhZGVyTGluZXNfMV8xLmRvbmUgJiYgKF9hID0gaGVhZGVyTGluZXNfMS5yZXR1cm4pKSBfYS5jYWxsKGhlYWRlckxpbmVzXzEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMikgdGhyb3cgZV8yLmVycm9yOyB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gaGVhZGVycztcbiAgICAgICAgfSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIHJldHVybiBSZXNwb25zZVdyYXBwZXJYaHI7XG59KCkpO1xuZXhwb3J0IHsgUmVzcG9uc2VXcmFwcGVyWGhyIH07XG52YXIgTmV0d29ya1JlcXVlc3RFdmVudCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBOZXR3b3JrUmVxdWVzdEV2ZW50KHR5cGUsIG1ldGhvZCwgdGltZXN0YW1wLCBzdGFydFRpbWUsIHVybCwgcmVxdWVzdFdyYXBwZXIsIHN0YXR1cywgZHVyYXRpb24sIHJlc3BvbnNlV3JhcHBlciwgZXJyb3IsIGVuZFRpbWUpIHtcbiAgICAgICAgaWYgKHN0YXR1cyA9PT0gdm9pZCAwKSB7IHN0YXR1cyA9IDA7IH1cbiAgICAgICAgdGhpcy50eXBlID0gdHlwZTtcbiAgICAgICAgdGhpcy5tZXRob2QgPSBtZXRob2Q7XG4gICAgICAgIHRoaXMudGltZXN0YW1wID0gdGltZXN0YW1wO1xuICAgICAgICB0aGlzLnN0YXJ0VGltZSA9IHN0YXJ0VGltZTtcbiAgICAgICAgdGhpcy51cmwgPSB1cmw7XG4gICAgICAgIHRoaXMucmVxdWVzdFdyYXBwZXIgPSByZXF1ZXN0V3JhcHBlcjtcbiAgICAgICAgdGhpcy5zdGF0dXMgPSBzdGF0dXM7XG4gICAgICAgIHRoaXMuZHVyYXRpb24gPSBkdXJhdGlvbjtcbiAgICAgICAgdGhpcy5yZXNwb25zZVdyYXBwZXIgPSByZXNwb25zZVdyYXBwZXI7XG4gICAgICAgIHRoaXMuZXJyb3IgPSBlcnJvcjtcbiAgICAgICAgdGhpcy5lbmRUaW1lID0gZW5kVGltZTtcbiAgICB9XG4gICAgTmV0d29ya1JlcXVlc3RFdmVudC5wcm90b3R5cGUudG9TZXJpYWxpemFibGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBfYSwgX2IsIF9jLCBfZDtcbiAgICAgICAgdmFyIHNlcmlhbGl6ZWQgPSB7XG4gICAgICAgICAgICB0eXBlOiB0aGlzLnR5cGUsXG4gICAgICAgICAgICBtZXRob2Q6IHRoaXMubWV0aG9kLFxuICAgICAgICAgICAgdXJsOiB0aGlzLnVybCxcbiAgICAgICAgICAgIHRpbWVzdGFtcDogdGhpcy50aW1lc3RhbXAsXG4gICAgICAgICAgICBzdGF0dXM6IHRoaXMuc3RhdHVzLFxuICAgICAgICAgICAgZHVyYXRpb246IHRoaXMuZHVyYXRpb24sXG4gICAgICAgICAgICBlcnJvcjogdGhpcy5lcnJvcixcbiAgICAgICAgICAgIHN0YXJ0VGltZTogdGhpcy5zdGFydFRpbWUsXG4gICAgICAgICAgICBlbmRUaW1lOiB0aGlzLmVuZFRpbWUsXG4gICAgICAgICAgICByZXF1ZXN0SGVhZGVyczogKF9hID0gdGhpcy5yZXF1ZXN0V3JhcHBlcikgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmhlYWRlcnMsXG4gICAgICAgICAgICByZXF1ZXN0Qm9keVNpemU6IChfYiA9IHRoaXMucmVxdWVzdFdyYXBwZXIpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5ib2R5U2l6ZSxcbiAgICAgICAgICAgIHJlc3BvbnNlSGVhZGVyczogKF9jID0gdGhpcy5yZXNwb25zZVdyYXBwZXIpID09PSBudWxsIHx8IF9jID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYy5oZWFkZXJzLFxuICAgICAgICAgICAgcmVzcG9uc2VCb2R5U2l6ZTogKF9kID0gdGhpcy5yZXNwb25zZVdyYXBwZXIpID09PSBudWxsIHx8IF9kID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfZC5ib2R5U2l6ZSxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyhPYmplY3QuZW50cmllcyhzZXJpYWxpemVkKS5maWx0ZXIoZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICB2YXIgX2IgPSBfX3JlYWQoX2EsIDIpLCBfID0gX2JbMF0sIHYgPSBfYlsxXTtcbiAgICAgICAgICAgIHJldHVybiB2ICE9PSB1bmRlZmluZWQ7XG4gICAgICAgIH0pKTtcbiAgICB9O1xuICAgIHJldHVybiBOZXR3b3JrUmVxdWVzdEV2ZW50O1xufSgpKTtcbmV4cG9ydCB7IE5ldHdvcmtSZXF1ZXN0RXZlbnQgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5ldHdvcmstcmVxdWVzdC1ldmVudC5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/network-request-event.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/plugins/destination.js":
/*!***********************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/plugins/destination.js ***!
  \***********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Destination: () => (/* binding */ Destination),\n/* harmony export */   getResponseBodyString: () => (/* binding */ getResponseBodyString)\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"(ssr)/./node_modules/.pnpm/tslib@2.8.1/node_modules/tslib/tslib.es6.mjs\");\n/* harmony import */ var _types_status__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../types/status */ \"(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/types/status.js\");\n/* harmony import */ var _types_messages__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../types/messages */ \"(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/types/messages.js\");\n/* harmony import */ var _types_constants__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../types/constants */ \"(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/types/constants.js\");\n/* harmony import */ var _utils_chunk__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../utils/chunk */ \"(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/utils/chunk.js\");\n/* harmony import */ var _utils_result_builder__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../utils/result-builder */ \"(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/utils/result-builder.js\");\n/* harmony import */ var _config__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../config */ \"(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/config.js\");\n/* harmony import */ var _utils_uuid__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../utils/uuid */ \"(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/utils/uuid.js\");\n\n\n\n\n\n\n\n\nfunction getErrorMessage(error) {\n    if (error instanceof Error)\n        return error.message;\n    return String(error);\n}\nfunction getResponseBodyString(res) {\n    var responseBodyString = '';\n    try {\n        if ('body' in res) {\n            responseBodyString = JSON.stringify(res.body, null, 2);\n        }\n    }\n    catch (_a) {\n        // to avoid crash, but don't care about the error, add comment to avoid empty block lint error\n    }\n    return responseBodyString;\n}\nvar Destination = /** @class */ (function () {\n    function Destination() {\n        this.name = 'amplitude';\n        this.type = 'destination';\n        this.retryTimeout = 1000;\n        this.throttleTimeout = 30000;\n        this.storageKey = '';\n        // Indicator of whether events that are scheduled (but not flushed yet).\n        // When flush:\n        //   1. assign `scheduleId` to `flushId`\n        //   2. set `scheduleId` to null\n        this.scheduleId = null;\n        // Timeout in milliseconds of current schedule\n        this.scheduledTimeout = 0;\n        // Indicator of whether current flush resolves.\n        // When flush resolves, set `flushId` to null\n        this.flushId = null;\n        this.queue = [];\n    }\n    Destination.prototype.setup = function (config) {\n        var _a;\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__awaiter)(this, void 0, void 0, function () {\n            var unsent;\n            var _this = this;\n            return (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__generator)(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        this.config = config;\n                        this.storageKey = \"\".concat(_types_constants__WEBPACK_IMPORTED_MODULE_1__.STORAGE_PREFIX, \"_\").concat(this.config.apiKey.substring(0, 10));\n                        return [4 /*yield*/, ((_a = this.config.storageProvider) === null || _a === void 0 ? void 0 : _a.get(this.storageKey))];\n                    case 1:\n                        unsent = _b.sent();\n                        if (unsent && unsent.length > 0) {\n                            void Promise.all(unsent.map(function (event) { return _this.execute(event); })).catch();\n                        }\n                        return [2 /*return*/, Promise.resolve(undefined)];\n                }\n            });\n        });\n    };\n    Destination.prototype.execute = function (event) {\n        var _this = this;\n        // Assign insert_id for dropping invalid event later\n        if (!event.insert_id) {\n            event.insert_id = (0,_utils_uuid__WEBPACK_IMPORTED_MODULE_2__.UUID)();\n        }\n        return new Promise(function (resolve) {\n            var context = {\n                event: event,\n                attempts: 0,\n                callback: function (result) { return resolve(result); },\n                timeout: 0,\n            };\n            _this.queue.push(context);\n            _this.schedule(_this.config.flushIntervalMillis);\n            _this.saveEvents();\n        });\n    };\n    Destination.prototype.removeEventsExceedFlushMaxRetries = function (list) {\n        var _this = this;\n        return list.filter(function (context) {\n            context.attempts += 1;\n            if (context.attempts < _this.config.flushMaxRetries) {\n                return true;\n            }\n            void _this.fulfillRequest([context], 500, _types_messages__WEBPACK_IMPORTED_MODULE_3__.MAX_RETRIES_EXCEEDED_MESSAGE);\n            return false;\n        });\n    };\n    Destination.prototype.scheduleEvents = function (list) {\n        var _this = this;\n        list.forEach(function (context) {\n            _this.schedule(context.timeout === 0 ? _this.config.flushIntervalMillis : context.timeout);\n        });\n    };\n    // Schedule a flush in timeout when\n    // 1. No schedule\n    // 2. Timeout greater than existing timeout.\n    // This makes sure that when throttled, no flush when throttle timeout expires.\n    Destination.prototype.schedule = function (timeout) {\n        var _this = this;\n        if (this.config.offline) {\n            return;\n        }\n        if (this.scheduleId === null || (this.scheduleId && timeout > this.scheduledTimeout)) {\n            if (this.scheduleId) {\n                clearTimeout(this.scheduleId);\n            }\n            this.scheduledTimeout = timeout;\n            this.scheduleId = setTimeout(function () {\n                _this.queue = _this.queue.map(function (context) {\n                    context.timeout = 0;\n                    return context;\n                });\n                void _this.flush(true);\n            }, timeout);\n            return;\n        }\n    };\n    // Mark current schedule is flushed.\n    Destination.prototype.resetSchedule = function () {\n        this.scheduleId = null;\n        this.scheduledTimeout = 0;\n    };\n    // Flush all events regardless of their timeout\n    Destination.prototype.flush = function (useRetry) {\n        if (useRetry === void 0) { useRetry = false; }\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__awaiter)(this, void 0, void 0, function () {\n            var list, later, batches;\n            var _this = this;\n            return (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__generator)(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        // Skip flush if offline\n                        if (this.config.offline) {\n                            this.resetSchedule();\n                            this.config.loggerProvider.debug('Skipping flush while offline.');\n                            return [2 /*return*/];\n                        }\n                        if (this.flushId) {\n                            this.resetSchedule();\n                            this.config.loggerProvider.debug('Skipping flush because previous flush has not resolved.');\n                            return [2 /*return*/];\n                        }\n                        this.flushId = this.scheduleId;\n                        this.resetSchedule();\n                        list = [];\n                        later = [];\n                        this.queue.forEach(function (context) { return (context.timeout === 0 ? list.push(context) : later.push(context)); });\n                        batches = (0,_utils_chunk__WEBPACK_IMPORTED_MODULE_4__.chunk)(list, this.config.flushQueueSize);\n                        // Promise.all() doesn't guarantee resolve order.\n                        // Sequentially resolve to make sure backend receives events in order\n                        return [4 /*yield*/, batches.reduce(function (promise, batch) { return (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__awaiter)(_this, void 0, void 0, function () {\n                                return (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__generator)(this, function (_a) {\n                                    switch (_a.label) {\n                                        case 0: return [4 /*yield*/, promise];\n                                        case 1:\n                                            _a.sent();\n                                            return [4 /*yield*/, this.send(batch, useRetry)];\n                                        case 2: return [2 /*return*/, _a.sent()];\n                                    }\n                                });\n                            }); }, Promise.resolve())];\n                    case 1:\n                        // Promise.all() doesn't guarantee resolve order.\n                        // Sequentially resolve to make sure backend receives events in order\n                        _a.sent();\n                        // Mark current flush is done\n                        this.flushId = null;\n                        this.scheduleEvents(this.queue);\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Destination.prototype.send = function (list, useRetry) {\n        if (useRetry === void 0) { useRetry = true; }\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__awaiter)(this, void 0, void 0, function () {\n            var payload, serverUrl, res, e_1, errorMessage;\n            return (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__generator)(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!this.config.apiKey) {\n                            return [2 /*return*/, this.fulfillRequest(list, 400, _types_messages__WEBPACK_IMPORTED_MODULE_3__.MISSING_API_KEY_MESSAGE)];\n                        }\n                        payload = {\n                            api_key: this.config.apiKey,\n                            events: list.map(function (context) {\n                                // eslint-disable-next-line @typescript-eslint/no-unused-vars\n                                var _a = context.event, extra = _a.extra, eventWithoutExtra = (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__rest)(_a, [\"extra\"]);\n                                return eventWithoutExtra;\n                            }),\n                            options: {\n                                min_id_length: this.config.minIdLength,\n                            },\n                            client_upload_time: new Date().toISOString(),\n                            request_metadata: this.config.requestMetadata,\n                        };\n                        this.config.requestMetadata = new _config__WEBPACK_IMPORTED_MODULE_5__.RequestMetadata();\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, , 4]);\n                        serverUrl = (0,_config__WEBPACK_IMPORTED_MODULE_5__.createServerConfig)(this.config.serverUrl, this.config.serverZone, this.config.useBatch).serverUrl;\n                        return [4 /*yield*/, this.config.transportProvider.send(serverUrl, payload)];\n                    case 2:\n                        res = _a.sent();\n                        if (res === null) {\n                            this.fulfillRequest(list, 0, _types_messages__WEBPACK_IMPORTED_MODULE_3__.UNEXPECTED_ERROR_MESSAGE);\n                            return [2 /*return*/];\n                        }\n                        if (!useRetry) {\n                            if ('body' in res) {\n                                this.fulfillRequest(list, res.statusCode, \"\".concat(res.status, \": \").concat(getResponseBodyString(res)));\n                            }\n                            else {\n                                this.fulfillRequest(list, res.statusCode, res.status);\n                            }\n                            return [2 /*return*/];\n                        }\n                        this.handleResponse(res, list);\n                        return [3 /*break*/, 4];\n                    case 3:\n                        e_1 = _a.sent();\n                        errorMessage = getErrorMessage(e_1);\n                        this.config.loggerProvider.error(errorMessage);\n                        this.handleResponse({ status: _types_status__WEBPACK_IMPORTED_MODULE_6__.Status.Failed, statusCode: 0 }, list);\n                        return [3 /*break*/, 4];\n                    case 4: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Destination.prototype.handleResponse = function (res, list) {\n        var status = res.status;\n        switch (status) {\n            case _types_status__WEBPACK_IMPORTED_MODULE_6__.Status.Success: {\n                this.handleSuccessResponse(res, list);\n                break;\n            }\n            case _types_status__WEBPACK_IMPORTED_MODULE_6__.Status.Invalid: {\n                this.handleInvalidResponse(res, list);\n                break;\n            }\n            case _types_status__WEBPACK_IMPORTED_MODULE_6__.Status.PayloadTooLarge: {\n                this.handlePayloadTooLargeResponse(res, list);\n                break;\n            }\n            case _types_status__WEBPACK_IMPORTED_MODULE_6__.Status.RateLimit: {\n                this.handleRateLimitResponse(res, list);\n                break;\n            }\n            default: {\n                // log intermediate event status before retry\n                this.config.loggerProvider.warn(\"{code: 0, error: \\\"Status '\".concat(status, \"' provided for \").concat(list.length, \" events\\\"}\"));\n                this.handleOtherResponse(list);\n                break;\n            }\n        }\n    };\n    Destination.prototype.handleSuccessResponse = function (res, list) {\n        this.fulfillRequest(list, res.statusCode, _types_messages__WEBPACK_IMPORTED_MODULE_3__.SUCCESS_MESSAGE);\n    };\n    Destination.prototype.handleInvalidResponse = function (res, list) {\n        var _this = this;\n        if (res.body.missingField || res.body.error.startsWith(_types_messages__WEBPACK_IMPORTED_MODULE_3__.INVALID_API_KEY)) {\n            this.fulfillRequest(list, res.statusCode, res.body.error);\n            return;\n        }\n        var dropIndex = (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__spreadArray)((0,tslib__WEBPACK_IMPORTED_MODULE_0__.__spreadArray)((0,tslib__WEBPACK_IMPORTED_MODULE_0__.__spreadArray)((0,tslib__WEBPACK_IMPORTED_MODULE_0__.__spreadArray)([], (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__read)(Object.values(res.body.eventsWithInvalidFields)), false), (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__read)(Object.values(res.body.eventsWithMissingFields)), false), (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__read)(Object.values(res.body.eventsWithInvalidIdLengths)), false), (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__read)(res.body.silencedEvents), false).flat();\n        var dropIndexSet = new Set(dropIndex);\n        var retry = list.filter(function (context, index) {\n            if (dropIndexSet.has(index)) {\n                _this.fulfillRequest([context], res.statusCode, res.body.error);\n                return;\n            }\n            return true;\n        });\n        if (retry.length > 0) {\n            // log intermediate event status before retry\n            this.config.loggerProvider.warn(getResponseBodyString(res));\n        }\n        var tryable = this.removeEventsExceedFlushMaxRetries(retry);\n        this.scheduleEvents(tryable);\n    };\n    Destination.prototype.handlePayloadTooLargeResponse = function (res, list) {\n        if (list.length === 1) {\n            this.fulfillRequest(list, res.statusCode, res.body.error);\n            return;\n        }\n        // log intermediate event status before retry\n        this.config.loggerProvider.warn(getResponseBodyString(res));\n        this.config.flushQueueSize /= 2;\n        var tryable = this.removeEventsExceedFlushMaxRetries(list);\n        this.scheduleEvents(tryable);\n    };\n    Destination.prototype.handleRateLimitResponse = function (res, list) {\n        var _this = this;\n        var dropUserIds = Object.keys(res.body.exceededDailyQuotaUsers);\n        var dropDeviceIds = Object.keys(res.body.exceededDailyQuotaDevices);\n        var throttledIndex = res.body.throttledEvents;\n        var dropUserIdsSet = new Set(dropUserIds);\n        var dropDeviceIdsSet = new Set(dropDeviceIds);\n        var throttledIndexSet = new Set(throttledIndex);\n        var retry = list.filter(function (context, index) {\n            if ((context.event.user_id && dropUserIdsSet.has(context.event.user_id)) ||\n                (context.event.device_id && dropDeviceIdsSet.has(context.event.device_id))) {\n                _this.fulfillRequest([context], res.statusCode, res.body.error);\n                return;\n            }\n            if (throttledIndexSet.has(index)) {\n                context.timeout = _this.throttleTimeout;\n            }\n            return true;\n        });\n        if (retry.length > 0) {\n            // log intermediate event status before retry\n            this.config.loggerProvider.warn(getResponseBodyString(res));\n        }\n        var tryable = this.removeEventsExceedFlushMaxRetries(retry);\n        this.scheduleEvents(tryable);\n    };\n    Destination.prototype.handleOtherResponse = function (list) {\n        var _this = this;\n        var later = list.map(function (context) {\n            context.timeout = context.attempts * _this.retryTimeout;\n            return context;\n        });\n        var tryable = this.removeEventsExceedFlushMaxRetries(later);\n        this.scheduleEvents(tryable);\n    };\n    Destination.prototype.fulfillRequest = function (list, code, message) {\n        this.removeEvents(list);\n        list.forEach(function (context) { return context.callback((0,_utils_result_builder__WEBPACK_IMPORTED_MODULE_7__.buildResult)(context.event, code, message)); });\n    };\n    /**\n     * This is called on\n     * 1) new events are added to queue; or\n     * 2) response comes back for a request\n     *\n     * Update the event storage based on the queue\n     */\n    Destination.prototype.saveEvents = function () {\n        if (!this.config.storageProvider) {\n            return;\n        }\n        var updatedEvents = this.queue.map(function (context) { return context.event; });\n        void this.config.storageProvider.set(this.storageKey, updatedEvents);\n    };\n    /**\n     * This is called on response comes back for a request\n     */\n    Destination.prototype.removeEvents = function (eventsToRemove) {\n        this.queue = this.queue.filter(function (queuedContext) { return !eventsToRemove.some(function (context) { return context.event.insert_id === queuedContext.event.insert_id; }); });\n        this.saveEvents();\n    };\n    return Destination;\n}());\n\n//# sourceMappingURL=destination.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGFtcGxpdHVkZSthbmFseXRpY3MtY29yZUAyLjEyLjIvbm9kZV9tb2R1bGVzL0BhbXBsaXR1ZGUvYW5hbHl0aWNzLWNvcmUvbGliL2VzbS9wbHVnaW5zL2Rlc3RpbmF0aW9uLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBOEU7QUFDckM7QUFDOEc7QUFDbkc7QUFDYjtBQUNlO0FBQ1U7QUFDM0I7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsZ0RBQVM7QUFDeEI7QUFDQTtBQUNBLG1CQUFtQixrREFBVztBQUM5QjtBQUNBO0FBQ0E7QUFDQSxvREFBb0QsNERBQWM7QUFDbEU7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyRUFBMkUsOEJBQThCO0FBQ3pHO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhCQUE4QixpREFBSTtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLHlCQUF5QjtBQUN2RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0QseUVBQTRCO0FBQ2xGO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUM7QUFDbkMsZUFBZSxnREFBUztBQUN4QjtBQUNBO0FBQ0EsbUJBQW1CLGtEQUFXO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxnRUFBZ0UsNEVBQTRFO0FBQzVJLGtDQUFrQyxtREFBSztBQUN2QztBQUNBO0FBQ0Esd0ZBQXdGLE9BQU8sZ0RBQVM7QUFDeEcsdUNBQXVDLGtEQUFXO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUNBQWlDO0FBQ2pDLDZCQUE2QixJQUFJO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBLG1DQUFtQztBQUNuQyxlQUFlLGdEQUFTO0FBQ3hCO0FBQ0EsbUJBQW1CLGtEQUFXO0FBQzlCO0FBQ0E7QUFDQTtBQUNBLGlGQUFpRixvRUFBdUI7QUFDeEc7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhGQUE4Riw2Q0FBTTtBQUNwRztBQUNBLDZCQUE2QjtBQUM3QjtBQUNBO0FBQ0EsNkJBQTZCO0FBQzdCO0FBQ0E7QUFDQTtBQUNBLDBEQUEwRCxvREFBZTtBQUN6RTtBQUNBO0FBQ0E7QUFDQSxvQ0FBb0MsMkRBQWtCO0FBQ3REO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseURBQXlELHFFQUF3QjtBQUNqRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOENBQThDLFFBQVEsaURBQU0sd0JBQXdCO0FBQ3BGO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsaURBQU07QUFDdkI7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCLGlEQUFNO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixpREFBTTtBQUN2QjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUIsaURBQU07QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtEQUFrRCw2RkFBNkY7QUFDL0k7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtELDREQUFlO0FBQ2pFO0FBQ0E7QUFDQTtBQUNBLCtEQUErRCw0REFBZTtBQUM5RTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0Isb0RBQWEsQ0FBQyxvREFBYSxDQUFDLG9EQUFhLENBQUMsb0RBQWEsS0FBSyw2Q0FBTSwyREFBMkQsNkNBQU0sMkRBQTJELDZDQUFNLDhEQUE4RCw2Q0FBTTtBQUNoUztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsd0JBQXdCLGtFQUFXLGtDQUFrQztBQUMvRztBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdFQUFnRSx1QkFBdUI7QUFDdkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0VBQWtFLGlEQUFpRCxtRUFBbUUsSUFBSTtBQUMxTDtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ3NCO0FBQ3ZCIiwic291cmNlcyI6WyIvaG9tZS9icm9uemUvY29kaW5nL2ZzYWttL25vZGVfbW9kdWxlcy8ucG5wbS9AYW1wbGl0dWRlK2FuYWx5dGljcy1jb3JlQDIuMTIuMi9ub2RlX21vZHVsZXMvQGFtcGxpdHVkZS9hbmFseXRpY3MtY29yZS9saWIvZXNtL3BsdWdpbnMvZGVzdGluYXRpb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgX19hd2FpdGVyLCBfX2dlbmVyYXRvciwgX19yZWFkLCBfX3Jlc3QsIF9fc3ByZWFkQXJyYXkgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN0YXR1cyB9IGZyb20gJy4uL3R5cGVzL3N0YXR1cyc7XG5pbXBvcnQgeyBJTlZBTElEX0FQSV9LRVksIE1BWF9SRVRSSUVTX0VYQ0VFREVEX01FU1NBR0UsIE1JU1NJTkdfQVBJX0tFWV9NRVNTQUdFLCBTVUNDRVNTX01FU1NBR0UsIFVORVhQRUNURURfRVJST1JfTUVTU0FHRSwgfSBmcm9tICcuLi90eXBlcy9tZXNzYWdlcyc7XG5pbXBvcnQgeyBTVE9SQUdFX1BSRUZJWCB9IGZyb20gJy4uL3R5cGVzL2NvbnN0YW50cyc7XG5pbXBvcnQgeyBjaHVuayB9IGZyb20gJy4uL3V0aWxzL2NodW5rJztcbmltcG9ydCB7IGJ1aWxkUmVzdWx0IH0gZnJvbSAnLi4vdXRpbHMvcmVzdWx0LWJ1aWxkZXInO1xuaW1wb3J0IHsgY3JlYXRlU2VydmVyQ29uZmlnLCBSZXF1ZXN0TWV0YWRhdGEgfSBmcm9tICcuLi9jb25maWcnO1xuaW1wb3J0IHsgVVVJRCB9IGZyb20gJy4uL3V0aWxzL3V1aWQnO1xuZnVuY3Rpb24gZ2V0RXJyb3JNZXNzYWdlKGVycm9yKSB7XG4gICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpXG4gICAgICAgIHJldHVybiBlcnJvci5tZXNzYWdlO1xuICAgIHJldHVybiBTdHJpbmcoZXJyb3IpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldFJlc3BvbnNlQm9keVN0cmluZyhyZXMpIHtcbiAgICB2YXIgcmVzcG9uc2VCb2R5U3RyaW5nID0gJyc7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKCdib2R5JyBpbiByZXMpIHtcbiAgICAgICAgICAgIHJlc3BvbnNlQm9keVN0cmluZyA9IEpTT04uc3RyaW5naWZ5KHJlcy5ib2R5LCBudWxsLCAyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCAoX2EpIHtcbiAgICAgICAgLy8gdG8gYXZvaWQgY3Jhc2gsIGJ1dCBkb24ndCBjYXJlIGFib3V0IHRoZSBlcnJvciwgYWRkIGNvbW1lbnQgdG8gYXZvaWQgZW1wdHkgYmxvY2sgbGludCBlcnJvclxuICAgIH1cbiAgICByZXR1cm4gcmVzcG9uc2VCb2R5U3RyaW5nO1xufVxudmFyIERlc3RpbmF0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIERlc3RpbmF0aW9uKCkge1xuICAgICAgICB0aGlzLm5hbWUgPSAnYW1wbGl0dWRlJztcbiAgICAgICAgdGhpcy50eXBlID0gJ2Rlc3RpbmF0aW9uJztcbiAgICAgICAgdGhpcy5yZXRyeVRpbWVvdXQgPSAxMDAwO1xuICAgICAgICB0aGlzLnRocm90dGxlVGltZW91dCA9IDMwMDAwO1xuICAgICAgICB0aGlzLnN0b3JhZ2VLZXkgPSAnJztcbiAgICAgICAgLy8gSW5kaWNhdG9yIG9mIHdoZXRoZXIgZXZlbnRzIHRoYXQgYXJlIHNjaGVkdWxlZCAoYnV0IG5vdCBmbHVzaGVkIHlldCkuXG4gICAgICAgIC8vIFdoZW4gZmx1c2g6XG4gICAgICAgIC8vICAgMS4gYXNzaWduIGBzY2hlZHVsZUlkYCB0byBgZmx1c2hJZGBcbiAgICAgICAgLy8gICAyLiBzZXQgYHNjaGVkdWxlSWRgIHRvIG51bGxcbiAgICAgICAgdGhpcy5zY2hlZHVsZUlkID0gbnVsbDtcbiAgICAgICAgLy8gVGltZW91dCBpbiBtaWxsaXNlY29uZHMgb2YgY3VycmVudCBzY2hlZHVsZVxuICAgICAgICB0aGlzLnNjaGVkdWxlZFRpbWVvdXQgPSAwO1xuICAgICAgICAvLyBJbmRpY2F0b3Igb2Ygd2hldGhlciBjdXJyZW50IGZsdXNoIHJlc29sdmVzLlxuICAgICAgICAvLyBXaGVuIGZsdXNoIHJlc29sdmVzLCBzZXQgYGZsdXNoSWRgIHRvIG51bGxcbiAgICAgICAgdGhpcy5mbHVzaElkID0gbnVsbDtcbiAgICAgICAgdGhpcy5xdWV1ZSA9IFtdO1xuICAgIH1cbiAgICBEZXN0aW5hdGlvbi5wcm90b3R5cGUuc2V0dXAgPSBmdW5jdGlvbiAoY29uZmlnKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHVuc2VudDtcbiAgICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9iKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYi5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RvcmFnZUtleSA9IFwiXCIuY29uY2F0KFNUT1JBR0VfUFJFRklYLCBcIl9cIikuY29uY2F0KHRoaXMuY29uZmlnLmFwaUtleS5zdWJzdHJpbmcoMCwgMTApKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sICgoX2EgPSB0aGlzLmNvbmZpZy5zdG9yYWdlUHJvdmlkZXIpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5nZXQodGhpcy5zdG9yYWdlS2V5KSldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICB1bnNlbnQgPSBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodW5zZW50ICYmIHVuc2VudC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdm9pZCBQcm9taXNlLmFsbCh1bnNlbnQubWFwKGZ1bmN0aW9uIChldmVudCkgeyByZXR1cm4gX3RoaXMuZXhlY3V0ZShldmVudCk7IH0pKS5jYXRjaCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIFByb21pc2UucmVzb2x2ZSh1bmRlZmluZWQpXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBEZXN0aW5hdGlvbi5wcm90b3R5cGUuZXhlY3V0ZSA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAvLyBBc3NpZ24gaW5zZXJ0X2lkIGZvciBkcm9wcGluZyBpbnZhbGlkIGV2ZW50IGxhdGVyXG4gICAgICAgIGlmICghZXZlbnQuaW5zZXJ0X2lkKSB7XG4gICAgICAgICAgICBldmVudC5pbnNlcnRfaWQgPSBVVUlEKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgICB2YXIgY29udGV4dCA9IHtcbiAgICAgICAgICAgICAgICBldmVudDogZXZlbnQsXG4gICAgICAgICAgICAgICAgYXR0ZW1wdHM6IDAsXG4gICAgICAgICAgICAgICAgY2FsbGJhY2s6IGZ1bmN0aW9uIChyZXN1bHQpIHsgcmV0dXJuIHJlc29sdmUocmVzdWx0KTsgfSxcbiAgICAgICAgICAgICAgICB0aW1lb3V0OiAwLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIF90aGlzLnF1ZXVlLnB1c2goY29udGV4dCk7XG4gICAgICAgICAgICBfdGhpcy5zY2hlZHVsZShfdGhpcy5jb25maWcuZmx1c2hJbnRlcnZhbE1pbGxpcyk7XG4gICAgICAgICAgICBfdGhpcy5zYXZlRXZlbnRzKCk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgRGVzdGluYXRpb24ucHJvdG90eXBlLnJlbW92ZUV2ZW50c0V4Y2VlZEZsdXNoTWF4UmV0cmllcyA9IGZ1bmN0aW9uIChsaXN0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIHJldHVybiBsaXN0LmZpbHRlcihmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgICAgICAgY29udGV4dC5hdHRlbXB0cyArPSAxO1xuICAgICAgICAgICAgaWYgKGNvbnRleHQuYXR0ZW1wdHMgPCBfdGhpcy5jb25maWcuZmx1c2hNYXhSZXRyaWVzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2b2lkIF90aGlzLmZ1bGZpbGxSZXF1ZXN0KFtjb250ZXh0XSwgNTAwLCBNQVhfUkVUUklFU19FWENFRURFRF9NRVNTQUdFKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBEZXN0aW5hdGlvbi5wcm90b3R5cGUuc2NoZWR1bGVFdmVudHMgPSBmdW5jdGlvbiAobGlzdCkge1xuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICBsaXN0LmZvckVhY2goZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgICAgICAgIF90aGlzLnNjaGVkdWxlKGNvbnRleHQudGltZW91dCA9PT0gMCA/IF90aGlzLmNvbmZpZy5mbHVzaEludGVydmFsTWlsbGlzIDogY29udGV4dC50aW1lb3V0KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvLyBTY2hlZHVsZSBhIGZsdXNoIGluIHRpbWVvdXQgd2hlblxuICAgIC8vIDEuIE5vIHNjaGVkdWxlXG4gICAgLy8gMi4gVGltZW91dCBncmVhdGVyIHRoYW4gZXhpc3RpbmcgdGltZW91dC5cbiAgICAvLyBUaGlzIG1ha2VzIHN1cmUgdGhhdCB3aGVuIHRocm90dGxlZCwgbm8gZmx1c2ggd2hlbiB0aHJvdHRsZSB0aW1lb3V0IGV4cGlyZXMuXG4gICAgRGVzdGluYXRpb24ucHJvdG90eXBlLnNjaGVkdWxlID0gZnVuY3Rpb24gKHRpbWVvdXQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgaWYgKHRoaXMuY29uZmlnLm9mZmxpbmUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5zY2hlZHVsZUlkID09PSBudWxsIHx8ICh0aGlzLnNjaGVkdWxlSWQgJiYgdGltZW91dCA+IHRoaXMuc2NoZWR1bGVkVGltZW91dCkpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnNjaGVkdWxlSWQpIHtcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5zY2hlZHVsZUlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVkVGltZW91dCA9IHRpbWVvdXQ7XG4gICAgICAgICAgICB0aGlzLnNjaGVkdWxlSWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5xdWV1ZSA9IF90aGlzLnF1ZXVlLm1hcChmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgICAgICAgICAgICAgICBjb250ZXh0LnRpbWVvdXQgPSAwO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29udGV4dDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB2b2lkIF90aGlzLmZsdXNoKHRydWUpO1xuICAgICAgICAgICAgfSwgdGltZW91dCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8vIE1hcmsgY3VycmVudCBzY2hlZHVsZSBpcyBmbHVzaGVkLlxuICAgIERlc3RpbmF0aW9uLnByb3RvdHlwZS5yZXNldFNjaGVkdWxlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLnNjaGVkdWxlSWQgPSBudWxsO1xuICAgICAgICB0aGlzLnNjaGVkdWxlZFRpbWVvdXQgPSAwO1xuICAgIH07XG4gICAgLy8gRmx1c2ggYWxsIGV2ZW50cyByZWdhcmRsZXNzIG9mIHRoZWlyIHRpbWVvdXRcbiAgICBEZXN0aW5hdGlvbi5wcm90b3R5cGUuZmx1c2ggPSBmdW5jdGlvbiAodXNlUmV0cnkpIHtcbiAgICAgICAgaWYgKHVzZVJldHJ5ID09PSB2b2lkIDApIHsgdXNlUmV0cnkgPSBmYWxzZTsgfVxuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgbGlzdCwgbGF0ZXIsIGJhdGNoZXM7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2tpcCBmbHVzaCBpZiBvZmZsaW5lXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jb25maWcub2ZmbGluZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVzZXRTY2hlZHVsZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29uZmlnLmxvZ2dlclByb3ZpZGVyLmRlYnVnKCdTa2lwcGluZyBmbHVzaCB3aGlsZSBvZmZsaW5lLicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmZsdXNoSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc2V0U2NoZWR1bGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZy5sb2dnZXJQcm92aWRlci5kZWJ1ZygnU2tpcHBpbmcgZmx1c2ggYmVjYXVzZSBwcmV2aW91cyBmbHVzaCBoYXMgbm90IHJlc29sdmVkLicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmx1c2hJZCA9IHRoaXMuc2NoZWR1bGVJZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVzZXRTY2hlZHVsZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGlzdCA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGF0ZXIgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucXVldWUuZm9yRWFjaChmdW5jdGlvbiAoY29udGV4dCkgeyByZXR1cm4gKGNvbnRleHQudGltZW91dCA9PT0gMCA/IGxpc3QucHVzaChjb250ZXh0KSA6IGxhdGVyLnB1c2goY29udGV4dCkpOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhdGNoZXMgPSBjaHVuayhsaXN0LCB0aGlzLmNvbmZpZy5mbHVzaFF1ZXVlU2l6ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBQcm9taXNlLmFsbCgpIGRvZXNuJ3QgZ3VhcmFudGVlIHJlc29sdmUgb3JkZXIuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTZXF1ZW50aWFsbHkgcmVzb2x2ZSB0byBtYWtlIHN1cmUgYmFja2VuZCByZWNlaXZlcyBldmVudHMgaW4gb3JkZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGJhdGNoZXMucmVkdWNlKGZ1bmN0aW9uIChwcm9taXNlLCBiYXRjaCkgeyByZXR1cm4gX19hd2FpdGVyKF90aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOiByZXR1cm4gWzQgLyp5aWVsZCovLCBwcm9taXNlXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5zZW5kKGJhdGNoLCB1c2VSZXRyeSldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjogcmV0dXJuIFsyIC8qcmV0dXJuKi8sIF9hLnNlbnQoKV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOyB9LCBQcm9taXNlLnJlc29sdmUoKSldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBQcm9taXNlLmFsbCgpIGRvZXNuJ3QgZ3VhcmFudGVlIHJlc29sdmUgb3JkZXIuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBTZXF1ZW50aWFsbHkgcmVzb2x2ZSB0byBtYWtlIHN1cmUgYmFja2VuZCByZWNlaXZlcyBldmVudHMgaW4gb3JkZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1hcmsgY3VycmVudCBmbHVzaCBpcyBkb25lXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZsdXNoSWQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2hlZHVsZUV2ZW50cyh0aGlzLnF1ZXVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBEZXN0aW5hdGlvbi5wcm90b3R5cGUuc2VuZCA9IGZ1bmN0aW9uIChsaXN0LCB1c2VSZXRyeSkge1xuICAgICAgICBpZiAodXNlUmV0cnkgPT09IHZvaWQgMCkgeyB1c2VSZXRyeSA9IHRydWU7IH1cbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHBheWxvYWQsIHNlcnZlclVybCwgcmVzLCBlXzEsIGVycm9yTWVzc2FnZTtcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5jb25maWcuYXBpS2V5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHRoaXMuZnVsZmlsbFJlcXVlc3QobGlzdCwgNDAwLCBNSVNTSU5HX0FQSV9LRVlfTUVTU0FHRSldO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcGF5bG9hZCA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcGlfa2V5OiB0aGlzLmNvbmZpZy5hcGlLZXksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRzOiBsaXN0Lm1hcChmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVudXNlZC12YXJzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfYSA9IGNvbnRleHQuZXZlbnQsIGV4dHJhID0gX2EuZXh0cmEsIGV2ZW50V2l0aG91dEV4dHJhID0gX19yZXN0KF9hLCBbXCJleHRyYVwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBldmVudFdpdGhvdXRFeHRyYTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbl9pZF9sZW5ndGg6IHRoaXMuY29uZmlnLm1pbklkTGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpZW50X3VwbG9hZF90aW1lOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdF9tZXRhZGF0YTogdGhpcy5jb25maWcucmVxdWVzdE1ldGFkYXRhLFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29uZmlnLnJlcXVlc3RNZXRhZGF0YSA9IG5ldyBSZXF1ZXN0TWV0YWRhdGEoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLmxhYmVsID0gMTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2EudHJ5cy5wdXNoKFsxLCAzLCAsIDRdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZlclVybCA9IGNyZWF0ZVNlcnZlckNvbmZpZyh0aGlzLmNvbmZpZy5zZXJ2ZXJVcmwsIHRoaXMuY29uZmlnLnNlcnZlclpvbmUsIHRoaXMuY29uZmlnLnVzZUJhdGNoKS5zZXJ2ZXJVcmw7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0aGlzLmNvbmZpZy50cmFuc3BvcnRQcm92aWRlci5zZW5kKHNlcnZlclVybCwgcGF5bG9hZCldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXMgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mdWxmaWxsUmVxdWVzdChsaXN0LCAwLCBVTkVYUEVDVEVEX0VSUk9SX01FU1NBR0UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdXNlUmV0cnkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoJ2JvZHknIGluIHJlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZ1bGZpbGxSZXF1ZXN0KGxpc3QsIHJlcy5zdGF0dXNDb2RlLCBcIlwiLmNvbmNhdChyZXMuc3RhdHVzLCBcIjogXCIpLmNvbmNhdChnZXRSZXNwb25zZUJvZHlTdHJpbmcocmVzKSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mdWxmaWxsUmVxdWVzdChsaXN0LCByZXMuc3RhdHVzQ29kZSwgcmVzLnN0YXR1cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlUmVzcG9uc2UocmVzLCBsaXN0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDRdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICBlXzEgPSBfYS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2UgPSBnZXRFcnJvck1lc3NhZ2UoZV8xKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY29uZmlnLmxvZ2dlclByb3ZpZGVyLmVycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZVJlc3BvbnNlKHsgc3RhdHVzOiBTdGF0dXMuRmFpbGVkLCBzdGF0dXNDb2RlOiAwIH0sIGxpc3QpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgNF07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDogcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIERlc3RpbmF0aW9uLnByb3RvdHlwZS5oYW5kbGVSZXNwb25zZSA9IGZ1bmN0aW9uIChyZXMsIGxpc3QpIHtcbiAgICAgICAgdmFyIHN0YXR1cyA9IHJlcy5zdGF0dXM7XG4gICAgICAgIHN3aXRjaCAoc3RhdHVzKSB7XG4gICAgICAgICAgICBjYXNlIFN0YXR1cy5TdWNjZXNzOiB7XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVTdWNjZXNzUmVzcG9uc2UocmVzLCBsaXN0KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgU3RhdHVzLkludmFsaWQ6IHtcbiAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUludmFsaWRSZXNwb25zZShyZXMsIGxpc3QpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBTdGF0dXMuUGF5bG9hZFRvb0xhcmdlOiB7XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVQYXlsb2FkVG9vTGFyZ2VSZXNwb25zZShyZXMsIGxpc3QpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBTdGF0dXMuUmF0ZUxpbWl0OiB7XG4gICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVSYXRlTGltaXRSZXNwb25zZShyZXMsIGxpc3QpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgIC8vIGxvZyBpbnRlcm1lZGlhdGUgZXZlbnQgc3RhdHVzIGJlZm9yZSByZXRyeVxuICAgICAgICAgICAgICAgIHRoaXMuY29uZmlnLmxvZ2dlclByb3ZpZGVyLndhcm4oXCJ7Y29kZTogMCwgZXJyb3I6IFxcXCJTdGF0dXMgJ1wiLmNvbmNhdChzdGF0dXMsIFwiJyBwcm92aWRlZCBmb3IgXCIpLmNvbmNhdChsaXN0Lmxlbmd0aCwgXCIgZXZlbnRzXFxcIn1cIikpO1xuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlT3RoZXJSZXNwb25zZShsaXN0KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgRGVzdGluYXRpb24ucHJvdG90eXBlLmhhbmRsZVN1Y2Nlc3NSZXNwb25zZSA9IGZ1bmN0aW9uIChyZXMsIGxpc3QpIHtcbiAgICAgICAgdGhpcy5mdWxmaWxsUmVxdWVzdChsaXN0LCByZXMuc3RhdHVzQ29kZSwgU1VDQ0VTU19NRVNTQUdFKTtcbiAgICB9O1xuICAgIERlc3RpbmF0aW9uLnByb3RvdHlwZS5oYW5kbGVJbnZhbGlkUmVzcG9uc2UgPSBmdW5jdGlvbiAocmVzLCBsaXN0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmIChyZXMuYm9keS5taXNzaW5nRmllbGQgfHwgcmVzLmJvZHkuZXJyb3Iuc3RhcnRzV2l0aChJTlZBTElEX0FQSV9LRVkpKSB7XG4gICAgICAgICAgICB0aGlzLmZ1bGZpbGxSZXF1ZXN0KGxpc3QsIHJlcy5zdGF0dXNDb2RlLCByZXMuYm9keS5lcnJvcik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRyb3BJbmRleCA9IF9fc3ByZWFkQXJyYXkoX19zcHJlYWRBcnJheShfX3NwcmVhZEFycmF5KF9fc3ByZWFkQXJyYXkoW10sIF9fcmVhZChPYmplY3QudmFsdWVzKHJlcy5ib2R5LmV2ZW50c1dpdGhJbnZhbGlkRmllbGRzKSksIGZhbHNlKSwgX19yZWFkKE9iamVjdC52YWx1ZXMocmVzLmJvZHkuZXZlbnRzV2l0aE1pc3NpbmdGaWVsZHMpKSwgZmFsc2UpLCBfX3JlYWQoT2JqZWN0LnZhbHVlcyhyZXMuYm9keS5ldmVudHNXaXRoSW52YWxpZElkTGVuZ3RocykpLCBmYWxzZSksIF9fcmVhZChyZXMuYm9keS5zaWxlbmNlZEV2ZW50cyksIGZhbHNlKS5mbGF0KCk7XG4gICAgICAgIHZhciBkcm9wSW5kZXhTZXQgPSBuZXcgU2V0KGRyb3BJbmRleCk7XG4gICAgICAgIHZhciByZXRyeSA9IGxpc3QuZmlsdGVyKGZ1bmN0aW9uIChjb250ZXh0LCBpbmRleCkge1xuICAgICAgICAgICAgaWYgKGRyb3BJbmRleFNldC5oYXMoaW5kZXgpKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuZnVsZmlsbFJlcXVlc3QoW2NvbnRleHRdLCByZXMuc3RhdHVzQ29kZSwgcmVzLmJvZHkuZXJyb3IpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHJldHJ5Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIC8vIGxvZyBpbnRlcm1lZGlhdGUgZXZlbnQgc3RhdHVzIGJlZm9yZSByZXRyeVxuICAgICAgICAgICAgdGhpcy5jb25maWcubG9nZ2VyUHJvdmlkZXIud2FybihnZXRSZXNwb25zZUJvZHlTdHJpbmcocmVzKSk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRyeWFibGUgPSB0aGlzLnJlbW92ZUV2ZW50c0V4Y2VlZEZsdXNoTWF4UmV0cmllcyhyZXRyeSk7XG4gICAgICAgIHRoaXMuc2NoZWR1bGVFdmVudHModHJ5YWJsZSk7XG4gICAgfTtcbiAgICBEZXN0aW5hdGlvbi5wcm90b3R5cGUuaGFuZGxlUGF5bG9hZFRvb0xhcmdlUmVzcG9uc2UgPSBmdW5jdGlvbiAocmVzLCBsaXN0KSB7XG4gICAgICAgIGlmIChsaXN0Lmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgICAgdGhpcy5mdWxmaWxsUmVxdWVzdChsaXN0LCByZXMuc3RhdHVzQ29kZSwgcmVzLmJvZHkuZXJyb3IpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIGxvZyBpbnRlcm1lZGlhdGUgZXZlbnQgc3RhdHVzIGJlZm9yZSByZXRyeVxuICAgICAgICB0aGlzLmNvbmZpZy5sb2dnZXJQcm92aWRlci53YXJuKGdldFJlc3BvbnNlQm9keVN0cmluZyhyZXMpKTtcbiAgICAgICAgdGhpcy5jb25maWcuZmx1c2hRdWV1ZVNpemUgLz0gMjtcbiAgICAgICAgdmFyIHRyeWFibGUgPSB0aGlzLnJlbW92ZUV2ZW50c0V4Y2VlZEZsdXNoTWF4UmV0cmllcyhsaXN0KTtcbiAgICAgICAgdGhpcy5zY2hlZHVsZUV2ZW50cyh0cnlhYmxlKTtcbiAgICB9O1xuICAgIERlc3RpbmF0aW9uLnByb3RvdHlwZS5oYW5kbGVSYXRlTGltaXRSZXNwb25zZSA9IGZ1bmN0aW9uIChyZXMsIGxpc3QpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGRyb3BVc2VySWRzID0gT2JqZWN0LmtleXMocmVzLmJvZHkuZXhjZWVkZWREYWlseVF1b3RhVXNlcnMpO1xuICAgICAgICB2YXIgZHJvcERldmljZUlkcyA9IE9iamVjdC5rZXlzKHJlcy5ib2R5LmV4Y2VlZGVkRGFpbHlRdW90YURldmljZXMpO1xuICAgICAgICB2YXIgdGhyb3R0bGVkSW5kZXggPSByZXMuYm9keS50aHJvdHRsZWRFdmVudHM7XG4gICAgICAgIHZhciBkcm9wVXNlcklkc1NldCA9IG5ldyBTZXQoZHJvcFVzZXJJZHMpO1xuICAgICAgICB2YXIgZHJvcERldmljZUlkc1NldCA9IG5ldyBTZXQoZHJvcERldmljZUlkcyk7XG4gICAgICAgIHZhciB0aHJvdHRsZWRJbmRleFNldCA9IG5ldyBTZXQodGhyb3R0bGVkSW5kZXgpO1xuICAgICAgICB2YXIgcmV0cnkgPSBsaXN0LmZpbHRlcihmdW5jdGlvbiAoY29udGV4dCwgaW5kZXgpIHtcbiAgICAgICAgICAgIGlmICgoY29udGV4dC5ldmVudC51c2VyX2lkICYmIGRyb3BVc2VySWRzU2V0Lmhhcyhjb250ZXh0LmV2ZW50LnVzZXJfaWQpKSB8fFxuICAgICAgICAgICAgICAgIChjb250ZXh0LmV2ZW50LmRldmljZV9pZCAmJiBkcm9wRGV2aWNlSWRzU2V0Lmhhcyhjb250ZXh0LmV2ZW50LmRldmljZV9pZCkpKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuZnVsZmlsbFJlcXVlc3QoW2NvbnRleHRdLCByZXMuc3RhdHVzQ29kZSwgcmVzLmJvZHkuZXJyb3IpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aHJvdHRsZWRJbmRleFNldC5oYXMoaW5kZXgpKSB7XG4gICAgICAgICAgICAgICAgY29udGV4dC50aW1lb3V0ID0gX3RoaXMudGhyb3R0bGVUaW1lb3V0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAocmV0cnkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgLy8gbG9nIGludGVybWVkaWF0ZSBldmVudCBzdGF0dXMgYmVmb3JlIHJldHJ5XG4gICAgICAgICAgICB0aGlzLmNvbmZpZy5sb2dnZXJQcm92aWRlci53YXJuKGdldFJlc3BvbnNlQm9keVN0cmluZyhyZXMpKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdHJ5YWJsZSA9IHRoaXMucmVtb3ZlRXZlbnRzRXhjZWVkRmx1c2hNYXhSZXRyaWVzKHJldHJ5KTtcbiAgICAgICAgdGhpcy5zY2hlZHVsZUV2ZW50cyh0cnlhYmxlKTtcbiAgICB9O1xuICAgIERlc3RpbmF0aW9uLnByb3RvdHlwZS5oYW5kbGVPdGhlclJlc3BvbnNlID0gZnVuY3Rpb24gKGxpc3QpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgdmFyIGxhdGVyID0gbGlzdC5tYXAoZnVuY3Rpb24gKGNvbnRleHQpIHtcbiAgICAgICAgICAgIGNvbnRleHQudGltZW91dCA9IGNvbnRleHQuYXR0ZW1wdHMgKiBfdGhpcy5yZXRyeVRpbWVvdXQ7XG4gICAgICAgICAgICByZXR1cm4gY29udGV4dDtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciB0cnlhYmxlID0gdGhpcy5yZW1vdmVFdmVudHNFeGNlZWRGbHVzaE1heFJldHJpZXMobGF0ZXIpO1xuICAgICAgICB0aGlzLnNjaGVkdWxlRXZlbnRzKHRyeWFibGUpO1xuICAgIH07XG4gICAgRGVzdGluYXRpb24ucHJvdG90eXBlLmZ1bGZpbGxSZXF1ZXN0ID0gZnVuY3Rpb24gKGxpc3QsIGNvZGUsIG1lc3NhZ2UpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVFdmVudHMobGlzdCk7XG4gICAgICAgIGxpc3QuZm9yRWFjaChmdW5jdGlvbiAoY29udGV4dCkgeyByZXR1cm4gY29udGV4dC5jYWxsYmFjayhidWlsZFJlc3VsdChjb250ZXh0LmV2ZW50LCBjb2RlLCBtZXNzYWdlKSk7IH0pO1xuICAgIH07XG4gICAgLyoqXG4gICAgICogVGhpcyBpcyBjYWxsZWQgb25cbiAgICAgKiAxKSBuZXcgZXZlbnRzIGFyZSBhZGRlZCB0byBxdWV1ZTsgb3JcbiAgICAgKiAyKSByZXNwb25zZSBjb21lcyBiYWNrIGZvciBhIHJlcXVlc3RcbiAgICAgKlxuICAgICAqIFVwZGF0ZSB0aGUgZXZlbnQgc3RvcmFnZSBiYXNlZCBvbiB0aGUgcXVldWVcbiAgICAgKi9cbiAgICBEZXN0aW5hdGlvbi5wcm90b3R5cGUuc2F2ZUV2ZW50cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNvbmZpZy5zdG9yYWdlUHJvdmlkZXIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdXBkYXRlZEV2ZW50cyA9IHRoaXMucXVldWUubWFwKGZ1bmN0aW9uIChjb250ZXh0KSB7IHJldHVybiBjb250ZXh0LmV2ZW50OyB9KTtcbiAgICAgICAgdm9pZCB0aGlzLmNvbmZpZy5zdG9yYWdlUHJvdmlkZXIuc2V0KHRoaXMuc3RvcmFnZUtleSwgdXBkYXRlZEV2ZW50cyk7XG4gICAgfTtcbiAgICAvKipcbiAgICAgKiBUaGlzIGlzIGNhbGxlZCBvbiByZXNwb25zZSBjb21lcyBiYWNrIGZvciBhIHJlcXVlc3RcbiAgICAgKi9cbiAgICBEZXN0aW5hdGlvbi5wcm90b3R5cGUucmVtb3ZlRXZlbnRzID0gZnVuY3Rpb24gKGV2ZW50c1RvUmVtb3ZlKSB7XG4gICAgICAgIHRoaXMucXVldWUgPSB0aGlzLnF1ZXVlLmZpbHRlcihmdW5jdGlvbiAocXVldWVkQ29udGV4dCkgeyByZXR1cm4gIWV2ZW50c1RvUmVtb3ZlLnNvbWUoZnVuY3Rpb24gKGNvbnRleHQpIHsgcmV0dXJuIGNvbnRleHQuZXZlbnQuaW5zZXJ0X2lkID09PSBxdWV1ZWRDb250ZXh0LmV2ZW50Lmluc2VydF9pZDsgfSk7IH0pO1xuICAgICAgICB0aGlzLnNhdmVFdmVudHMoKTtcbiAgICB9O1xuICAgIHJldHVybiBEZXN0aW5hdGlvbjtcbn0oKSk7XG5leHBvcnQgeyBEZXN0aW5hdGlvbiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVzdGluYXRpb24uanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/plugins/destination.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/plugins/identity.js":
/*!********************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/plugins/identity.js ***!
  \********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   IdentityEventSender: () => (/* binding */ IdentityEventSender)\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tslib */ \"(ssr)/./node_modules/.pnpm/tslib@2.8.1/node_modules/tslib/tslib.es6.mjs\");\n/* harmony import */ var _analytics_connector__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../analytics-connector */ \"(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/analytics-connector.js\");\n\n\nvar IdentityEventSender = /** @class */ (function () {\n    function IdentityEventSender() {\n        this.name = 'identity';\n        this.type = 'before';\n        this.identityStore = (0,_analytics_connector__WEBPACK_IMPORTED_MODULE_0__.getAnalyticsConnector)().identityStore;\n    }\n    IdentityEventSender.prototype.execute = function (context) {\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__awaiter)(this, void 0, void 0, function () {\n            var userProperties;\n            return (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__generator)(this, function (_a) {\n                userProperties = context.user_properties;\n                if (userProperties) {\n                    this.identityStore.editIdentity().updateUserProperties(userProperties).commit();\n                }\n                return [2 /*return*/, context];\n            });\n        });\n    };\n    IdentityEventSender.prototype.setup = function (config) {\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__awaiter)(this, void 0, void 0, function () {\n            return (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__generator)(this, function (_a) {\n                if (config.instanceName) {\n                    this.identityStore = (0,_analytics_connector__WEBPACK_IMPORTED_MODULE_0__.getAnalyticsConnector)(config.instanceName).identityStore;\n                }\n                return [2 /*return*/];\n            });\n        });\n    };\n    return IdentityEventSender;\n}());\n\n//# sourceMappingURL=identity.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGFtcGxpdHVkZSthbmFseXRpY3MtY29yZUAyLjEyLjIvbm9kZV9tb2R1bGVzL0BhbXBsaXR1ZGUvYW5hbHl0aWNzLWNvcmUvbGliL2VzbS9wbHVnaW5zL2lkZW50aXR5LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUErQztBQUNnQjtBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZCQUE2QiwyRUFBcUI7QUFDbEQ7QUFDQTtBQUNBLGVBQWUsZ0RBQVM7QUFDeEI7QUFDQSxtQkFBbUIsa0RBQVc7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBLGVBQWUsZ0RBQVM7QUFDeEIsbUJBQW1CLGtEQUFXO0FBQzlCO0FBQ0EseUNBQXlDLDJFQUFxQjtBQUM5RDtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0EsQ0FBQztBQUM4QjtBQUMvQiIsInNvdXJjZXMiOlsiL2hvbWUvYnJvbnplL2NvZGluZy9mc2FrbS9ub2RlX21vZHVsZXMvLnBucG0vQGFtcGxpdHVkZSthbmFseXRpY3MtY29yZUAyLjEyLjIvbm9kZV9tb2R1bGVzL0BhbXBsaXR1ZGUvYW5hbHl0aWNzLWNvcmUvbGliL2VzbS9wbHVnaW5zL2lkZW50aXR5LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IF9fYXdhaXRlciwgX19nZW5lcmF0b3IgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IGdldEFuYWx5dGljc0Nvbm5lY3RvciB9IGZyb20gJy4uL2FuYWx5dGljcy1jb25uZWN0b3InO1xudmFyIElkZW50aXR5RXZlbnRTZW5kZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSWRlbnRpdHlFdmVudFNlbmRlcigpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gJ2lkZW50aXR5JztcbiAgICAgICAgdGhpcy50eXBlID0gJ2JlZm9yZSc7XG4gICAgICAgIHRoaXMuaWRlbnRpdHlTdG9yZSA9IGdldEFuYWx5dGljc0Nvbm5lY3RvcigpLmlkZW50aXR5U3RvcmU7XG4gICAgfVxuICAgIElkZW50aXR5RXZlbnRTZW5kZXIucHJvdG90eXBlLmV4ZWN1dGUgPSBmdW5jdGlvbiAoY29udGV4dCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgdXNlclByb3BlcnRpZXM7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgdXNlclByb3BlcnRpZXMgPSBjb250ZXh0LnVzZXJfcHJvcGVydGllcztcbiAgICAgICAgICAgICAgICBpZiAodXNlclByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pZGVudGl0eVN0b3JlLmVkaXRJZGVudGl0eSgpLnVwZGF0ZVVzZXJQcm9wZXJ0aWVzKHVzZXJQcm9wZXJ0aWVzKS5jb21taXQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIGNvbnRleHRdO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgSWRlbnRpdHlFdmVudFNlbmRlci5wcm90b3R5cGUuc2V0dXAgPSBmdW5jdGlvbiAoY29uZmlnKSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICBpZiAoY29uZmlnLmluc3RhbmNlTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmlkZW50aXR5U3RvcmUgPSBnZXRBbmFseXRpY3NDb25uZWN0b3IoY29uZmlnLmluc3RhbmNlTmFtZSkuaWRlbnRpdHlTdG9yZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIElkZW50aXR5RXZlbnRTZW5kZXI7XG59KCkpO1xuZXhwb3J0IHsgSWRlbnRpdHlFdmVudFNlbmRlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aWRlbnRpdHkuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/plugins/identity.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/query-params.js":
/*!****************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/query-params.js ***!
  \****************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getQueryParams: () => (/* binding */ getQueryParams),\n/* harmony export */   tryDecodeURIComponent: () => (/* binding */ tryDecodeURIComponent)\n/* harmony export */ });\n/* harmony import */ var _global_scope__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./global-scope */ \"(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/global-scope.js\");\n\nvar getQueryParams = function () {\n    var _a;\n    var globalScope = (0,_global_scope__WEBPACK_IMPORTED_MODULE_0__.getGlobalScope)();\n    /* istanbul ignore if */\n    if (!((_a = globalScope === null || globalScope === void 0 ? void 0 : globalScope.location) === null || _a === void 0 ? void 0 : _a.search)) {\n        return {};\n    }\n    var pairs = globalScope.location.search.substring(1).split('&').filter(Boolean);\n    var params = pairs.reduce(function (acc, curr) {\n        var query = curr.split('=', 2);\n        var key = tryDecodeURIComponent(query[0]);\n        var value = tryDecodeURIComponent(query[1]);\n        if (!value) {\n            return acc;\n        }\n        acc[key] = value;\n        return acc;\n    }, {});\n    return params;\n};\nvar tryDecodeURIComponent = function (value) {\n    if (value === void 0) { value = ''; }\n    try {\n        return decodeURIComponent(value);\n    }\n    catch (_a) {\n        return '';\n    }\n};\n//# sourceMappingURL=query-params.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGFtcGxpdHVkZSthbmFseXRpY3MtY29yZUAyLjEyLjIvbm9kZV9tb2R1bGVzL0BhbXBsaXR1ZGUvYW5hbHl0aWNzLWNvcmUvbGliL2VzbS9xdWVyeS1wYXJhbXMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQWdEO0FBQ3pDO0FBQ1A7QUFDQSxzQkFBc0IsNkRBQWM7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUssSUFBSTtBQUNUO0FBQ0E7QUFDTztBQUNQLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvaG9tZS9icm9uemUvY29kaW5nL2ZzYWttL25vZGVfbW9kdWxlcy8ucG5wbS9AYW1wbGl0dWRlK2FuYWx5dGljcy1jb3JlQDIuMTIuMi9ub2RlX21vZHVsZXMvQGFtcGxpdHVkZS9hbmFseXRpY3MtY29yZS9saWIvZXNtL3F1ZXJ5LXBhcmFtcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBnZXRHbG9iYWxTY29wZSB9IGZyb20gJy4vZ2xvYmFsLXNjb3BlJztcbmV4cG9ydCB2YXIgZ2V0UXVlcnlQYXJhbXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIF9hO1xuICAgIHZhciBnbG9iYWxTY29wZSA9IGdldEdsb2JhbFNjb3BlKCk7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKCEoKF9hID0gZ2xvYmFsU2NvcGUgPT09IG51bGwgfHwgZ2xvYmFsU2NvcGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGdsb2JhbFNjb3BlLmxvY2F0aW9uKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2VhcmNoKSkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIHZhciBwYWlycyA9IGdsb2JhbFNjb3BlLmxvY2F0aW9uLnNlYXJjaC5zdWJzdHJpbmcoMSkuc3BsaXQoJyYnKS5maWx0ZXIoQm9vbGVhbik7XG4gICAgdmFyIHBhcmFtcyA9IHBhaXJzLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBjdXJyKSB7XG4gICAgICAgIHZhciBxdWVyeSA9IGN1cnIuc3BsaXQoJz0nLCAyKTtcbiAgICAgICAgdmFyIGtleSA9IHRyeURlY29kZVVSSUNvbXBvbmVudChxdWVyeVswXSk7XG4gICAgICAgIHZhciB2YWx1ZSA9IHRyeURlY29kZVVSSUNvbXBvbmVudChxdWVyeVsxXSk7XG4gICAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIH1cbiAgICAgICAgYWNjW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCB7fSk7XG4gICAgcmV0dXJuIHBhcmFtcztcbn07XG5leHBvcnQgdmFyIHRyeURlY29kZVVSSUNvbXBvbmVudCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PT0gdm9pZCAwKSB7IHZhbHVlID0gJyc7IH1cbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KHZhbHVlKTtcbiAgICB9XG4gICAgY2F0Y2ggKF9hKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cXVlcnktcGFyYW1zLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/query-params.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/revenue.js":
/*!***********************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/revenue.js ***!
  \***********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Revenue: () => (/* binding */ Revenue),\n/* harmony export */   RevenueProperty: () => (/* binding */ RevenueProperty)\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! tslib */ \"(ssr)/./node_modules/.pnpm/tslib@2.8.1/node_modules/tslib/tslib.es6.mjs\");\n/* harmony import */ var _utils_valid_properties__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils/valid-properties */ \"(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/utils/valid-properties.js\");\n\n\nvar Revenue = /** @class */ (function () {\n    function Revenue() {\n        this.productId = '';\n        this.quantity = 1;\n        this.price = 0.0;\n    }\n    Revenue.prototype.setProductId = function (productId) {\n        this.productId = productId;\n        return this;\n    };\n    Revenue.prototype.setQuantity = function (quantity) {\n        if (quantity > 0) {\n            this.quantity = quantity;\n        }\n        return this;\n    };\n    Revenue.prototype.setPrice = function (price) {\n        this.price = price;\n        return this;\n    };\n    Revenue.prototype.setRevenueType = function (revenueType) {\n        this.revenueType = revenueType;\n        return this;\n    };\n    Revenue.prototype.setCurrency = function (currency) {\n        this.currency = currency;\n        return this;\n    };\n    Revenue.prototype.setRevenue = function (revenue) {\n        this.revenue = revenue;\n        return this;\n    };\n    Revenue.prototype.setReceipt = function (receipt) {\n        this.receipt = receipt;\n        return this;\n    };\n    Revenue.prototype.setReceiptSig = function (receiptSig) {\n        this.receiptSig = receiptSig;\n        return this;\n    };\n    Revenue.prototype.setEventProperties = function (properties) {\n        if ((0,_utils_valid_properties__WEBPACK_IMPORTED_MODULE_0__.isValidObject)(properties)) {\n            this.properties = properties;\n        }\n        return this;\n    };\n    Revenue.prototype.getEventProperties = function () {\n        var eventProperties = this.properties ? (0,tslib__WEBPACK_IMPORTED_MODULE_1__.__assign)({}, this.properties) : {};\n        eventProperties[RevenueProperty.REVENUE_PRODUCT_ID] = this.productId;\n        eventProperties[RevenueProperty.REVENUE_QUANTITY] = this.quantity;\n        eventProperties[RevenueProperty.REVENUE_PRICE] = this.price;\n        eventProperties[RevenueProperty.REVENUE_TYPE] = this.revenueType;\n        eventProperties[RevenueProperty.REVENUE_CURRENCY] = this.currency;\n        eventProperties[RevenueProperty.REVENUE] = this.revenue;\n        eventProperties[RevenueProperty.RECEIPT] = this.receipt;\n        eventProperties[RevenueProperty.RECEIPT_SIG] = this.receiptSig;\n        return eventProperties;\n    };\n    return Revenue;\n}());\n\nvar RevenueProperty;\n(function (RevenueProperty) {\n    RevenueProperty[\"REVENUE_PRODUCT_ID\"] = \"$productId\";\n    RevenueProperty[\"REVENUE_QUANTITY\"] = \"$quantity\";\n    RevenueProperty[\"REVENUE_PRICE\"] = \"$price\";\n    RevenueProperty[\"REVENUE_TYPE\"] = \"$revenueType\";\n    RevenueProperty[\"REVENUE_CURRENCY\"] = \"$currency\";\n    RevenueProperty[\"REVENUE\"] = \"$revenue\";\n    RevenueProperty[\"RECEIPT\"] = \"$receipt\";\n    RevenueProperty[\"RECEIPT_SIG\"] = \"$receiptSig\";\n})(RevenueProperty || (RevenueProperty = {}));\n//# sourceMappingURL=revenue.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGFtcGxpdHVkZSthbmFseXRpY3MtY29yZUAyLjEyLjIvbm9kZV9tb2R1bGVzL0BhbXBsaXR1ZGUvYW5hbHl0aWNzLWNvcmUvbGliL2VzbS9yZXZlbnVlLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBaUM7QUFDd0I7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFlBQVksc0VBQWE7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdEQUFnRCwrQ0FBUSxHQUFHO0FBQzNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ2tCO0FBQ1o7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLDBDQUEwQztBQUMzQyIsInNvdXJjZXMiOlsiL2hvbWUvYnJvbnplL2NvZGluZy9mc2FrbS9ub2RlX21vZHVsZXMvLnBucG0vQGFtcGxpdHVkZSthbmFseXRpY3MtY29yZUAyLjEyLjIvbm9kZV9tb2R1bGVzL0BhbXBsaXR1ZGUvYW5hbHl0aWNzLWNvcmUvbGliL2VzbS9yZXZlbnVlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IF9fYXNzaWduIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBpc1ZhbGlkT2JqZWN0IH0gZnJvbSAnLi91dGlscy92YWxpZC1wcm9wZXJ0aWVzJztcbnZhciBSZXZlbnVlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIFJldmVudWUoKSB7XG4gICAgICAgIHRoaXMucHJvZHVjdElkID0gJyc7XG4gICAgICAgIHRoaXMucXVhbnRpdHkgPSAxO1xuICAgICAgICB0aGlzLnByaWNlID0gMC4wO1xuICAgIH1cbiAgICBSZXZlbnVlLnByb3RvdHlwZS5zZXRQcm9kdWN0SWQgPSBmdW5jdGlvbiAocHJvZHVjdElkKSB7XG4gICAgICAgIHRoaXMucHJvZHVjdElkID0gcHJvZHVjdElkO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIFJldmVudWUucHJvdG90eXBlLnNldFF1YW50aXR5ID0gZnVuY3Rpb24gKHF1YW50aXR5KSB7XG4gICAgICAgIGlmIChxdWFudGl0eSA+IDApIHtcbiAgICAgICAgICAgIHRoaXMucXVhbnRpdHkgPSBxdWFudGl0eTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIFJldmVudWUucHJvdG90eXBlLnNldFByaWNlID0gZnVuY3Rpb24gKHByaWNlKSB7XG4gICAgICAgIHRoaXMucHJpY2UgPSBwcmljZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBSZXZlbnVlLnByb3RvdHlwZS5zZXRSZXZlbnVlVHlwZSA9IGZ1bmN0aW9uIChyZXZlbnVlVHlwZSkge1xuICAgICAgICB0aGlzLnJldmVudWVUeXBlID0gcmV2ZW51ZVR5cGU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgUmV2ZW51ZS5wcm90b3R5cGUuc2V0Q3VycmVuY3kgPSBmdW5jdGlvbiAoY3VycmVuY3kpIHtcbiAgICAgICAgdGhpcy5jdXJyZW5jeSA9IGN1cnJlbmN5O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIFJldmVudWUucHJvdG90eXBlLnNldFJldmVudWUgPSBmdW5jdGlvbiAocmV2ZW51ZSkge1xuICAgICAgICB0aGlzLnJldmVudWUgPSByZXZlbnVlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIFJldmVudWUucHJvdG90eXBlLnNldFJlY2VpcHQgPSBmdW5jdGlvbiAocmVjZWlwdCkge1xuICAgICAgICB0aGlzLnJlY2VpcHQgPSByZWNlaXB0O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIFJldmVudWUucHJvdG90eXBlLnNldFJlY2VpcHRTaWcgPSBmdW5jdGlvbiAocmVjZWlwdFNpZykge1xuICAgICAgICB0aGlzLnJlY2VpcHRTaWcgPSByZWNlaXB0U2lnO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIFJldmVudWUucHJvdG90eXBlLnNldEV2ZW50UHJvcGVydGllcyA9IGZ1bmN0aW9uIChwcm9wZXJ0aWVzKSB7XG4gICAgICAgIGlmIChpc1ZhbGlkT2JqZWN0KHByb3BlcnRpZXMpKSB7XG4gICAgICAgICAgICB0aGlzLnByb3BlcnRpZXMgPSBwcm9wZXJ0aWVzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgUmV2ZW51ZS5wcm90b3R5cGUuZ2V0RXZlbnRQcm9wZXJ0aWVzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgZXZlbnRQcm9wZXJ0aWVzID0gdGhpcy5wcm9wZXJ0aWVzID8gX19hc3NpZ24oe30sIHRoaXMucHJvcGVydGllcykgOiB7fTtcbiAgICAgICAgZXZlbnRQcm9wZXJ0aWVzW1JldmVudWVQcm9wZXJ0eS5SRVZFTlVFX1BST0RVQ1RfSURdID0gdGhpcy5wcm9kdWN0SWQ7XG4gICAgICAgIGV2ZW50UHJvcGVydGllc1tSZXZlbnVlUHJvcGVydHkuUkVWRU5VRV9RVUFOVElUWV0gPSB0aGlzLnF1YW50aXR5O1xuICAgICAgICBldmVudFByb3BlcnRpZXNbUmV2ZW51ZVByb3BlcnR5LlJFVkVOVUVfUFJJQ0VdID0gdGhpcy5wcmljZTtcbiAgICAgICAgZXZlbnRQcm9wZXJ0aWVzW1JldmVudWVQcm9wZXJ0eS5SRVZFTlVFX1RZUEVdID0gdGhpcy5yZXZlbnVlVHlwZTtcbiAgICAgICAgZXZlbnRQcm9wZXJ0aWVzW1JldmVudWVQcm9wZXJ0eS5SRVZFTlVFX0NVUlJFTkNZXSA9IHRoaXMuY3VycmVuY3k7XG4gICAgICAgIGV2ZW50UHJvcGVydGllc1tSZXZlbnVlUHJvcGVydHkuUkVWRU5VRV0gPSB0aGlzLnJldmVudWU7XG4gICAgICAgIGV2ZW50UHJvcGVydGllc1tSZXZlbnVlUHJvcGVydHkuUkVDRUlQVF0gPSB0aGlzLnJlY2VpcHQ7XG4gICAgICAgIGV2ZW50UHJvcGVydGllc1tSZXZlbnVlUHJvcGVydHkuUkVDRUlQVF9TSUddID0gdGhpcy5yZWNlaXB0U2lnO1xuICAgICAgICByZXR1cm4gZXZlbnRQcm9wZXJ0aWVzO1xuICAgIH07XG4gICAgcmV0dXJuIFJldmVudWU7XG59KCkpO1xuZXhwb3J0IHsgUmV2ZW51ZSB9O1xuZXhwb3J0IHZhciBSZXZlbnVlUHJvcGVydHk7XG4oZnVuY3Rpb24gKFJldmVudWVQcm9wZXJ0eSkge1xuICAgIFJldmVudWVQcm9wZXJ0eVtcIlJFVkVOVUVfUFJPRFVDVF9JRFwiXSA9IFwiJHByb2R1Y3RJZFwiO1xuICAgIFJldmVudWVQcm9wZXJ0eVtcIlJFVkVOVUVfUVVBTlRJVFlcIl0gPSBcIiRxdWFudGl0eVwiO1xuICAgIFJldmVudWVQcm9wZXJ0eVtcIlJFVkVOVUVfUFJJQ0VcIl0gPSBcIiRwcmljZVwiO1xuICAgIFJldmVudWVQcm9wZXJ0eVtcIlJFVkVOVUVfVFlQRVwiXSA9IFwiJHJldmVudWVUeXBlXCI7XG4gICAgUmV2ZW51ZVByb3BlcnR5W1wiUkVWRU5VRV9DVVJSRU5DWVwiXSA9IFwiJGN1cnJlbmN5XCI7XG4gICAgUmV2ZW51ZVByb3BlcnR5W1wiUkVWRU5VRVwiXSA9IFwiJHJldmVudWVcIjtcbiAgICBSZXZlbnVlUHJvcGVydHlbXCJSRUNFSVBUXCJdID0gXCIkcmVjZWlwdFwiO1xuICAgIFJldmVudWVQcm9wZXJ0eVtcIlJFQ0VJUFRfU0lHXCJdID0gXCIkcmVjZWlwdFNpZ1wiO1xufSkoUmV2ZW51ZVByb3BlcnR5IHx8IChSZXZlbnVlUHJvcGVydHkgPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmV2ZW51ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/revenue.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/session.js":
/*!***********************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/session.js ***!
  \***********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isNewSession: () => (/* binding */ isNewSession)\n/* harmony export */ });\nvar isNewSession = function (sessionTimeout, lastEventTime) {\n    if (lastEventTime === void 0) { lastEventTime = Date.now(); }\n    var currentTime = Date.now();\n    var timeSinceLastEvent = currentTime - lastEventTime;\n    return timeSinceLastEvent > sessionTimeout;\n};\n//# sourceMappingURL=session.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGFtcGxpdHVkZSthbmFseXRpY3MtY29yZUAyLjEyLjIvbm9kZV9tb2R1bGVzL0BhbXBsaXR1ZGUvYW5hbHl0aWNzLWNvcmUvbGliL2VzbS9zZXNzaW9uLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBTztBQUNQLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvaG9tZS9icm9uemUvY29kaW5nL2ZzYWttL25vZGVfbW9kdWxlcy8ucG5wbS9AYW1wbGl0dWRlK2FuYWx5dGljcy1jb3JlQDIuMTIuMi9ub2RlX21vZHVsZXMvQGFtcGxpdHVkZS9hbmFseXRpY3MtY29yZS9saWIvZXNtL3Nlc3Npb24uanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHZhciBpc05ld1Nlc3Npb24gPSBmdW5jdGlvbiAoc2Vzc2lvblRpbWVvdXQsIGxhc3RFdmVudFRpbWUpIHtcbiAgICBpZiAobGFzdEV2ZW50VGltZSA9PT0gdm9pZCAwKSB7IGxhc3RFdmVudFRpbWUgPSBEYXRlLm5vdygpOyB9XG4gICAgdmFyIGN1cnJlbnRUaW1lID0gRGF0ZS5ub3coKTtcbiAgICB2YXIgdGltZVNpbmNlTGFzdEV2ZW50ID0gY3VycmVudFRpbWUgLSBsYXN0RXZlbnRUaW1lO1xuICAgIHJldHVybiB0aW1lU2luY2VMYXN0RXZlbnQgPiBzZXNzaW9uVGltZW91dDtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXNzaW9uLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/session.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/storage/cookie.js":
/*!******************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/storage/cookie.js ***!
  \******************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CookieStorage: () => (/* binding */ CookieStorage)\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"(ssr)/./node_modules/.pnpm/tslib@2.8.1/node_modules/tslib/tslib.es6.mjs\");\n/* harmony import */ var _global_scope__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../global-scope */ \"(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/global-scope.js\");\n\n\nvar CookieStorage = /** @class */ (function () {\n    function CookieStorage(options) {\n        this.options = (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)({}, options);\n    }\n    CookieStorage.prototype.isEnabled = function () {\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__awaiter)(this, void 0, void 0, function () {\n            var testStorage, testKey, value, _a;\n            return (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__generator)(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        /* istanbul ignore if */\n                        if (!(0,_global_scope__WEBPACK_IMPORTED_MODULE_1__.getGlobalScope)()) {\n                            return [2 /*return*/, false];\n                        }\n                        CookieStorage.testValue = String(Date.now());\n                        testStorage = new CookieStorage(this.options);\n                        testKey = 'AMP_TEST';\n                        _b.label = 1;\n                    case 1:\n                        _b.trys.push([1, 4, 5, 7]);\n                        return [4 /*yield*/, testStorage.set(testKey, CookieStorage.testValue)];\n                    case 2:\n                        _b.sent();\n                        return [4 /*yield*/, testStorage.get(testKey)];\n                    case 3:\n                        value = _b.sent();\n                        return [2 /*return*/, value === CookieStorage.testValue];\n                    case 4:\n                        _a = _b.sent();\n                        /* istanbul ignore next */\n                        return [2 /*return*/, false];\n                    case 5: return [4 /*yield*/, testStorage.remove(testKey)];\n                    case 6:\n                        _b.sent();\n                        return [7 /*endfinally*/];\n                    case 7: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    CookieStorage.prototype.get = function (key) {\n        var _a;\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__awaiter)(this, void 0, void 0, function () {\n            var value, decodedValue;\n            return (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__generator)(this, function (_b) {\n                switch (_b.label) {\n                    case 0: return [4 /*yield*/, this.getRaw(key)];\n                    case 1:\n                        value = _b.sent();\n                        if (!value) {\n                            return [2 /*return*/, undefined];\n                        }\n                        try {\n                            decodedValue = (_a = decodeCookiesAsDefault(value)) !== null && _a !== void 0 ? _a : decodeCookiesWithDoubleUrlEncoding(value);\n                            if (decodedValue === undefined) {\n                                console.error(\"Amplitude Logger [Error]: Failed to decode cookie value for key: \".concat(key, \", value: \").concat(value));\n                                return [2 /*return*/, undefined];\n                            }\n                            // eslint-disable-next-line @typescript-eslint/no-unsafe-return\n                            return [2 /*return*/, JSON.parse(decodedValue)];\n                        }\n                        catch (_c) {\n                            console.error(\"Amplitude Logger [Error]: Failed to parse cookie value for key: \".concat(key, \", value: \").concat(value));\n                            return [2 /*return*/, undefined];\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    CookieStorage.prototype.getRaw = function (key) {\n        var _a, _b;\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__awaiter)(this, void 0, void 0, function () {\n            var globalScope, cookie, match;\n            return (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__generator)(this, function (_c) {\n                globalScope = (0,_global_scope__WEBPACK_IMPORTED_MODULE_1__.getGlobalScope)();\n                cookie = (_b = (_a = globalScope === null || globalScope === void 0 ? void 0 : globalScope.document) === null || _a === void 0 ? void 0 : _a.cookie.split('; ')) !== null && _b !== void 0 ? _b : [];\n                match = cookie.find(function (c) { return c.indexOf(key + '=') === 0; });\n                if (!match) {\n                    return [2 /*return*/, undefined];\n                }\n                return [2 /*return*/, match.substring(key.length + 1)];\n            });\n        });\n    };\n    CookieStorage.prototype.set = function (key, value) {\n        var _a;\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__awaiter)(this, void 0, void 0, function () {\n            var expirationDays, expires, expireDate, date, str, globalScope, errorMessage;\n            return (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__generator)(this, function (_b) {\n                try {\n                    expirationDays = (_a = this.options.expirationDays) !== null && _a !== void 0 ? _a : 0;\n                    expires = value !== null ? expirationDays : -1;\n                    expireDate = undefined;\n                    if (expires) {\n                        date = new Date();\n                        date.setTime(date.getTime() + expires * 24 * 60 * 60 * 1000);\n                        expireDate = date;\n                    }\n                    str = \"\".concat(key, \"=\").concat(btoa(encodeURIComponent(JSON.stringify(value))));\n                    if (expireDate) {\n                        str += \"; expires=\".concat(expireDate.toUTCString());\n                    }\n                    str += '; path=/';\n                    if (this.options.domain) {\n                        str += \"; domain=\".concat(this.options.domain);\n                    }\n                    if (this.options.secure) {\n                        str += '; Secure';\n                    }\n                    if (this.options.sameSite) {\n                        str += \"; SameSite=\".concat(this.options.sameSite);\n                    }\n                    globalScope = (0,_global_scope__WEBPACK_IMPORTED_MODULE_1__.getGlobalScope)();\n                    if (globalScope) {\n                        globalScope.document.cookie = str;\n                    }\n                }\n                catch (error) {\n                    errorMessage = error instanceof Error ? error.message : String(error);\n                    console.error(\"Amplitude Logger [Error]: Failed to set cookie for key: \".concat(key, \". Error: \").concat(errorMessage));\n                }\n                return [2 /*return*/];\n            });\n        });\n    };\n    CookieStorage.prototype.remove = function (key) {\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__awaiter)(this, void 0, void 0, function () {\n            return (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__generator)(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.set(key, null)];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    CookieStorage.prototype.reset = function () {\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__awaiter)(this, void 0, void 0, function () {\n            return (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__generator)(this, function (_a) {\n                return [2 /*return*/];\n            });\n        });\n    };\n    return CookieStorage;\n}());\n\nvar decodeCookiesAsDefault = function (value) {\n    try {\n        return decodeURIComponent(atob(value));\n    }\n    catch (_a) {\n        return undefined;\n    }\n};\nvar decodeCookiesWithDoubleUrlEncoding = function (value) {\n    // Modern Ruby (v7+) automatically encodes cookies with URL encoding by\n    // https://api.rubyonrails.org/classes/ActionDispatch/Cookies.html\n    try {\n        return decodeURIComponent(atob(decodeURIComponent(value)));\n    }\n    catch (_a) {\n        return undefined;\n    }\n};\n//# sourceMappingURL=cookie.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGFtcGxpdHVkZSthbmFseXRpY3MtY29yZUAyLjEyLjIvbm9kZV9tb2R1bGVzL0BhbXBsaXR1ZGUvYW5hbHl0aWNzLWNvcmUvbGliL2VzbS9zdG9yYWdlL2Nvb2tpZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBeUQ7QUFDUjtBQUNqRDtBQUNBO0FBQ0EsdUJBQXVCLCtDQUFRLEdBQUc7QUFDbEM7QUFDQTtBQUNBLGVBQWUsZ0RBQVM7QUFDeEI7QUFDQSxtQkFBbUIsa0RBQVc7QUFDOUI7QUFDQTtBQUNBO0FBQ0EsNkJBQTZCLDZEQUFjO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxlQUFlLGdEQUFTO0FBQ3hCO0FBQ0EsbUJBQW1CLGtEQUFXO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxlQUFlLGdEQUFTO0FBQ3hCO0FBQ0EsbUJBQW1CLGtEQUFXO0FBQzlCLDhCQUE4Qiw2REFBYztBQUM1Qyw2S0FBNks7QUFDN0ssbURBQW1ELG9DQUFvQztBQUN2RjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsZUFBZSxnREFBUztBQUN4QjtBQUNBLG1CQUFtQixrREFBVztBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0EsOEJBQThCO0FBQzlCO0FBQ0Esa0NBQWtDO0FBQ2xDO0FBQ0E7QUFDQSxrQ0FBa0M7QUFDbEM7QUFDQTtBQUNBLGtDQUFrQztBQUNsQztBQUNBLGtDQUFrQyw2REFBYztBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQSxlQUFlLGdEQUFTO0FBQ3hCLG1CQUFtQixrREFBVztBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQSxlQUFlLGdEQUFTO0FBQ3hCLG1CQUFtQixrREFBVztBQUM5QjtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBLENBQUM7QUFDd0I7QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9ob21lL2Jyb256ZS9jb2RpbmcvZnNha20vbm9kZV9tb2R1bGVzLy5wbnBtL0BhbXBsaXR1ZGUrYW5hbHl0aWNzLWNvcmVAMi4xMi4yL25vZGVfbW9kdWxlcy9AYW1wbGl0dWRlL2FuYWx5dGljcy1jb3JlL2xpYi9lc20vc3RvcmFnZS9jb29raWUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgX19hc3NpZ24sIF9fYXdhaXRlciwgX19nZW5lcmF0b3IgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IGdldEdsb2JhbFNjb3BlIH0gZnJvbSAnLi4vZ2xvYmFsLXNjb3BlJztcbnZhciBDb29raWVTdG9yYWdlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENvb2tpZVN0b3JhZ2Uob3B0aW9ucykge1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBfX2Fzc2lnbih7fSwgb3B0aW9ucyk7XG4gICAgfVxuICAgIENvb2tpZVN0b3JhZ2UucHJvdG90eXBlLmlzRW5hYmxlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIHRlc3RTdG9yYWdlLCB0ZXN0S2V5LCB2YWx1ZSwgX2E7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9iKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYi5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZ2V0R2xvYmFsU2NvcGUoKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCBmYWxzZV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBDb29raWVTdG9yYWdlLnRlc3RWYWx1ZSA9IFN0cmluZyhEYXRlLm5vdygpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlc3RTdG9yYWdlID0gbmV3IENvb2tpZVN0b3JhZ2UodGhpcy5vcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlc3RLZXkgPSAnQU1QX1RFU1QnO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSAxO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYi50cnlzLnB1c2goWzEsIDQsIDUsIDddKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHRlc3RTdG9yYWdlLnNldCh0ZXN0S2V5LCBDb29raWVTdG9yYWdlLnRlc3RWYWx1ZSldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYi5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCB0ZXN0U3RvcmFnZS5nZXQodGVzdEtleSldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB2YWx1ZSA9PT0gQ29va2llU3RvcmFnZS50ZXN0VmFsdWVdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBfYSA9IF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgZmFsc2VdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDU6IHJldHVybiBbNCAvKnlpZWxkKi8sIHRlc3RTdG9yYWdlLnJlbW92ZSh0ZXN0S2V5KV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNyAvKmVuZGZpbmFsbHkqL107XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNzogcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIENvb2tpZVN0b3JhZ2UucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgdmFsdWUsIGRlY29kZWRWYWx1ZTtcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2IpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9iLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5nZXRSYXcoa2V5KV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gX2Iuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB1bmRlZmluZWRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWNvZGVkVmFsdWUgPSAoX2EgPSBkZWNvZGVDb29raWVzQXNEZWZhdWx0KHZhbHVlKSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogZGVjb2RlQ29va2llc1dpdGhEb3VibGVVcmxFbmNvZGluZyh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRlY29kZWRWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJBbXBsaXR1ZGUgTG9nZ2VyIFtFcnJvcl06IEZhaWxlZCB0byBkZWNvZGUgY29va2llIHZhbHVlIGZvciBrZXk6IFwiLmNvbmNhdChrZXksIFwiLCB2YWx1ZTogXCIpLmNvbmNhdCh2YWx1ZSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgdW5kZWZpbmVkXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtcmV0dXJuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIEpTT04ucGFyc2UoZGVjb2RlZFZhbHVlKV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoX2MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiQW1wbGl0dWRlIExvZ2dlciBbRXJyb3JdOiBGYWlsZWQgdG8gcGFyc2UgY29va2llIHZhbHVlIGZvciBrZXk6IFwiLmNvbmNhdChrZXksIFwiLCB2YWx1ZTogXCIpLmNvbmNhdCh2YWx1ZSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB1bmRlZmluZWRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIENvb2tpZVN0b3JhZ2UucHJvdG90eXBlLmdldFJhdyA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGdsb2JhbFNjb3BlLCBjb29raWUsIG1hdGNoO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYykge1xuICAgICAgICAgICAgICAgIGdsb2JhbFNjb3BlID0gZ2V0R2xvYmFsU2NvcGUoKTtcbiAgICAgICAgICAgICAgICBjb29raWUgPSAoX2IgPSAoX2EgPSBnbG9iYWxTY29wZSA9PT0gbnVsbCB8fCBnbG9iYWxTY29wZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZ2xvYmFsU2NvcGUuZG9jdW1lbnQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jb29raWUuc3BsaXQoJzsgJykpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IFtdO1xuICAgICAgICAgICAgICAgIG1hdGNoID0gY29va2llLmZpbmQoZnVuY3Rpb24gKGMpIHsgcmV0dXJuIGMuaW5kZXhPZihrZXkgKyAnPScpID09PSAwOyB9KTtcbiAgICAgICAgICAgICAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB1bmRlZmluZWRdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgbWF0Y2guc3Vic3RyaW5nKGtleS5sZW5ndGggKyAxKV07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBDb29raWVTdG9yYWdlLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBleHBpcmF0aW9uRGF5cywgZXhwaXJlcywgZXhwaXJlRGF0ZSwgZGF0ZSwgc3RyLCBnbG9iYWxTY29wZSwgZXJyb3JNZXNzYWdlO1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYikge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGV4cGlyYXRpb25EYXlzID0gKF9hID0gdGhpcy5vcHRpb25zLmV4cGlyYXRpb25EYXlzKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAwO1xuICAgICAgICAgICAgICAgICAgICBleHBpcmVzID0gdmFsdWUgIT09IG51bGwgPyBleHBpcmF0aW9uRGF5cyA6IC0xO1xuICAgICAgICAgICAgICAgICAgICBleHBpcmVEYXRlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXhwaXJlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRlLnNldFRpbWUoZGF0ZS5nZXRUaW1lKCkgKyBleHBpcmVzICogMjQgKiA2MCAqIDYwICogMTAwMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBleHBpcmVEYXRlID0gZGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzdHIgPSBcIlwiLmNvbmNhdChrZXksIFwiPVwiKS5jb25jYXQoYnRvYShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkodmFsdWUpKSkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXhwaXJlRGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RyICs9IFwiOyBleHBpcmVzPVwiLmNvbmNhdChleHBpcmVEYXRlLnRvVVRDU3RyaW5nKCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHN0ciArPSAnOyBwYXRoPS8nO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmRvbWFpbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RyICs9IFwiOyBkb21haW49XCIuY29uY2F0KHRoaXMub3B0aW9ucy5kb21haW4pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2VjdXJlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHIgKz0gJzsgU2VjdXJlJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNhbWVTaXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHIgKz0gXCI7IFNhbWVTaXRlPVwiLmNvbmNhdCh0aGlzLm9wdGlvbnMuc2FtZVNpdGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGdsb2JhbFNjb3BlID0gZ2V0R2xvYmFsU2NvcGUoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGdsb2JhbFNjb3BlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBnbG9iYWxTY29wZS5kb2N1bWVudC5jb29raWUgPSBzdHI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZSA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkFtcGxpdHVkZSBMb2dnZXIgW0Vycm9yXTogRmFpbGVkIHRvIHNldCBjb29raWUgZm9yIGtleTogXCIuY29uY2F0KGtleSwgXCIuIEVycm9yOiBcIikuY29uY2F0KGVycm9yTWVzc2FnZSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBDb29raWVTdG9yYWdlLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0IC8qeWllbGQqLywgdGhpcy5zZXQoa2V5LCBudWxsKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBDb29raWVTdG9yYWdlLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiBDb29raWVTdG9yYWdlO1xufSgpKTtcbmV4cG9ydCB7IENvb2tpZVN0b3JhZ2UgfTtcbnZhciBkZWNvZGVDb29raWVzQXNEZWZhdWx0ID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChhdG9iKHZhbHVlKSk7XG4gICAgfVxuICAgIGNhdGNoIChfYSkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbn07XG52YXIgZGVjb2RlQ29va2llc1dpdGhEb3VibGVVcmxFbmNvZGluZyA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIC8vIE1vZGVybiBSdWJ5ICh2NyspIGF1dG9tYXRpY2FsbHkgZW5jb2RlcyBjb29raWVzIHdpdGggVVJMIGVuY29kaW5nIGJ5XG4gICAgLy8gaHR0cHM6Ly9hcGkucnVieW9ucmFpbHMub3JnL2NsYXNzZXMvQWN0aW9uRGlzcGF0Y2gvQ29va2llcy5odG1sXG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChhdG9iKGRlY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkpKTtcbiAgICB9XG4gICAgY2F0Y2ggKF9hKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvb2tpZS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/storage/cookie.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/storage/helpers.js":
/*!*******************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/storage/helpers.js ***!
  \*******************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getStorageKey: () => (/* binding */ getStorageKey)\n/* harmony export */ });\n/* harmony import */ var _types_constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../types/constants */ \"(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/types/constants.js\");\n\nvar getStorageKey = function (apiKey, postKey, limit) {\n    if (postKey === void 0) { postKey = ''; }\n    if (limit === void 0) { limit = 10; }\n    return [_types_constants__WEBPACK_IMPORTED_MODULE_0__.AMPLITUDE_PREFIX, postKey, apiKey.substring(0, limit)].filter(Boolean).join('_');\n};\n//# sourceMappingURL=helpers.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGFtcGxpdHVkZSthbmFseXRpY3MtY29yZUAyLjEyLjIvbm9kZV9tb2R1bGVzL0BhbXBsaXR1ZGUvYW5hbHl0aWNzLWNvcmUvbGliL2VzbS9zdG9yYWdlL2hlbHBlcnMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBc0Q7QUFDL0M7QUFDUCw4QkFBOEI7QUFDOUIsNEJBQTRCO0FBQzVCLFlBQVksOERBQWdCO0FBQzVCO0FBQ0EiLCJzb3VyY2VzIjpbIi9ob21lL2Jyb256ZS9jb2RpbmcvZnNha20vbm9kZV9tb2R1bGVzLy5wbnBtL0BhbXBsaXR1ZGUrYW5hbHl0aWNzLWNvcmVAMi4xMi4yL25vZGVfbW9kdWxlcy9AYW1wbGl0dWRlL2FuYWx5dGljcy1jb3JlL2xpYi9lc20vc3RvcmFnZS9oZWxwZXJzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFNUExJVFVERV9QUkVGSVggfSBmcm9tICcuLi90eXBlcy9jb25zdGFudHMnO1xuZXhwb3J0IHZhciBnZXRTdG9yYWdlS2V5ID0gZnVuY3Rpb24gKGFwaUtleSwgcG9zdEtleSwgbGltaXQpIHtcbiAgICBpZiAocG9zdEtleSA9PT0gdm9pZCAwKSB7IHBvc3RLZXkgPSAnJzsgfVxuICAgIGlmIChsaW1pdCA9PT0gdm9pZCAwKSB7IGxpbWl0ID0gMTA7IH1cbiAgICByZXR1cm4gW0FNUExJVFVERV9QUkVGSVgsIHBvc3RLZXksIGFwaUtleS5zdWJzdHJpbmcoMCwgbGltaXQpXS5maWx0ZXIoQm9vbGVhbikuam9pbignXycpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWhlbHBlcnMuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/storage/helpers.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/storage/memory.js":
/*!******************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/storage/memory.js ***!
  \******************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   MemoryStorage: () => (/* binding */ MemoryStorage)\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"(ssr)/./node_modules/.pnpm/tslib@2.8.1/node_modules/tslib/tslib.es6.mjs\");\n\nvar MemoryStorage = /** @class */ (function () {\n    function MemoryStorage() {\n        this.memoryStorage = new Map();\n    }\n    MemoryStorage.prototype.isEnabled = function () {\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__awaiter)(this, void 0, void 0, function () {\n            return (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__generator)(this, function (_a) {\n                return [2 /*return*/, true];\n            });\n        });\n    };\n    MemoryStorage.prototype.get = function (key) {\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__awaiter)(this, void 0, void 0, function () {\n            return (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__generator)(this, function (_a) {\n                return [2 /*return*/, this.memoryStorage.get(key)];\n            });\n        });\n    };\n    MemoryStorage.prototype.getRaw = function (key) {\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__awaiter)(this, void 0, void 0, function () {\n            var value;\n            return (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__generator)(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.get(key)];\n                    case 1:\n                        value = _a.sent();\n                        return [2 /*return*/, value ? JSON.stringify(value) : undefined];\n                }\n            });\n        });\n    };\n    MemoryStorage.prototype.set = function (key, value) {\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__awaiter)(this, void 0, void 0, function () {\n            return (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__generator)(this, function (_a) {\n                this.memoryStorage.set(key, value);\n                return [2 /*return*/];\n            });\n        });\n    };\n    MemoryStorage.prototype.remove = function (key) {\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__awaiter)(this, void 0, void 0, function () {\n            return (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__generator)(this, function (_a) {\n                this.memoryStorage.delete(key);\n                return [2 /*return*/];\n            });\n        });\n    };\n    MemoryStorage.prototype.reset = function () {\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__awaiter)(this, void 0, void 0, function () {\n            return (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__generator)(this, function (_a) {\n                this.memoryStorage.clear();\n                return [2 /*return*/];\n            });\n        });\n    };\n    return MemoryStorage;\n}());\n\n//# sourceMappingURL=memory.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGFtcGxpdHVkZSthbmFseXRpY3MtY29yZUAyLjEyLjIvbm9kZV9tb2R1bGVzL0BhbXBsaXR1ZGUvYW5hbHl0aWNzLWNvcmUvbGliL2VzbS9zdG9yYWdlL21lbW9yeS5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUErQztBQUMvQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxnREFBUztBQUN4QixtQkFBbUIsa0RBQVc7QUFDOUI7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQSxlQUFlLGdEQUFTO0FBQ3hCLG1CQUFtQixrREFBVztBQUM5QjtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBLGVBQWUsZ0RBQVM7QUFDeEI7QUFDQSxtQkFBbUIsa0RBQVc7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0EsZUFBZSxnREFBUztBQUN4QixtQkFBbUIsa0RBQVc7QUFDOUI7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBLGVBQWUsZ0RBQVM7QUFDeEIsbUJBQW1CLGtEQUFXO0FBQzlCO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQSxlQUFlLGdEQUFTO0FBQ3hCLG1CQUFtQixrREFBVztBQUM5QjtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0EsQ0FBQztBQUN3QjtBQUN6QiIsInNvdXJjZXMiOlsiL2hvbWUvYnJvbnplL2NvZGluZy9mc2FrbS9ub2RlX21vZHVsZXMvLnBucG0vQGFtcGxpdHVkZSthbmFseXRpY3MtY29yZUAyLjEyLjIvbm9kZV9tb2R1bGVzL0BhbXBsaXR1ZGUvYW5hbHl0aWNzLWNvcmUvbGliL2VzbS9zdG9yYWdlL21lbW9yeS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfX2F3YWl0ZXIsIF9fZ2VuZXJhdG9yIH0gZnJvbSBcInRzbGliXCI7XG52YXIgTWVtb3J5U3RvcmFnZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBNZW1vcnlTdG9yYWdlKCkge1xuICAgICAgICB0aGlzLm1lbW9yeVN0b3JhZ2UgPSBuZXcgTWFwKCk7XG4gICAgfVxuICAgIE1lbW9yeVN0b3JhZ2UucHJvdG90eXBlLmlzRW5hYmxlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB0cnVlXTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIE1lbW9yeVN0b3JhZ2UucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB0aGlzLm1lbW9yeVN0b3JhZ2UuZ2V0KGtleSldO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgTWVtb3J5U3RvcmFnZS5wcm90b3R5cGUuZ2V0UmF3ID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgdmFsdWU7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6IHJldHVybiBbNCAvKnlpZWxkKi8sIHRoaXMuZ2V0KGtleSldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovLCB2YWx1ZSA/IEpTT04uc3RyaW5naWZ5KHZhbHVlKSA6IHVuZGVmaW5lZF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgTWVtb3J5U3RvcmFnZS5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgIHRoaXMubWVtb3J5U3RvcmFnZS5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgTWVtb3J5U3RvcmFnZS5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tZW1vcnlTdG9yYWdlLmRlbGV0ZShrZXkpO1xuICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIE1lbW9yeVN0b3JhZ2UucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tZW1vcnlTdG9yYWdlLmNsZWFyKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi9dO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIE1lbW9yeVN0b3JhZ2U7XG59KCkpO1xuZXhwb3J0IHsgTWVtb3J5U3RvcmFnZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWVtb3J5LmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/storage/memory.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/timeline.js":
/*!************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/timeline.js ***!
  \************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Timeline: () => (/* binding */ Timeline)\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"(ssr)/./node_modules/.pnpm/tslib@2.8.1/node_modules/tslib/tslib.es6.mjs\");\n/* harmony import */ var _utils_result_builder__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./utils/result-builder */ \"(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/utils/result-builder.js\");\n/* harmony import */ var _utils_uuid__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./utils/uuid */ \"(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/utils/uuid.js\");\n\n\n\nvar Timeline = /** @class */ (function () {\n    function Timeline(client) {\n        this.client = client;\n        this.queue = [];\n        // Flag to guarantee one schedule apply is running\n        this.applying = false;\n        // Flag indicates whether timeline is ready to process event\n        // Events collected before timeline is ready will stay in the queue to be processed later\n        this.plugins = [];\n    }\n    Timeline.prototype.register = function (plugin, config) {\n        var _a, _b;\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__awaiter)(this, void 0, void 0, function () {\n            return (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__generator)(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        if (this.plugins.some(function (existingPlugin) { return existingPlugin.name === plugin.name; })) {\n                            // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\n                            config.loggerProvider.warn(\"Plugin with name \".concat(plugin.name, \" already exists, skipping registration\"));\n                            return [2 /*return*/];\n                        }\n                        if (plugin.name === undefined) {\n                            plugin.name = (0,_utils_uuid__WEBPACK_IMPORTED_MODULE_1__.UUID)();\n                            config.loggerProvider.warn(\"Plugin name is undefined. \\n      Generating a random UUID for plugin name: \".concat(plugin.name, \". \\n      Set a name for the plugin to prevent it from being added multiple times.\"));\n                        }\n                        plugin.type = (_a = plugin.type) !== null && _a !== void 0 ? _a : 'enrichment';\n                        return [4 /*yield*/, ((_b = plugin.setup) === null || _b === void 0 ? void 0 : _b.call(plugin, config, this.client))];\n                    case 1:\n                        _c.sent();\n                        this.plugins.push(plugin);\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Timeline.prototype.deregister = function (pluginName, config) {\n        var _a;\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__awaiter)(this, void 0, void 0, function () {\n            var index, plugin;\n            return (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__generator)(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        index = this.plugins.findIndex(function (plugin) { return plugin.name === pluginName; });\n                        if (index === -1) {\n                            config.loggerProvider.warn(\"Plugin with name \".concat(pluginName, \" does not exist, skipping deregistration\"));\n                            return [2 /*return*/];\n                        }\n                        plugin = this.plugins[index];\n                        this.plugins.splice(index, 1);\n                        return [4 /*yield*/, ((_a = plugin.teardown) === null || _a === void 0 ? void 0 : _a.call(plugin))];\n                    case 1:\n                        _b.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Timeline.prototype.reset = function (client) {\n        this.applying = false;\n        var plugins = this.plugins;\n        plugins.map(function (plugin) { var _a; return (_a = plugin.teardown) === null || _a === void 0 ? void 0 : _a.call(plugin); });\n        this.plugins = [];\n        this.client = client;\n    };\n    Timeline.prototype.push = function (event) {\n        var _this = this;\n        return new Promise(function (resolve) {\n            _this.queue.push([event, resolve]);\n            _this.scheduleApply(0);\n        });\n    };\n    Timeline.prototype.scheduleApply = function (timeout) {\n        var _this = this;\n        if (this.applying)\n            return;\n        this.applying = true;\n        setTimeout(function () {\n            void _this.apply(_this.queue.shift()).then(function () {\n                _this.applying = false;\n                if (_this.queue.length > 0) {\n                    _this.scheduleApply(0);\n                }\n            });\n        }, timeout);\n    };\n    Timeline.prototype.apply = function (item) {\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__awaiter)(this, void 0, void 0, function () {\n            var _a, event, _b, resolve, before, before_1, before_1_1, plugin, e, e_1_1, enrichment, enrichment_1, enrichment_1_1, plugin, e, e_2_1, destination, executeDestinations;\n            var e_1, _c, e_2, _d;\n            return (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__generator)(this, function (_e) {\n                switch (_e.label) {\n                    case 0:\n                        if (!item) {\n                            return [2 /*return*/];\n                        }\n                        _a = (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__read)(item, 1), event = _a[0];\n                        _b = (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__read)(item, 2), resolve = _b[1];\n                        before = this.plugins.filter(function (plugin) { return plugin.type === 'before'; });\n                        _e.label = 1;\n                    case 1:\n                        _e.trys.push([1, 6, 7, 8]);\n                        before_1 = (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__values)(before), before_1_1 = before_1.next();\n                        _e.label = 2;\n                    case 2:\n                        if (!!before_1_1.done) return [3 /*break*/, 5];\n                        plugin = before_1_1.value;\n                        /* istanbul ignore if */\n                        if (!plugin.execute) {\n                            // do nothing\n                            return [3 /*break*/, 4];\n                        }\n                        return [4 /*yield*/, plugin.execute((0,tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)({}, event))];\n                    case 3:\n                        e = _e.sent();\n                        if (e === null) {\n                            resolve({ event: event, code: 0, message: '' });\n                            return [2 /*return*/];\n                        }\n                        else {\n                            event = e;\n                        }\n                        _e.label = 4;\n                    case 4:\n                        before_1_1 = before_1.next();\n                        return [3 /*break*/, 2];\n                    case 5: return [3 /*break*/, 8];\n                    case 6:\n                        e_1_1 = _e.sent();\n                        e_1 = { error: e_1_1 };\n                        return [3 /*break*/, 8];\n                    case 7:\n                        try {\n                            if (before_1_1 && !before_1_1.done && (_c = before_1.return)) _c.call(before_1);\n                        }\n                        finally { if (e_1) throw e_1.error; }\n                        return [7 /*endfinally*/];\n                    case 8:\n                        enrichment = this.plugins.filter(function (plugin) { return plugin.type === 'enrichment' || plugin.type === undefined; });\n                        _e.label = 9;\n                    case 9:\n                        _e.trys.push([9, 14, 15, 16]);\n                        enrichment_1 = (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__values)(enrichment), enrichment_1_1 = enrichment_1.next();\n                        _e.label = 10;\n                    case 10:\n                        if (!!enrichment_1_1.done) return [3 /*break*/, 13];\n                        plugin = enrichment_1_1.value;\n                        /* istanbul ignore if */\n                        if (!plugin.execute) {\n                            // do nothing\n                            return [3 /*break*/, 12];\n                        }\n                        return [4 /*yield*/, plugin.execute((0,tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)({}, event))];\n                    case 11:\n                        e = _e.sent();\n                        if (e === null) {\n                            resolve({ event: event, code: 0, message: '' });\n                            return [2 /*return*/];\n                        }\n                        else {\n                            event = e;\n                        }\n                        _e.label = 12;\n                    case 12:\n                        enrichment_1_1 = enrichment_1.next();\n                        return [3 /*break*/, 10];\n                    case 13: return [3 /*break*/, 16];\n                    case 14:\n                        e_2_1 = _e.sent();\n                        e_2 = { error: e_2_1 };\n                        return [3 /*break*/, 16];\n                    case 15:\n                        try {\n                            if (enrichment_1_1 && !enrichment_1_1.done && (_d = enrichment_1.return)) _d.call(enrichment_1);\n                        }\n                        finally { if (e_2) throw e_2.error; }\n                        return [7 /*endfinally*/];\n                    case 16:\n                        destination = this.plugins.filter(function (plugin) { return plugin.type === 'destination'; });\n                        executeDestinations = destination.map(function (plugin) {\n                            var eventClone = (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)({}, event);\n                            return plugin.execute(eventClone).catch(function (e) { return (0,_utils_result_builder__WEBPACK_IMPORTED_MODULE_2__.buildResult)(eventClone, 0, String(e)); });\n                        });\n                        void Promise.all(executeDestinations).then(function (_a) {\n                            var _b = (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__read)(_a, 1), result = _b[0];\n                            var resolveResult = result || (0,_utils_result_builder__WEBPACK_IMPORTED_MODULE_2__.buildResult)(event, 100, 'Event not tracked, no destination plugins on the instance');\n                            resolve(resolveResult);\n                        });\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Timeline.prototype.flush = function () {\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__awaiter)(this, void 0, void 0, function () {\n            var queue, destination, executeDestinations;\n            var _this = this;\n            return (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__generator)(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        queue = this.queue;\n                        this.queue = [];\n                        return [4 /*yield*/, Promise.all(queue.map(function (item) { return _this.apply(item); }))];\n                    case 1:\n                        _a.sent();\n                        destination = this.plugins.filter(function (plugin) { return plugin.type === 'destination'; });\n                        executeDestinations = destination.map(function (plugin) {\n                            return plugin.flush && plugin.flush();\n                        });\n                        return [4 /*yield*/, Promise.all(executeDestinations)];\n                    case 2:\n                        _a.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Timeline.prototype.onIdentityChanged = function (identity) {\n        this.plugins.forEach(function (plugin) {\n            var _a;\n            // Intentionally to not await plugin.onIdentityChanged() for non-blocking.\n            // Ignore optional channing next line for test coverage.\n            // If the plugin doesn't implement it, it won't be called.\n            /* istanbul ignore next */\n            void ((_a = plugin.onIdentityChanged) === null || _a === void 0 ? void 0 : _a.call(plugin, identity));\n        });\n    };\n    Timeline.prototype.onSessionIdChanged = function (sessionId) {\n        this.plugins.forEach(function (plugin) {\n            var _a;\n            // Intentionally to not await plugin.onSessionIdChanged() for non-blocking.\n            // Ignore optional channing next line for test coverage.\n            // If the plugin doesn't implement it, it won't be called.\n            /* istanbul ignore next */\n            void ((_a = plugin.onSessionIdChanged) === null || _a === void 0 ? void 0 : _a.call(plugin, sessionId));\n        });\n    };\n    Timeline.prototype.onOptOutChanged = function (optOut) {\n        this.plugins.forEach(function (plugin) {\n            var _a;\n            // Intentionally to not await plugin.onOptOutChanged() for non-blocking.\n            // Ignore optional channing next line for test coverage.\n            // If the plugin doesn't implement it, it won't be called.\n            /* istanbul ignore next */\n            void ((_a = plugin.onOptOutChanged) === null || _a === void 0 ? void 0 : _a.call(plugin, optOut));\n        });\n    };\n    return Timeline;\n}());\n\n//# sourceMappingURL=timeline.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGFtcGxpdHVkZSthbmFseXRpY3MtY29yZUAyLjEyLjIvbm9kZV9tb2R1bGVzL0BhbXBsaXR1ZGUvYW5hbHl0aWNzLWNvcmUvbGliL2VzbS90aW1lbGluZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQTJFO0FBQ3RCO0FBQ2pCO0FBQ3BDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsZ0RBQVM7QUFDeEIsbUJBQW1CLGtEQUFXO0FBQzlCO0FBQ0E7QUFDQSwwRUFBMEUsNkNBQTZDO0FBQ3ZIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQ0FBMEMsaURBQUk7QUFDOUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSxlQUFlLGdEQUFTO0FBQ3hCO0FBQ0EsbUJBQW1CLGtEQUFXO0FBQzlCO0FBQ0E7QUFDQSwyRUFBMkUsb0NBQW9DO0FBQy9HO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0NBQXdDLFFBQVEscUZBQXFGO0FBQ3JJO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0EsZUFBZSxnREFBUztBQUN4QjtBQUNBO0FBQ0EsbUJBQW1CLGtEQUFXO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsNkNBQU07QUFDbkMsNkJBQTZCLDZDQUFNO0FBQ25DLHlFQUF5RSxrQ0FBa0M7QUFDM0c7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DLCtDQUFRO0FBQzNDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDREQUE0RCwrQ0FBUSxHQUFHO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxvQ0FBb0M7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0M7QUFDbEM7QUFDQTtBQUNBLDZFQUE2RSxtRUFBbUU7QUFDaEo7QUFDQTtBQUNBO0FBQ0EsdUNBQXVDLCtDQUFRO0FBQy9DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDREQUE0RCwrQ0FBUSxHQUFHO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBLHNDQUFzQyxvQ0FBb0M7QUFDMUU7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0M7QUFDbEM7QUFDQTtBQUNBLDhFQUE4RSx1Q0FBdUM7QUFDckg7QUFDQSw2Q0FBNkMsK0NBQVEsR0FBRztBQUN4RCxtRkFBbUYsT0FBTyxrRUFBVyw2QkFBNkI7QUFDbEkseUJBQXlCO0FBQ3pCO0FBQ0EscUNBQXFDLDZDQUFNO0FBQzNDLDBEQUEwRCxrRUFBVztBQUNyRTtBQUNBLHlCQUF5QjtBQUN6QjtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0EsZUFBZSxnREFBUztBQUN4QjtBQUNBO0FBQ0EsbUJBQW1CLGtEQUFXO0FBQzlCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EscUZBQXFGLDJCQUEyQjtBQUNoSDtBQUNBO0FBQ0EsOEVBQThFLHVDQUF1QztBQUNySDtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSxDQUFDO0FBQ21CO0FBQ3BCIiwic291cmNlcyI6WyIvaG9tZS9icm9uemUvY29kaW5nL2ZzYWttL25vZGVfbW9kdWxlcy8ucG5wbS9AYW1wbGl0dWRlK2FuYWx5dGljcy1jb3JlQDIuMTIuMi9ub2RlX21vZHVsZXMvQGFtcGxpdHVkZS9hbmFseXRpY3MtY29yZS9saWIvZXNtL3RpbWVsaW5lLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IF9fYXNzaWduLCBfX2F3YWl0ZXIsIF9fZ2VuZXJhdG9yLCBfX3JlYWQsIF9fdmFsdWVzIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBidWlsZFJlc3VsdCB9IGZyb20gJy4vdXRpbHMvcmVzdWx0LWJ1aWxkZXInO1xuaW1wb3J0IHsgVVVJRCB9IGZyb20gJy4vdXRpbHMvdXVpZCc7XG52YXIgVGltZWxpbmUgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gVGltZWxpbmUoY2xpZW50KSB7XG4gICAgICAgIHRoaXMuY2xpZW50ID0gY2xpZW50O1xuICAgICAgICB0aGlzLnF1ZXVlID0gW107XG4gICAgICAgIC8vIEZsYWcgdG8gZ3VhcmFudGVlIG9uZSBzY2hlZHVsZSBhcHBseSBpcyBydW5uaW5nXG4gICAgICAgIHRoaXMuYXBwbHlpbmcgPSBmYWxzZTtcbiAgICAgICAgLy8gRmxhZyBpbmRpY2F0ZXMgd2hldGhlciB0aW1lbGluZSBpcyByZWFkeSB0byBwcm9jZXNzIGV2ZW50XG4gICAgICAgIC8vIEV2ZW50cyBjb2xsZWN0ZWQgYmVmb3JlIHRpbWVsaW5lIGlzIHJlYWR5IHdpbGwgc3RheSBpbiB0aGUgcXVldWUgdG8gYmUgcHJvY2Vzc2VkIGxhdGVyXG4gICAgICAgIHRoaXMucGx1Z2lucyA9IFtdO1xuICAgIH1cbiAgICBUaW1lbGluZS5wcm90b3R5cGUucmVnaXN0ZXIgPSBmdW5jdGlvbiAocGx1Z2luLCBjb25maWcpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYykge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoX2MubGFiZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAwOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGx1Z2lucy5zb21lKGZ1bmN0aW9uIChleGlzdGluZ1BsdWdpbikgeyByZXR1cm4gZXhpc3RpbmdQbHVnaW4ubmFtZSA9PT0gcGx1Z2luLm5hbWU7IH0pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9yZXN0cmljdC10ZW1wbGF0ZS1leHByZXNzaW9uc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZy5sb2dnZXJQcm92aWRlci53YXJuKFwiUGx1Z2luIHdpdGggbmFtZSBcIi5jb25jYXQocGx1Z2luLm5hbWUsIFwiIGFscmVhZHkgZXhpc3RzLCBza2lwcGluZyByZWdpc3RyYXRpb25cIikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwbHVnaW4ubmFtZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGx1Z2luLm5hbWUgPSBVVUlEKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnLmxvZ2dlclByb3ZpZGVyLndhcm4oXCJQbHVnaW4gbmFtZSBpcyB1bmRlZmluZWQuIFxcbiAgICAgIEdlbmVyYXRpbmcgYSByYW5kb20gVVVJRCBmb3IgcGx1Z2luIG5hbWU6IFwiLmNvbmNhdChwbHVnaW4ubmFtZSwgXCIuIFxcbiAgICAgIFNldCBhIG5hbWUgZm9yIHRoZSBwbHVnaW4gdG8gcHJldmVudCBpdCBmcm9tIGJlaW5nIGFkZGVkIG11bHRpcGxlIHRpbWVzLlwiKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBwbHVnaW4udHlwZSA9IChfYSA9IHBsdWdpbi50eXBlKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAnZW5yaWNobWVudCc7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCAoKF9iID0gcGx1Z2luLnNldHVwKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChwbHVnaW4sIGNvbmZpZywgdGhpcy5jbGllbnQpKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9jLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2lucy5wdXNoKHBsdWdpbik7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgVGltZWxpbmUucHJvdG90eXBlLmRlcmVnaXN0ZXIgPSBmdW5jdGlvbiAocGx1Z2luTmFtZSwgY29uZmlnKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIGluZGV4LCBwbHVnaW47XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9iKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYi5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleCA9IHRoaXMucGx1Z2lucy5maW5kSW5kZXgoZnVuY3Rpb24gKHBsdWdpbikgeyByZXR1cm4gcGx1Z2luLm5hbWUgPT09IHBsdWdpbk5hbWU7IH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZy5sb2dnZXJQcm92aWRlci53YXJuKFwiUGx1Z2luIHdpdGggbmFtZSBcIi5jb25jYXQocGx1Z2luTmFtZSwgXCIgZG9lcyBub3QgZXhpc3QsIHNraXBwaW5nIGRlcmVnaXN0cmF0aW9uXCIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBwbHVnaW4gPSB0aGlzLnBsdWdpbnNbaW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW5zLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCAoKF9hID0gcGx1Z2luLnRlYXJkb3duKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChwbHVnaW4pKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9iLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBUaW1lbGluZS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoY2xpZW50KSB7XG4gICAgICAgIHRoaXMuYXBwbHlpbmcgPSBmYWxzZTtcbiAgICAgICAgdmFyIHBsdWdpbnMgPSB0aGlzLnBsdWdpbnM7XG4gICAgICAgIHBsdWdpbnMubWFwKGZ1bmN0aW9uIChwbHVnaW4pIHsgdmFyIF9hOyByZXR1cm4gKF9hID0gcGx1Z2luLnRlYXJkb3duKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChwbHVnaW4pOyB9KTtcbiAgICAgICAgdGhpcy5wbHVnaW5zID0gW107XG4gICAgICAgIHRoaXMuY2xpZW50ID0gY2xpZW50O1xuICAgIH07XG4gICAgVGltZWxpbmUucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgICBfdGhpcy5xdWV1ZS5wdXNoKFtldmVudCwgcmVzb2x2ZV0pO1xuICAgICAgICAgICAgX3RoaXMuc2NoZWR1bGVBcHBseSgwKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBUaW1lbGluZS5wcm90b3R5cGUuc2NoZWR1bGVBcHBseSA9IGZ1bmN0aW9uICh0aW1lb3V0KSB7XG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG4gICAgICAgIGlmICh0aGlzLmFwcGx5aW5nKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB0aGlzLmFwcGx5aW5nID0gdHJ1ZTtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2b2lkIF90aGlzLmFwcGx5KF90aGlzLnF1ZXVlLnNoaWZ0KCkpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLmFwcGx5aW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgaWYgKF90aGlzLnF1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMuc2NoZWR1bGVBcHBseSgwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSwgdGltZW91dCk7XG4gICAgfTtcbiAgICBUaW1lbGluZS5wcm90b3R5cGUuYXBwbHkgPSBmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgX2EsIGV2ZW50LCBfYiwgcmVzb2x2ZSwgYmVmb3JlLCBiZWZvcmVfMSwgYmVmb3JlXzFfMSwgcGx1Z2luLCBlLCBlXzFfMSwgZW5yaWNobWVudCwgZW5yaWNobWVudF8xLCBlbnJpY2htZW50XzFfMSwgcGx1Z2luLCBlLCBlXzJfMSwgZGVzdGluYXRpb24sIGV4ZWN1dGVEZXN0aW5hdGlvbnM7XG4gICAgICAgICAgICB2YXIgZV8xLCBfYywgZV8yLCBfZDtcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2UpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9lLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIF9hID0gX19yZWFkKGl0ZW0sIDEpLCBldmVudCA9IF9hWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgX2IgPSBfX3JlYWQoaXRlbSwgMiksIHJlc29sdmUgPSBfYlsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJlZm9yZSA9IHRoaXMucGx1Z2lucy5maWx0ZXIoZnVuY3Rpb24gKHBsdWdpbikgeyByZXR1cm4gcGx1Z2luLnR5cGUgPT09ICdiZWZvcmUnOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9lLmxhYmVsID0gMTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxOlxuICAgICAgICAgICAgICAgICAgICAgICAgX2UudHJ5cy5wdXNoKFsxLCA2LCA3LCA4XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBiZWZvcmVfMSA9IF9fdmFsdWVzKGJlZm9yZSksIGJlZm9yZV8xXzEgPSBiZWZvcmVfMS5uZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfZS5sYWJlbCA9IDI7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghIWJlZm9yZV8xXzEuZG9uZSkgcmV0dXJuIFszIC8qYnJlYWsqLywgNV07XG4gICAgICAgICAgICAgICAgICAgICAgICBwbHVnaW4gPSBiZWZvcmVfMV8xLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXBsdWdpbi5leGVjdXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZG8gbm90aGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMyAvKmJyZWFrKi8sIDRdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgcGx1Z2luLmV4ZWN1dGUoX19hc3NpZ24oe30sIGV2ZW50KSldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICAgICAgICAgICAgICBlID0gX2Uuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHsgZXZlbnQ6IGV2ZW50LCBjb2RlOiAwLCBtZXNzYWdlOiAnJyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudCA9IGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBfZS5sYWJlbCA9IDQ7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNDpcbiAgICAgICAgICAgICAgICAgICAgICAgIGJlZm9yZV8xXzEgPSBiZWZvcmVfMS5uZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCAyXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA1OiByZXR1cm4gWzMgLypicmVhayovLCA4XTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSA2OlxuICAgICAgICAgICAgICAgICAgICAgICAgZV8xXzEgPSBfZS5zZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlXzEgPSB7IGVycm9yOiBlXzFfMSB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgOF07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgNzpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJlZm9yZV8xXzEgJiYgIWJlZm9yZV8xXzEuZG9uZSAmJiAoX2MgPSBiZWZvcmVfMS5yZXR1cm4pKSBfYy5jYWxsKGJlZm9yZV8xKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNyAvKmVuZGZpbmFsbHkqL107XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgODpcbiAgICAgICAgICAgICAgICAgICAgICAgIGVucmljaG1lbnQgPSB0aGlzLnBsdWdpbnMuZmlsdGVyKGZ1bmN0aW9uIChwbHVnaW4pIHsgcmV0dXJuIHBsdWdpbi50eXBlID09PSAnZW5yaWNobWVudCcgfHwgcGx1Z2luLnR5cGUgPT09IHVuZGVmaW5lZDsgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfZS5sYWJlbCA9IDk7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgOTpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9lLnRyeXMucHVzaChbOSwgMTQsIDE1LCAxNl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgZW5yaWNobWVudF8xID0gX192YWx1ZXMoZW5yaWNobWVudCksIGVucmljaG1lbnRfMV8xID0gZW5yaWNobWVudF8xLm5leHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIF9lLmxhYmVsID0gMTA7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTA6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoISFlbnJpY2htZW50XzFfMS5kb25lKSByZXR1cm4gWzMgLypicmVhayovLCAxM107XG4gICAgICAgICAgICAgICAgICAgICAgICBwbHVnaW4gPSBlbnJpY2htZW50XzFfMS52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFwbHVnaW4uZXhlY3V0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRvIG5vdGhpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCAxMl07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBwbHVnaW4uZXhlY3V0ZShfX2Fzc2lnbih7fSwgZXZlbnQpKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgICAgICAgICAgICAgICBlID0gX2Uuc2VudCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGUgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHsgZXZlbnQ6IGV2ZW50LCBjb2RlOiAwLCBtZXNzYWdlOiAnJyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudCA9IGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBfZS5sYWJlbCA9IDEyO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDEyOlxuICAgICAgICAgICAgICAgICAgICAgICAgZW5yaWNobWVudF8xXzEgPSBlbnJpY2htZW50XzEubmV4dCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFszIC8qYnJlYWsqLywgMTBdO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDEzOiByZXR1cm4gWzMgLypicmVhayovLCAxNl07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBlXzJfMSA9IF9lLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVfMiA9IHsgZXJyb3I6IGVfMl8xIH07XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMgLypicmVhayovLCAxNl07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTU6XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlbnJpY2htZW50XzFfMSAmJiAhZW5yaWNobWVudF8xXzEuZG9uZSAmJiAoX2QgPSBlbnJpY2htZW50XzEucmV0dXJuKSkgX2QuY2FsbChlbnJpY2htZW50XzEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzIpIHRocm93IGVfMi5lcnJvcjsgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs3IC8qZW5kZmluYWxseSovXTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAxNjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uID0gdGhpcy5wbHVnaW5zLmZpbHRlcihmdW5jdGlvbiAocGx1Z2luKSB7IHJldHVybiBwbHVnaW4udHlwZSA9PT0gJ2Rlc3RpbmF0aW9uJzsgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBleGVjdXRlRGVzdGluYXRpb25zID0gZGVzdGluYXRpb24ubWFwKGZ1bmN0aW9uIChwbHVnaW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXZlbnRDbG9uZSA9IF9fYXNzaWduKHt9LCBldmVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBsdWdpbi5leGVjdXRlKGV2ZW50Q2xvbmUpLmNhdGNoKGZ1bmN0aW9uIChlKSB7IHJldHVybiBidWlsZFJlc3VsdChldmVudENsb25lLCAwLCBTdHJpbmcoZSkpOyB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgdm9pZCBQcm9taXNlLmFsbChleGVjdXRlRGVzdGluYXRpb25zKS50aGVuKGZ1bmN0aW9uIChfYSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfYiA9IF9fcmVhZChfYSwgMSksIHJlc3VsdCA9IF9iWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZXNvbHZlUmVzdWx0ID0gcmVzdWx0IHx8IGJ1aWxkUmVzdWx0KGV2ZW50LCAxMDAsICdFdmVudCBub3QgdHJhY2tlZCwgbm8gZGVzdGluYXRpb24gcGx1Z2lucyBvbiB0aGUgaW5zdGFuY2UnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHJlc29sdmVSZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgVGltZWxpbmUucHJvdG90eXBlLmZsdXNoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgcXVldWUsIGRlc3RpbmF0aW9uLCBleGVjdXRlRGVzdGluYXRpb25zO1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIHJldHVybiBfX2dlbmVyYXRvcih0aGlzLCBmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKF9hLmxhYmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXVlID0gdGhpcy5xdWV1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucXVldWUgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIFByb21pc2UuYWxsKHF1ZXVlLm1hcChmdW5jdGlvbiAoaXRlbSkgeyByZXR1cm4gX3RoaXMuYXBwbHkoaXRlbSk7IH0pKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc3RpbmF0aW9uID0gdGhpcy5wbHVnaW5zLmZpbHRlcihmdW5jdGlvbiAocGx1Z2luKSB7IHJldHVybiBwbHVnaW4udHlwZSA9PT0gJ2Rlc3RpbmF0aW9uJzsgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBleGVjdXRlRGVzdGluYXRpb25zID0gZGVzdGluYXRpb24ubWFwKGZ1bmN0aW9uIChwbHVnaW4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGx1Z2luLmZsdXNoICYmIHBsdWdpbi5mbHVzaCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzQgLyp5aWVsZCovLCBQcm9taXNlLmFsbChleGVjdXRlRGVzdGluYXRpb25zKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMiAvKnJldHVybiovXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBUaW1lbGluZS5wcm90b3R5cGUub25JZGVudGl0eUNoYW5nZWQgPSBmdW5jdGlvbiAoaWRlbnRpdHkpIHtcbiAgICAgICAgdGhpcy5wbHVnaW5zLmZvckVhY2goZnVuY3Rpb24gKHBsdWdpbikge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgLy8gSW50ZW50aW9uYWxseSB0byBub3QgYXdhaXQgcGx1Z2luLm9uSWRlbnRpdHlDaGFuZ2VkKCkgZm9yIG5vbi1ibG9ja2luZy5cbiAgICAgICAgICAgIC8vIElnbm9yZSBvcHRpb25hbCBjaGFubmluZyBuZXh0IGxpbmUgZm9yIHRlc3QgY292ZXJhZ2UuXG4gICAgICAgICAgICAvLyBJZiB0aGUgcGx1Z2luIGRvZXNuJ3QgaW1wbGVtZW50IGl0LCBpdCB3b24ndCBiZSBjYWxsZWQuXG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICAgICAgdm9pZCAoKF9hID0gcGx1Z2luLm9uSWRlbnRpdHlDaGFuZ2VkKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuY2FsbChwbHVnaW4sIGlkZW50aXR5KSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgVGltZWxpbmUucHJvdG90eXBlLm9uU2Vzc2lvbklkQ2hhbmdlZCA9IGZ1bmN0aW9uIChzZXNzaW9uSWQpIHtcbiAgICAgICAgdGhpcy5wbHVnaW5zLmZvckVhY2goZnVuY3Rpb24gKHBsdWdpbikge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgLy8gSW50ZW50aW9uYWxseSB0byBub3QgYXdhaXQgcGx1Z2luLm9uU2Vzc2lvbklkQ2hhbmdlZCgpIGZvciBub24tYmxvY2tpbmcuXG4gICAgICAgICAgICAvLyBJZ25vcmUgb3B0aW9uYWwgY2hhbm5pbmcgbmV4dCBsaW5lIGZvciB0ZXN0IGNvdmVyYWdlLlxuICAgICAgICAgICAgLy8gSWYgdGhlIHBsdWdpbiBkb2Vzbid0IGltcGxlbWVudCBpdCwgaXQgd29uJ3QgYmUgY2FsbGVkLlxuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgICAgIHZvaWQgKChfYSA9IHBsdWdpbi5vblNlc3Npb25JZENoYW5nZWQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHBsdWdpbiwgc2Vzc2lvbklkKSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgVGltZWxpbmUucHJvdG90eXBlLm9uT3B0T3V0Q2hhbmdlZCA9IGZ1bmN0aW9uIChvcHRPdXQpIHtcbiAgICAgICAgdGhpcy5wbHVnaW5zLmZvckVhY2goZnVuY3Rpb24gKHBsdWdpbikge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgLy8gSW50ZW50aW9uYWxseSB0byBub3QgYXdhaXQgcGx1Z2luLm9uT3B0T3V0Q2hhbmdlZCgpIGZvciBub24tYmxvY2tpbmcuXG4gICAgICAgICAgICAvLyBJZ25vcmUgb3B0aW9uYWwgY2hhbm5pbmcgbmV4dCBsaW5lIGZvciB0ZXN0IGNvdmVyYWdlLlxuICAgICAgICAgICAgLy8gSWYgdGhlIHBsdWdpbiBkb2Vzbid0IGltcGxlbWVudCBpdCwgaXQgd29uJ3QgYmUgY2FsbGVkLlxuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgICAgIHZvaWQgKChfYSA9IHBsdWdpbi5vbk9wdE91dENoYW5nZWQpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5jYWxsKHBsdWdpbiwgb3B0T3V0KSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIFRpbWVsaW5lO1xufSgpKTtcbmV4cG9ydCB7IFRpbWVsaW5lIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD10aW1lbGluZS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/timeline.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/transports/base.js":
/*!*******************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/transports/base.js ***!
  \*******************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseTransport: () => (/* binding */ BaseTransport)\n/* harmony export */ });\n/* harmony import */ var _types_status__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../types/status */ \"(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/types/status.js\");\n\nvar BaseTransport = /** @class */ (function () {\n    function BaseTransport() {\n    }\n    BaseTransport.prototype.send = function (_serverUrl, _payload) {\n        return Promise.resolve(null);\n    };\n    BaseTransport.prototype.buildResponse = function (responseJSON) {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r, _s, _t, _u, _v, _w, _x;\n        if (typeof responseJSON !== 'object') {\n            return null;\n        }\n        var statusCode = responseJSON.code || 0;\n        var status = this.buildStatus(statusCode);\n        switch (status) {\n            case _types_status__WEBPACK_IMPORTED_MODULE_0__.Status.Success:\n                return {\n                    status: status,\n                    statusCode: statusCode,\n                    body: {\n                        eventsIngested: (_a = responseJSON.events_ingested) !== null && _a !== void 0 ? _a : 0,\n                        payloadSizeBytes: (_b = responseJSON.payload_size_bytes) !== null && _b !== void 0 ? _b : 0,\n                        serverUploadTime: (_c = responseJSON.server_upload_time) !== null && _c !== void 0 ? _c : 0,\n                    },\n                };\n            case _types_status__WEBPACK_IMPORTED_MODULE_0__.Status.Invalid:\n                return {\n                    status: status,\n                    statusCode: statusCode,\n                    body: {\n                        error: (_d = responseJSON.error) !== null && _d !== void 0 ? _d : '',\n                        missingField: (_e = responseJSON.missing_field) !== null && _e !== void 0 ? _e : '',\n                        eventsWithInvalidFields: (_f = responseJSON.events_with_invalid_fields) !== null && _f !== void 0 ? _f : {},\n                        eventsWithMissingFields: (_g = responseJSON.events_with_missing_fields) !== null && _g !== void 0 ? _g : {},\n                        eventsWithInvalidIdLengths: (_h = responseJSON.events_with_invalid_id_lengths) !== null && _h !== void 0 ? _h : {},\n                        epsThreshold: (_j = responseJSON.eps_threshold) !== null && _j !== void 0 ? _j : 0,\n                        exceededDailyQuotaDevices: (_k = responseJSON.exceeded_daily_quota_devices) !== null && _k !== void 0 ? _k : {},\n                        silencedDevices: (_l = responseJSON.silenced_devices) !== null && _l !== void 0 ? _l : [],\n                        silencedEvents: (_m = responseJSON.silenced_events) !== null && _m !== void 0 ? _m : [],\n                        throttledDevices: (_o = responseJSON.throttled_devices) !== null && _o !== void 0 ? _o : {},\n                        throttledEvents: (_p = responseJSON.throttled_events) !== null && _p !== void 0 ? _p : [],\n                    },\n                };\n            case _types_status__WEBPACK_IMPORTED_MODULE_0__.Status.PayloadTooLarge:\n                return {\n                    status: status,\n                    statusCode: statusCode,\n                    body: {\n                        error: (_q = responseJSON.error) !== null && _q !== void 0 ? _q : '',\n                    },\n                };\n            case _types_status__WEBPACK_IMPORTED_MODULE_0__.Status.RateLimit:\n                return {\n                    status: status,\n                    statusCode: statusCode,\n                    body: {\n                        error: (_r = responseJSON.error) !== null && _r !== void 0 ? _r : '',\n                        epsThreshold: (_s = responseJSON.eps_threshold) !== null && _s !== void 0 ? _s : 0,\n                        throttledDevices: (_t = responseJSON.throttled_devices) !== null && _t !== void 0 ? _t : {},\n                        throttledUsers: (_u = responseJSON.throttled_users) !== null && _u !== void 0 ? _u : {},\n                        exceededDailyQuotaDevices: (_v = responseJSON.exceeded_daily_quota_devices) !== null && _v !== void 0 ? _v : {},\n                        exceededDailyQuotaUsers: (_w = responseJSON.exceeded_daily_quota_users) !== null && _w !== void 0 ? _w : {},\n                        throttledEvents: (_x = responseJSON.throttled_events) !== null && _x !== void 0 ? _x : [],\n                    },\n                };\n            case _types_status__WEBPACK_IMPORTED_MODULE_0__.Status.Timeout:\n            default:\n                return {\n                    status: status,\n                    statusCode: statusCode,\n                };\n        }\n    };\n    BaseTransport.prototype.buildStatus = function (code) {\n        if (code >= 200 && code < 300) {\n            return _types_status__WEBPACK_IMPORTED_MODULE_0__.Status.Success;\n        }\n        if (code === 429) {\n            return _types_status__WEBPACK_IMPORTED_MODULE_0__.Status.RateLimit;\n        }\n        if (code === 413) {\n            return _types_status__WEBPACK_IMPORTED_MODULE_0__.Status.PayloadTooLarge;\n        }\n        if (code === 408) {\n            return _types_status__WEBPACK_IMPORTED_MODULE_0__.Status.Timeout;\n        }\n        if (code >= 400 && code < 500) {\n            return _types_status__WEBPACK_IMPORTED_MODULE_0__.Status.Invalid;\n        }\n        if (code >= 500) {\n            return _types_status__WEBPACK_IMPORTED_MODULE_0__.Status.Failed;\n        }\n        return _types_status__WEBPACK_IMPORTED_MODULE_0__.Status.Unknown;\n    };\n    return BaseTransport;\n}());\n\n//# sourceMappingURL=base.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGFtcGxpdHVkZSthbmFseXRpY3MtY29yZUAyLjEyLjIvbm9kZV9tb2R1bGVzL0BhbXBsaXR1ZGUvYW5hbHl0aWNzLWNvcmUvbGliL2VzbS90cmFuc3BvcnRzL2Jhc2UuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBeUM7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQixpREFBTTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLGlCQUFpQixpREFBTTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtSUFBbUk7QUFDbkksbUlBQW1JO0FBQ25JLDBJQUEwSTtBQUMxSTtBQUNBLHVJQUF1STtBQUN2STtBQUNBO0FBQ0EsbUhBQW1IO0FBQ25IO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0EsaUJBQWlCLGlEQUFNO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUI7QUFDckI7QUFDQSxpQkFBaUIsaURBQU07QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUhBQW1IO0FBQ25ILCtHQUErRztBQUMvRyx1SUFBdUk7QUFDdkksbUlBQW1JO0FBQ25JO0FBQ0EscUJBQXFCO0FBQ3JCO0FBQ0EsaUJBQWlCLGlEQUFNO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1CQUFtQixpREFBTTtBQUN6QjtBQUNBO0FBQ0EsbUJBQW1CLGlEQUFNO0FBQ3pCO0FBQ0E7QUFDQSxtQkFBbUIsaURBQU07QUFDekI7QUFDQTtBQUNBLG1CQUFtQixpREFBTTtBQUN6QjtBQUNBO0FBQ0EsbUJBQW1CLGlEQUFNO0FBQ3pCO0FBQ0E7QUFDQSxtQkFBbUIsaURBQU07QUFDekI7QUFDQSxlQUFlLGlEQUFNO0FBQ3JCO0FBQ0E7QUFDQSxDQUFDO0FBQ3dCO0FBQ3pCIiwic291cmNlcyI6WyIvaG9tZS9icm9uemUvY29kaW5nL2ZzYWttL25vZGVfbW9kdWxlcy8ucG5wbS9AYW1wbGl0dWRlK2FuYWx5dGljcy1jb3JlQDIuMTIuMi9ub2RlX21vZHVsZXMvQGFtcGxpdHVkZS9hbmFseXRpY3MtY29yZS9saWIvZXNtL3RyYW5zcG9ydHMvYmFzZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTdGF0dXMgfSBmcm9tICcuLi90eXBlcy9zdGF0dXMnO1xudmFyIEJhc2VUcmFuc3BvcnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gQmFzZVRyYW5zcG9ydCgpIHtcbiAgICB9XG4gICAgQmFzZVRyYW5zcG9ydC5wcm90b3R5cGUuc2VuZCA9IGZ1bmN0aW9uIChfc2VydmVyVXJsLCBfcGF5bG9hZCkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG51bGwpO1xuICAgIH07XG4gICAgQmFzZVRyYW5zcG9ydC5wcm90b3R5cGUuYnVpbGRSZXNwb25zZSA9IGZ1bmN0aW9uIChyZXNwb25zZUpTT04pIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaCwgX2osIF9rLCBfbCwgX20sIF9vLCBfcCwgX3EsIF9yLCBfcywgX3QsIF91LCBfdiwgX3csIF94O1xuICAgICAgICBpZiAodHlwZW9mIHJlc3BvbnNlSlNPTiAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzdGF0dXNDb2RlID0gcmVzcG9uc2VKU09OLmNvZGUgfHwgMDtcbiAgICAgICAgdmFyIHN0YXR1cyA9IHRoaXMuYnVpbGRTdGF0dXMoc3RhdHVzQ29kZSk7XG4gICAgICAgIHN3aXRjaCAoc3RhdHVzKSB7XG4gICAgICAgICAgICBjYXNlIFN0YXR1cy5TdWNjZXNzOlxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogc3RhdHVzLFxuICAgICAgICAgICAgICAgICAgICBzdGF0dXNDb2RlOiBzdGF0dXNDb2RlLFxuICAgICAgICAgICAgICAgICAgICBib2R5OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudHNJbmdlc3RlZDogKF9hID0gcmVzcG9uc2VKU09OLmV2ZW50c19pbmdlc3RlZCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBheWxvYWRTaXplQnl0ZXM6IChfYiA9IHJlc3BvbnNlSlNPTi5wYXlsb2FkX3NpemVfYnl0ZXMpICE9PSBudWxsICYmIF9iICE9PSB2b2lkIDAgPyBfYiA6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJVcGxvYWRUaW1lOiAoX2MgPSByZXNwb25zZUpTT04uc2VydmVyX3VwbG9hZF90aW1lKSAhPT0gbnVsbCAmJiBfYyAhPT0gdm9pZCAwID8gX2MgOiAwLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjYXNlIFN0YXR1cy5JbnZhbGlkOlxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogc3RhdHVzLFxuICAgICAgICAgICAgICAgICAgICBzdGF0dXNDb2RlOiBzdGF0dXNDb2RlLFxuICAgICAgICAgICAgICAgICAgICBib2R5OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogKF9kID0gcmVzcG9uc2VKU09OLmVycm9yKSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pc3NpbmdGaWVsZDogKF9lID0gcmVzcG9uc2VKU09OLm1pc3NpbmdfZmllbGQpICE9PSBudWxsICYmIF9lICE9PSB2b2lkIDAgPyBfZSA6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRzV2l0aEludmFsaWRGaWVsZHM6IChfZiA9IHJlc3BvbnNlSlNPTi5ldmVudHNfd2l0aF9pbnZhbGlkX2ZpZWxkcykgIT09IG51bGwgJiYgX2YgIT09IHZvaWQgMCA/IF9mIDoge30sXG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudHNXaXRoTWlzc2luZ0ZpZWxkczogKF9nID0gcmVzcG9uc2VKU09OLmV2ZW50c193aXRoX21pc3NpbmdfZmllbGRzKSAhPT0gbnVsbCAmJiBfZyAhPT0gdm9pZCAwID8gX2cgOiB7fSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50c1dpdGhJbnZhbGlkSWRMZW5ndGhzOiAoX2ggPSByZXNwb25zZUpTT04uZXZlbnRzX3dpdGhfaW52YWxpZF9pZF9sZW5ndGhzKSAhPT0gbnVsbCAmJiBfaCAhPT0gdm9pZCAwID8gX2ggOiB7fSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVwc1RocmVzaG9sZDogKF9qID0gcmVzcG9uc2VKU09OLmVwc190aHJlc2hvbGQpICE9PSBudWxsICYmIF9qICE9PSB2b2lkIDAgPyBfaiA6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBleGNlZWRlZERhaWx5UXVvdGFEZXZpY2VzOiAoX2sgPSByZXNwb25zZUpTT04uZXhjZWVkZWRfZGFpbHlfcXVvdGFfZGV2aWNlcykgIT09IG51bGwgJiYgX2sgIT09IHZvaWQgMCA/IF9rIDoge30sXG4gICAgICAgICAgICAgICAgICAgICAgICBzaWxlbmNlZERldmljZXM6IChfbCA9IHJlc3BvbnNlSlNPTi5zaWxlbmNlZF9kZXZpY2VzKSAhPT0gbnVsbCAmJiBfbCAhPT0gdm9pZCAwID8gX2wgOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpbGVuY2VkRXZlbnRzOiAoX20gPSByZXNwb25zZUpTT04uc2lsZW5jZWRfZXZlbnRzKSAhPT0gbnVsbCAmJiBfbSAhPT0gdm9pZCAwID8gX20gOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm90dGxlZERldmljZXM6IChfbyA9IHJlc3BvbnNlSlNPTi50aHJvdHRsZWRfZGV2aWNlcykgIT09IG51bGwgJiYgX28gIT09IHZvaWQgMCA/IF9vIDoge30sXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdHRsZWRFdmVudHM6IChfcCA9IHJlc3BvbnNlSlNPTi50aHJvdHRsZWRfZXZlbnRzKSAhPT0gbnVsbCAmJiBfcCAhPT0gdm9pZCAwID8gX3AgOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgY2FzZSBTdGF0dXMuUGF5bG9hZFRvb0xhcmdlOlxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogc3RhdHVzLFxuICAgICAgICAgICAgICAgICAgICBzdGF0dXNDb2RlOiBzdGF0dXNDb2RlLFxuICAgICAgICAgICAgICAgICAgICBib2R5OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogKF9xID0gcmVzcG9uc2VKU09OLmVycm9yKSAhPT0gbnVsbCAmJiBfcSAhPT0gdm9pZCAwID8gX3EgOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgY2FzZSBTdGF0dXMuUmF0ZUxpbWl0OlxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogc3RhdHVzLFxuICAgICAgICAgICAgICAgICAgICBzdGF0dXNDb2RlOiBzdGF0dXNDb2RlLFxuICAgICAgICAgICAgICAgICAgICBib2R5OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogKF9yID0gcmVzcG9uc2VKU09OLmVycm9yKSAhPT0gbnVsbCAmJiBfciAhPT0gdm9pZCAwID8gX3IgOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVwc1RocmVzaG9sZDogKF9zID0gcmVzcG9uc2VKU09OLmVwc190aHJlc2hvbGQpICE9PSBudWxsICYmIF9zICE9PSB2b2lkIDAgPyBfcyA6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdHRsZWREZXZpY2VzOiAoX3QgPSByZXNwb25zZUpTT04udGhyb3R0bGVkX2RldmljZXMpICE9PSBudWxsICYmIF90ICE9PSB2b2lkIDAgPyBfdCA6IHt9LFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3R0bGVkVXNlcnM6IChfdSA9IHJlc3BvbnNlSlNPTi50aHJvdHRsZWRfdXNlcnMpICE9PSBudWxsICYmIF91ICE9PSB2b2lkIDAgPyBfdSA6IHt9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhjZWVkZWREYWlseVF1b3RhRGV2aWNlczogKF92ID0gcmVzcG9uc2VKU09OLmV4Y2VlZGVkX2RhaWx5X3F1b3RhX2RldmljZXMpICE9PSBudWxsICYmIF92ICE9PSB2b2lkIDAgPyBfdiA6IHt9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhjZWVkZWREYWlseVF1b3RhVXNlcnM6IChfdyA9IHJlc3BvbnNlSlNPTi5leGNlZWRlZF9kYWlseV9xdW90YV91c2VycykgIT09IG51bGwgJiYgX3cgIT09IHZvaWQgMCA/IF93IDoge30sXG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdHRsZWRFdmVudHM6IChfeCA9IHJlc3BvbnNlSlNPTi50aHJvdHRsZWRfZXZlbnRzKSAhPT0gbnVsbCAmJiBfeCAhPT0gdm9pZCAwID8gX3ggOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgY2FzZSBTdGF0dXMuVGltZW91dDpcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBzdGF0dXMsXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1c0NvZGU6IHN0YXR1c0NvZGUsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQmFzZVRyYW5zcG9ydC5wcm90b3R5cGUuYnVpbGRTdGF0dXMgPSBmdW5jdGlvbiAoY29kZSkge1xuICAgICAgICBpZiAoY29kZSA+PSAyMDAgJiYgY29kZSA8IDMwMCkge1xuICAgICAgICAgICAgcmV0dXJuIFN0YXR1cy5TdWNjZXNzO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb2RlID09PSA0MjkpIHtcbiAgICAgICAgICAgIHJldHVybiBTdGF0dXMuUmF0ZUxpbWl0O1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb2RlID09PSA0MTMpIHtcbiAgICAgICAgICAgIHJldHVybiBTdGF0dXMuUGF5bG9hZFRvb0xhcmdlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb2RlID09PSA0MDgpIHtcbiAgICAgICAgICAgIHJldHVybiBTdGF0dXMuVGltZW91dDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29kZSA+PSA0MDAgJiYgY29kZSA8IDUwMCkge1xuICAgICAgICAgICAgcmV0dXJuIFN0YXR1cy5JbnZhbGlkO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb2RlID49IDUwMCkge1xuICAgICAgICAgICAgcmV0dXJuIFN0YXR1cy5GYWlsZWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFN0YXR1cy5Vbmtub3duO1xuICAgIH07XG4gICAgcmV0dXJuIEJhc2VUcmFuc3BvcnQ7XG59KCkpO1xuZXhwb3J0IHsgQmFzZVRyYW5zcG9ydCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YmFzZS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/transports/base.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/transports/fetch.js":
/*!********************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/transports/fetch.js ***!
  \********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FetchTransport: () => (/* binding */ FetchTransport)\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"(ssr)/./node_modules/.pnpm/tslib@2.8.1/node_modules/tslib/tslib.es6.mjs\");\n/* harmony import */ var _base__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./base */ \"(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/transports/base.js\");\n\n\nvar FetchTransport = /** @class */ (function (_super) {\n    (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__extends)(FetchTransport, _super);\n    function FetchTransport() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    FetchTransport.prototype.send = function (serverUrl, payload) {\n        return (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__awaiter)(this, void 0, void 0, function () {\n            var options, response, responseText;\n            return (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__generator)(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        /* istanbul ignore if */\n                        if (typeof fetch === 'undefined') {\n                            throw new Error('FetchTransport is not supported');\n                        }\n                        options = {\n                            headers: {\n                                'Content-Type': 'application/json',\n                                Accept: '*/*',\n                            },\n                            body: JSON.stringify(payload),\n                            method: 'POST',\n                        };\n                        return [4 /*yield*/, fetch(serverUrl, options)];\n                    case 1:\n                        response = _a.sent();\n                        return [4 /*yield*/, response.text()];\n                    case 2:\n                        responseText = _a.sent();\n                        try {\n                            // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n                            return [2 /*return*/, this.buildResponse(JSON.parse(responseText))];\n                        }\n                        catch (_b) {\n                            return [2 /*return*/, this.buildResponse({ code: response.status })];\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    return FetchTransport;\n}(_base__WEBPACK_IMPORTED_MODULE_1__.BaseTransport));\n\n//# sourceMappingURL=fetch.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGFtcGxpdHVkZSthbmFseXRpY3MtY29yZUAyLjEyLjIvbm9kZV9tb2R1bGVzL0BhbXBsaXR1ZGUvYW5hbHl0aWNzLWNvcmUvbGliL2VzbS90cmFuc3BvcnRzL2ZldGNoLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUEwRDtBQUNuQjtBQUN2QztBQUNBLElBQUksZ0RBQVM7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsZ0RBQVM7QUFDeEI7QUFDQSxtQkFBbUIsa0RBQVc7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkI7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHVFQUF1RSx1QkFBdUI7QUFDOUY7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiLFNBQVM7QUFDVDtBQUNBO0FBQ0EsQ0FBQyxDQUFDLGdEQUFhO0FBQ1c7QUFDMUIiLCJzb3VyY2VzIjpbIi9ob21lL2Jyb256ZS9jb2RpbmcvZnNha20vbm9kZV9tb2R1bGVzLy5wbnBtL0BhbXBsaXR1ZGUrYW5hbHl0aWNzLWNvcmVAMi4xMi4yL25vZGVfbW9kdWxlcy9AYW1wbGl0dWRlL2FuYWx5dGljcy1jb3JlL2xpYi9lc20vdHJhbnNwb3J0cy9mZXRjaC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfX2F3YWl0ZXIsIF9fZXh0ZW5kcywgX19nZW5lcmF0b3IgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IEJhc2VUcmFuc3BvcnQgfSBmcm9tICcuL2Jhc2UnO1xudmFyIEZldGNoVHJhbnNwb3J0ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIF9fZXh0ZW5kcyhGZXRjaFRyYW5zcG9ydCwgX3N1cGVyKTtcbiAgICBmdW5jdGlvbiBGZXRjaFRyYW5zcG9ydCgpIHtcbiAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzO1xuICAgIH1cbiAgICBGZXRjaFRyYW5zcG9ydC5wcm90b3R5cGUuc2VuZCA9IGZ1bmN0aW9uIChzZXJ2ZXJVcmwsIHBheWxvYWQpIHtcbiAgICAgICAgcmV0dXJuIF9fYXdhaXRlcih0aGlzLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIG9wdGlvbnMsIHJlc3BvbnNlLCByZXNwb25zZVRleHQ7XG4gICAgICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChfYS5sYWJlbCkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDA6XG4gICAgICAgICAgICAgICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZmV0Y2ggPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdGZXRjaFRyYW5zcG9ydCBpcyBub3Qgc3VwcG9ydGVkJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgQWNjZXB0OiAnKi8qJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIGZldGNoKHNlcnZlclVybCwgb3B0aW9ucyldO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCAvKnlpZWxkKi8sIHJlc3BvbnNlLnRleHQoKV07XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlVGV4dCA9IF9hLnNlbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11bnNhZmUtYXJndW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qLywgdGhpcy5idWlsZFJlc3BvbnNlKEpTT04ucGFyc2UocmVzcG9uc2VUZXh0KSldO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKF9iKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsyIC8qcmV0dXJuKi8sIHRoaXMuYnVpbGRSZXNwb25zZSh7IGNvZGU6IHJlc3BvbnNlLnN0YXR1cyB9KV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzIgLypyZXR1cm4qL107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgcmV0dXJuIEZldGNoVHJhbnNwb3J0O1xufShCYXNlVHJhbnNwb3J0KSk7XG5leHBvcnQgeyBGZXRjaFRyYW5zcG9ydCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZmV0Y2guanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/transports/fetch.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/types/constants.js":
/*!*******************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/types/constants.js ***!
  \*******************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AMPLITUDE_BATCH_SERVER_URL: () => (/* binding */ AMPLITUDE_BATCH_SERVER_URL),\n/* harmony export */   AMPLITUDE_PREFIX: () => (/* binding */ AMPLITUDE_PREFIX),\n/* harmony export */   AMPLITUDE_SERVER_URL: () => (/* binding */ AMPLITUDE_SERVER_URL),\n/* harmony export */   EU_AMPLITUDE_BATCH_SERVER_URL: () => (/* binding */ EU_AMPLITUDE_BATCH_SERVER_URL),\n/* harmony export */   EU_AMPLITUDE_SERVER_URL: () => (/* binding */ EU_AMPLITUDE_SERVER_URL),\n/* harmony export */   STORAGE_PREFIX: () => (/* binding */ STORAGE_PREFIX),\n/* harmony export */   UNSET_VALUE: () => (/* binding */ UNSET_VALUE)\n/* harmony export */ });\nvar UNSET_VALUE = '-';\nvar AMPLITUDE_PREFIX = 'AMP';\nvar STORAGE_PREFIX = \"\".concat(AMPLITUDE_PREFIX, \"_unsent\");\nvar AMPLITUDE_SERVER_URL = 'https://api2.amplitude.com/2/httpapi';\nvar EU_AMPLITUDE_SERVER_URL = 'https://api.eu.amplitude.com/2/httpapi';\nvar AMPLITUDE_BATCH_SERVER_URL = 'https://api2.amplitude.com/batch';\nvar EU_AMPLITUDE_BATCH_SERVER_URL = 'https://api.eu.amplitude.com/batch';\n//# sourceMappingURL=constants.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGFtcGxpdHVkZSthbmFseXRpY3MtY29yZUAyLjEyLjIvbm9kZV9tb2R1bGVzL0BhbXBsaXR1ZGUvYW5hbHl0aWNzLWNvcmUvbGliL2VzbS90eXBlcy9jb25zdGFudHMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFPO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ1AiLCJzb3VyY2VzIjpbIi9ob21lL2Jyb256ZS9jb2RpbmcvZnNha20vbm9kZV9tb2R1bGVzLy5wbnBtL0BhbXBsaXR1ZGUrYW5hbHl0aWNzLWNvcmVAMi4xMi4yL25vZGVfbW9kdWxlcy9AYW1wbGl0dWRlL2FuYWx5dGljcy1jb3JlL2xpYi9lc20vdHlwZXMvY29uc3RhbnRzLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB2YXIgVU5TRVRfVkFMVUUgPSAnLSc7XG5leHBvcnQgdmFyIEFNUExJVFVERV9QUkVGSVggPSAnQU1QJztcbmV4cG9ydCB2YXIgU1RPUkFHRV9QUkVGSVggPSBcIlwiLmNvbmNhdChBTVBMSVRVREVfUFJFRklYLCBcIl91bnNlbnRcIik7XG5leHBvcnQgdmFyIEFNUExJVFVERV9TRVJWRVJfVVJMID0gJ2h0dHBzOi8vYXBpMi5hbXBsaXR1ZGUuY29tLzIvaHR0cGFwaSc7XG5leHBvcnQgdmFyIEVVX0FNUExJVFVERV9TRVJWRVJfVVJMID0gJ2h0dHBzOi8vYXBpLmV1LmFtcGxpdHVkZS5jb20vMi9odHRwYXBpJztcbmV4cG9ydCB2YXIgQU1QTElUVURFX0JBVENIX1NFUlZFUl9VUkwgPSAnaHR0cHM6Ly9hcGkyLmFtcGxpdHVkZS5jb20vYmF0Y2gnO1xuZXhwb3J0IHZhciBFVV9BTVBMSVRVREVfQkFUQ0hfU0VSVkVSX1VSTCA9ICdodHRwczovL2FwaS5ldS5hbXBsaXR1ZGUuY29tL2JhdGNoJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnN0YW50cy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/types/constants.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/types/element-interactions.js":
/*!******************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/types/element-interactions.js ***!
  \******************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DEFAULT_ACTION_CLICK_ALLOWLIST: () => (/* binding */ DEFAULT_ACTION_CLICK_ALLOWLIST),\n/* harmony export */   DEFAULT_CSS_SELECTOR_ALLOWLIST: () => (/* binding */ DEFAULT_CSS_SELECTOR_ALLOWLIST),\n/* harmony export */   DEFAULT_DATA_ATTRIBUTE_PREFIX: () => (/* binding */ DEFAULT_DATA_ATTRIBUTE_PREFIX)\n/* harmony export */ });\n/**\n * Default CSS selectors to define which elements on the page to track.\n * Extend this list to include additional elements to track. For example:\n * ```\n * autocapturePlugin({\n *    cssSelectorAllowlist: [...DEFAULT_CSS_SELECTOR_ALLOWLIST, \".my-class\"],\n * })\n * ```\n */\nvar DEFAULT_CSS_SELECTOR_ALLOWLIST = [\n    'a',\n    'button',\n    'input',\n    'select',\n    'textarea',\n    'label',\n    'video',\n    'audio',\n    '[contenteditable=\"true\" i]',\n    '[data-amp-default-track]',\n    '.amp-default-track',\n];\n/**\n * Default prefix to allow the plugin to capture data attributes as an event property.\n */\nvar DEFAULT_DATA_ATTRIBUTE_PREFIX = 'data-amp-track-';\n/**\n * Default list of elements on the page should be tracked when the page changes.\n */\nvar DEFAULT_ACTION_CLICK_ALLOWLIST = ['div', 'span', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6'];\n//# sourceMappingURL=element-interactions.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGFtcGxpdHVkZSthbmFseXRpY3MtY29yZUAyLjEyLjIvbm9kZV9tb2R1bGVzL0BhbXBsaXR1ZGUvYW5hbHl0aWNzLWNvcmUvbGliL2VzbS90eXBlcy9lbGVtZW50LWludGVyYWN0aW9ucy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJO0FBQ0o7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDTztBQUNQIiwic291cmNlcyI6WyIvaG9tZS9icm9uemUvY29kaW5nL2ZzYWttL25vZGVfbW9kdWxlcy8ucG5wbS9AYW1wbGl0dWRlK2FuYWx5dGljcy1jb3JlQDIuMTIuMi9ub2RlX21vZHVsZXMvQGFtcGxpdHVkZS9hbmFseXRpY3MtY29yZS9saWIvZXNtL3R5cGVzL2VsZW1lbnQtaW50ZXJhY3Rpb25zLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogRGVmYXVsdCBDU1Mgc2VsZWN0b3JzIHRvIGRlZmluZSB3aGljaCBlbGVtZW50cyBvbiB0aGUgcGFnZSB0byB0cmFjay5cbiAqIEV4dGVuZCB0aGlzIGxpc3QgdG8gaW5jbHVkZSBhZGRpdGlvbmFsIGVsZW1lbnRzIHRvIHRyYWNrLiBGb3IgZXhhbXBsZTpcbiAqIGBgYFxuICogYXV0b2NhcHR1cmVQbHVnaW4oe1xuICogICAgY3NzU2VsZWN0b3JBbGxvd2xpc3Q6IFsuLi5ERUZBVUxUX0NTU19TRUxFQ1RPUl9BTExPV0xJU1QsIFwiLm15LWNsYXNzXCJdLFxuICogfSlcbiAqIGBgYFxuICovXG5leHBvcnQgdmFyIERFRkFVTFRfQ1NTX1NFTEVDVE9SX0FMTE9XTElTVCA9IFtcbiAgICAnYScsXG4gICAgJ2J1dHRvbicsXG4gICAgJ2lucHV0JyxcbiAgICAnc2VsZWN0JyxcbiAgICAndGV4dGFyZWEnLFxuICAgICdsYWJlbCcsXG4gICAgJ3ZpZGVvJyxcbiAgICAnYXVkaW8nLFxuICAgICdbY29udGVudGVkaXRhYmxlPVwidHJ1ZVwiIGldJyxcbiAgICAnW2RhdGEtYW1wLWRlZmF1bHQtdHJhY2tdJyxcbiAgICAnLmFtcC1kZWZhdWx0LXRyYWNrJyxcbl07XG4vKipcbiAqIERlZmF1bHQgcHJlZml4IHRvIGFsbG93IHRoZSBwbHVnaW4gdG8gY2FwdHVyZSBkYXRhIGF0dHJpYnV0ZXMgYXMgYW4gZXZlbnQgcHJvcGVydHkuXG4gKi9cbmV4cG9ydCB2YXIgREVGQVVMVF9EQVRBX0FUVFJJQlVURV9QUkVGSVggPSAnZGF0YS1hbXAtdHJhY2stJztcbi8qKlxuICogRGVmYXVsdCBsaXN0IG9mIGVsZW1lbnRzIG9uIHRoZSBwYWdlIHNob3VsZCBiZSB0cmFja2VkIHdoZW4gdGhlIHBhZ2UgY2hhbmdlcy5cbiAqL1xuZXhwb3J0IHZhciBERUZBVUxUX0FDVElPTl9DTElDS19BTExPV0xJU1QgPSBbJ2RpdicsICdzcGFuJywgJ2gxJywgJ2gyJywgJ2gzJywgJ2g0JywgJ2g1JywgJ2g2J107XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lbGVtZW50LWludGVyYWN0aW9ucy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/types/element-interactions.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/types/event/event.js":
/*!*********************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/types/event/event.js ***!
  \*********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   IdentifyOperation: () => (/* binding */ IdentifyOperation),\n/* harmony export */   SpecialEventType: () => (/* binding */ SpecialEventType)\n/* harmony export */ });\nvar IdentifyOperation;\n(function (IdentifyOperation) {\n    // Base Operations to set values\n    IdentifyOperation[\"SET\"] = \"$set\";\n    IdentifyOperation[\"SET_ONCE\"] = \"$setOnce\";\n    // Operations around modifying existing values\n    IdentifyOperation[\"ADD\"] = \"$add\";\n    IdentifyOperation[\"APPEND\"] = \"$append\";\n    IdentifyOperation[\"PREPEND\"] = \"$prepend\";\n    IdentifyOperation[\"REMOVE\"] = \"$remove\";\n    // Operations around appending values *if* they aren't present\n    IdentifyOperation[\"PREINSERT\"] = \"$preInsert\";\n    IdentifyOperation[\"POSTINSERT\"] = \"$postInsert\";\n    // Operations around removing properties/values\n    IdentifyOperation[\"UNSET\"] = \"$unset\";\n    IdentifyOperation[\"CLEAR_ALL\"] = \"$clearAll\";\n})(IdentifyOperation || (IdentifyOperation = {}));\n/**\n * Strings that have special meaning when used as an event's type\n * and have different specifications.\n */\nvar SpecialEventType;\n(function (SpecialEventType) {\n    SpecialEventType[\"IDENTIFY\"] = \"$identify\";\n    SpecialEventType[\"GROUP_IDENTIFY\"] = \"$groupidentify\";\n    SpecialEventType[\"REVENUE\"] = \"revenue_amount\";\n})(SpecialEventType || (SpecialEventType = {}));\n//# sourceMappingURL=event.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGFtcGxpdHVkZSthbmFseXRpY3MtY29yZUAyLjEyLjIvbm9kZV9tb2R1bGVzL0BhbXBsaXR1ZGUvYW5hbHl0aWNzLWNvcmUvbGliL2VzbS90eXBlcy9ldmVudC9ldmVudC5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyw4Q0FBOEM7QUFDL0M7QUFDQTtBQUNBO0FBQ0E7QUFDTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQyw0Q0FBNEM7QUFDN0MiLCJzb3VyY2VzIjpbIi9ob21lL2Jyb256ZS9jb2RpbmcvZnNha20vbm9kZV9tb2R1bGVzLy5wbnBtL0BhbXBsaXR1ZGUrYW5hbHl0aWNzLWNvcmVAMi4xMi4yL25vZGVfbW9kdWxlcy9AYW1wbGl0dWRlL2FuYWx5dGljcy1jb3JlL2xpYi9lc20vdHlwZXMvZXZlbnQvZXZlbnQuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHZhciBJZGVudGlmeU9wZXJhdGlvbjtcbihmdW5jdGlvbiAoSWRlbnRpZnlPcGVyYXRpb24pIHtcbiAgICAvLyBCYXNlIE9wZXJhdGlvbnMgdG8gc2V0IHZhbHVlc1xuICAgIElkZW50aWZ5T3BlcmF0aW9uW1wiU0VUXCJdID0gXCIkc2V0XCI7XG4gICAgSWRlbnRpZnlPcGVyYXRpb25bXCJTRVRfT05DRVwiXSA9IFwiJHNldE9uY2VcIjtcbiAgICAvLyBPcGVyYXRpb25zIGFyb3VuZCBtb2RpZnlpbmcgZXhpc3RpbmcgdmFsdWVzXG4gICAgSWRlbnRpZnlPcGVyYXRpb25bXCJBRERcIl0gPSBcIiRhZGRcIjtcbiAgICBJZGVudGlmeU9wZXJhdGlvbltcIkFQUEVORFwiXSA9IFwiJGFwcGVuZFwiO1xuICAgIElkZW50aWZ5T3BlcmF0aW9uW1wiUFJFUEVORFwiXSA9IFwiJHByZXBlbmRcIjtcbiAgICBJZGVudGlmeU9wZXJhdGlvbltcIlJFTU9WRVwiXSA9IFwiJHJlbW92ZVwiO1xuICAgIC8vIE9wZXJhdGlvbnMgYXJvdW5kIGFwcGVuZGluZyB2YWx1ZXMgKmlmKiB0aGV5IGFyZW4ndCBwcmVzZW50XG4gICAgSWRlbnRpZnlPcGVyYXRpb25bXCJQUkVJTlNFUlRcIl0gPSBcIiRwcmVJbnNlcnRcIjtcbiAgICBJZGVudGlmeU9wZXJhdGlvbltcIlBPU1RJTlNFUlRcIl0gPSBcIiRwb3N0SW5zZXJ0XCI7XG4gICAgLy8gT3BlcmF0aW9ucyBhcm91bmQgcmVtb3ZpbmcgcHJvcGVydGllcy92YWx1ZXNcbiAgICBJZGVudGlmeU9wZXJhdGlvbltcIlVOU0VUXCJdID0gXCIkdW5zZXRcIjtcbiAgICBJZGVudGlmeU9wZXJhdGlvbltcIkNMRUFSX0FMTFwiXSA9IFwiJGNsZWFyQWxsXCI7XG59KShJZGVudGlmeU9wZXJhdGlvbiB8fCAoSWRlbnRpZnlPcGVyYXRpb24gPSB7fSkpO1xuLyoqXG4gKiBTdHJpbmdzIHRoYXQgaGF2ZSBzcGVjaWFsIG1lYW5pbmcgd2hlbiB1c2VkIGFzIGFuIGV2ZW50J3MgdHlwZVxuICogYW5kIGhhdmUgZGlmZmVyZW50IHNwZWNpZmljYXRpb25zLlxuICovXG5leHBvcnQgdmFyIFNwZWNpYWxFdmVudFR5cGU7XG4oZnVuY3Rpb24gKFNwZWNpYWxFdmVudFR5cGUpIHtcbiAgICBTcGVjaWFsRXZlbnRUeXBlW1wiSURFTlRJRllcIl0gPSBcIiRpZGVudGlmeVwiO1xuICAgIFNwZWNpYWxFdmVudFR5cGVbXCJHUk9VUF9JREVOVElGWVwiXSA9IFwiJGdyb3VwaWRlbnRpZnlcIjtcbiAgICBTcGVjaWFsRXZlbnRUeXBlW1wiUkVWRU5VRVwiXSA9IFwicmV2ZW51ZV9hbW91bnRcIjtcbn0pKFNwZWNpYWxFdmVudFR5cGUgfHwgKFNwZWNpYWxFdmVudFR5cGUgPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXZlbnQuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/types/event/event.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/types/loglevel.js":
/*!******************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/types/loglevel.js ***!
  \******************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LogLevel: () => (/* binding */ LogLevel)\n/* harmony export */ });\nvar LogLevel;\n(function (LogLevel) {\n    LogLevel[LogLevel[\"None\"] = 0] = \"None\";\n    LogLevel[LogLevel[\"Error\"] = 1] = \"Error\";\n    LogLevel[LogLevel[\"Warn\"] = 2] = \"Warn\";\n    LogLevel[LogLevel[\"Verbose\"] = 3] = \"Verbose\";\n    LogLevel[LogLevel[\"Debug\"] = 4] = \"Debug\";\n})(LogLevel || (LogLevel = {}));\n//# sourceMappingURL=loglevel.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGFtcGxpdHVkZSthbmFseXRpY3MtY29yZUAyLjEyLjIvbm9kZV9tb2R1bGVzL0BhbXBsaXR1ZGUvYW5hbHl0aWNzLWNvcmUvbGliL2VzbS90eXBlcy9sb2dsZXZlbC5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLDRCQUE0QjtBQUM3QiIsInNvdXJjZXMiOlsiL2hvbWUvYnJvbnplL2NvZGluZy9mc2FrbS9ub2RlX21vZHVsZXMvLnBucG0vQGFtcGxpdHVkZSthbmFseXRpY3MtY29yZUAyLjEyLjIvbm9kZV9tb2R1bGVzL0BhbXBsaXR1ZGUvYW5hbHl0aWNzLWNvcmUvbGliL2VzbS90eXBlcy9sb2dsZXZlbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgdmFyIExvZ0xldmVsO1xuKGZ1bmN0aW9uIChMb2dMZXZlbCkge1xuICAgIExvZ0xldmVsW0xvZ0xldmVsW1wiTm9uZVwiXSA9IDBdID0gXCJOb25lXCI7XG4gICAgTG9nTGV2ZWxbTG9nTGV2ZWxbXCJFcnJvclwiXSA9IDFdID0gXCJFcnJvclwiO1xuICAgIExvZ0xldmVsW0xvZ0xldmVsW1wiV2FyblwiXSA9IDJdID0gXCJXYXJuXCI7XG4gICAgTG9nTGV2ZWxbTG9nTGV2ZWxbXCJWZXJib3NlXCJdID0gM10gPSBcIlZlcmJvc2VcIjtcbiAgICBMb2dMZXZlbFtMb2dMZXZlbFtcIkRlYnVnXCJdID0gNF0gPSBcIkRlYnVnXCI7XG59KShMb2dMZXZlbCB8fCAoTG9nTGV2ZWwgPSB7fSkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bG9nbGV2ZWwuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/types/loglevel.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/types/messages.js":
/*!******************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/types/messages.js ***!
  \******************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CLIENT_NOT_INITIALIZED: () => (/* binding */ CLIENT_NOT_INITIALIZED),\n/* harmony export */   INVALID_API_KEY: () => (/* binding */ INVALID_API_KEY),\n/* harmony export */   MAX_RETRIES_EXCEEDED_MESSAGE: () => (/* binding */ MAX_RETRIES_EXCEEDED_MESSAGE),\n/* harmony export */   MISSING_API_KEY_MESSAGE: () => (/* binding */ MISSING_API_KEY_MESSAGE),\n/* harmony export */   OPT_OUT_MESSAGE: () => (/* binding */ OPT_OUT_MESSAGE),\n/* harmony export */   SUCCESS_MESSAGE: () => (/* binding */ SUCCESS_MESSAGE),\n/* harmony export */   UNEXPECTED_ERROR_MESSAGE: () => (/* binding */ UNEXPECTED_ERROR_MESSAGE)\n/* harmony export */ });\nvar SUCCESS_MESSAGE = 'Event tracked successfully';\nvar UNEXPECTED_ERROR_MESSAGE = 'Unexpected error occurred';\nvar MAX_RETRIES_EXCEEDED_MESSAGE = 'Event rejected due to exceeded retry count';\nvar OPT_OUT_MESSAGE = 'Event skipped due to optOut config';\nvar MISSING_API_KEY_MESSAGE = 'Event rejected due to missing API key';\nvar INVALID_API_KEY = 'Invalid API key';\nvar CLIENT_NOT_INITIALIZED = 'Client not initialized';\n//# sourceMappingURL=messages.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGFtcGxpdHVkZSthbmFseXRpY3MtY29yZUAyLjEyLjIvbm9kZV9tb2R1bGVzL0BhbXBsaXR1ZGUvYW5hbHl0aWNzLWNvcmUvbGliL2VzbS90eXBlcy9tZXNzYWdlcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQU87QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDUCIsInNvdXJjZXMiOlsiL2hvbWUvYnJvbnplL2NvZGluZy9mc2FrbS9ub2RlX21vZHVsZXMvLnBucG0vQGFtcGxpdHVkZSthbmFseXRpY3MtY29yZUAyLjEyLjIvbm9kZV9tb2R1bGVzL0BhbXBsaXR1ZGUvYW5hbHl0aWNzLWNvcmUvbGliL2VzbS90eXBlcy9tZXNzYWdlcy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgdmFyIFNVQ0NFU1NfTUVTU0FHRSA9ICdFdmVudCB0cmFja2VkIHN1Y2Nlc3NmdWxseSc7XG5leHBvcnQgdmFyIFVORVhQRUNURURfRVJST1JfTUVTU0FHRSA9ICdVbmV4cGVjdGVkIGVycm9yIG9jY3VycmVkJztcbmV4cG9ydCB2YXIgTUFYX1JFVFJJRVNfRVhDRUVERURfTUVTU0FHRSA9ICdFdmVudCByZWplY3RlZCBkdWUgdG8gZXhjZWVkZWQgcmV0cnkgY291bnQnO1xuZXhwb3J0IHZhciBPUFRfT1VUX01FU1NBR0UgPSAnRXZlbnQgc2tpcHBlZCBkdWUgdG8gb3B0T3V0IGNvbmZpZyc7XG5leHBvcnQgdmFyIE1JU1NJTkdfQVBJX0tFWV9NRVNTQUdFID0gJ0V2ZW50IHJlamVjdGVkIGR1ZSB0byBtaXNzaW5nIEFQSSBrZXknO1xuZXhwb3J0IHZhciBJTlZBTElEX0FQSV9LRVkgPSAnSW52YWxpZCBBUEkga2V5JztcbmV4cG9ydCB2YXIgQ0xJRU5UX05PVF9JTklUSUFMSVpFRCA9ICdDbGllbnQgbm90IGluaXRpYWxpemVkJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1lc3NhZ2VzLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/types/messages.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/types/offline.js":
/*!*****************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/types/offline.js ***!
  \*****************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   OfflineDisabled: () => (/* binding */ OfflineDisabled)\n/* harmony export */ });\nvar OfflineDisabled = null;\n//# sourceMappingURL=offline.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGFtcGxpdHVkZSthbmFseXRpY3MtY29yZUAyLjEyLjIvbm9kZV9tb2R1bGVzL0BhbXBsaXR1ZGUvYW5hbHl0aWNzLWNvcmUvbGliL2VzbS90eXBlcy9vZmZsaW5lLmpzIiwibWFwcGluZ3MiOiI7Ozs7QUFBTztBQUNQIiwic291cmNlcyI6WyIvaG9tZS9icm9uemUvY29kaW5nL2ZzYWttL25vZGVfbW9kdWxlcy8ucG5wbS9AYW1wbGl0dWRlK2FuYWx5dGljcy1jb3JlQDIuMTIuMi9ub2RlX21vZHVsZXMvQGFtcGxpdHVkZS9hbmFseXRpY3MtY29yZS9saWIvZXNtL3R5cGVzL29mZmxpbmUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IHZhciBPZmZsaW5lRGlzYWJsZWQgPSBudWxsO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b2ZmbGluZS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/types/offline.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/types/server-zone.js":
/*!*********************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/types/server-zone.js ***!
  \*********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ServerZone: () => (/* binding */ ServerZone)\n/* harmony export */ });\n/**\n * @deprecated use ServerZoneType instead\n */\nvar ServerZone;\n(function (ServerZone) {\n    ServerZone[\"US\"] = \"US\";\n    ServerZone[\"EU\"] = \"EU\";\n    /**\n     * Add for session-replay-browser migration from analytics-type v1.x.\n     */\n    ServerZone[\"STAGING\"] = \"STAGING\";\n})(ServerZone || (ServerZone = {}));\n//# sourceMappingURL=server-zone.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGFtcGxpdHVkZSthbmFseXRpY3MtY29yZUAyLjEyLjIvbm9kZV9tb2R1bGVzL0BhbXBsaXR1ZGUvYW5hbHl0aWNzLWNvcmUvbGliL2VzbS90eXBlcy9zZXJ2ZXItem9uZS5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsZ0NBQWdDO0FBQ2pDIiwic291cmNlcyI6WyIvaG9tZS9icm9uemUvY29kaW5nL2ZzYWttL25vZGVfbW9kdWxlcy8ucG5wbS9AYW1wbGl0dWRlK2FuYWx5dGljcy1jb3JlQDIuMTIuMi9ub2RlX21vZHVsZXMvQGFtcGxpdHVkZS9hbmFseXRpY3MtY29yZS9saWIvZXNtL3R5cGVzL3NlcnZlci16b25lLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQGRlcHJlY2F0ZWQgdXNlIFNlcnZlclpvbmVUeXBlIGluc3RlYWRcbiAqL1xuZXhwb3J0IHZhciBTZXJ2ZXJab25lO1xuKGZ1bmN0aW9uIChTZXJ2ZXJab25lKSB7XG4gICAgU2VydmVyWm9uZVtcIlVTXCJdID0gXCJVU1wiO1xuICAgIFNlcnZlclpvbmVbXCJFVVwiXSA9IFwiRVVcIjtcbiAgICAvKipcbiAgICAgKiBBZGQgZm9yIHNlc3Npb24tcmVwbGF5LWJyb3dzZXIgbWlncmF0aW9uIGZyb20gYW5hbHl0aWNzLXR5cGUgdjEueC5cbiAgICAgKi9cbiAgICBTZXJ2ZXJab25lW1wiU1RBR0lOR1wiXSA9IFwiU1RBR0lOR1wiO1xufSkoU2VydmVyWm9uZSB8fCAoU2VydmVyWm9uZSA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zZXJ2ZXItem9uZS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/types/server-zone.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/types/status.js":
/*!****************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/types/status.js ***!
  \****************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Status: () => (/* binding */ Status)\n/* harmony export */ });\n/** The status of an event. */\nvar Status;\n(function (Status) {\n    /** The status could not be determined. */\n    Status[\"Unknown\"] = \"unknown\";\n    /** The event was skipped due to configuration or callbacks. */\n    Status[\"Skipped\"] = \"skipped\";\n    /** The event was sent successfully. */\n    Status[\"Success\"] = \"success\";\n    /** A user or device in the payload is currently rate limited and should try again later. */\n    Status[\"RateLimit\"] = \"rate_limit\";\n    /** The sent payload was too large to be processed. */\n    Status[\"PayloadTooLarge\"] = \"payload_too_large\";\n    /** The event could not be processed. */\n    Status[\"Invalid\"] = \"invalid\";\n    /** A server-side error ocurred during submission. */\n    Status[\"Failed\"] = \"failed\";\n    /** a server or client side error occuring when a request takes too long and is cancelled */\n    Status[\"Timeout\"] = \"Timeout\";\n    /** NodeJS runtime environment error.. E.g. disconnected from network */\n    Status[\"SystemError\"] = \"SystemError\";\n})(Status || (Status = {}));\n//# sourceMappingURL=status.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGFtcGxpdHVkZSthbmFseXRpY3MtY29yZUAyLjEyLjIvbm9kZV9tb2R1bGVzL0BhbXBsaXR1ZGUvYW5hbHl0aWNzLWNvcmUvbGliL2VzbS90eXBlcy9zdGF0dXMuanMiLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsd0JBQXdCO0FBQ3pCIiwic291cmNlcyI6WyIvaG9tZS9icm9uemUvY29kaW5nL2ZzYWttL25vZGVfbW9kdWxlcy8ucG5wbS9AYW1wbGl0dWRlK2FuYWx5dGljcy1jb3JlQDIuMTIuMi9ub2RlX21vZHVsZXMvQGFtcGxpdHVkZS9hbmFseXRpY3MtY29yZS9saWIvZXNtL3R5cGVzL3N0YXR1cy5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiogVGhlIHN0YXR1cyBvZiBhbiBldmVudC4gKi9cbmV4cG9ydCB2YXIgU3RhdHVzO1xuKGZ1bmN0aW9uIChTdGF0dXMpIHtcbiAgICAvKiogVGhlIHN0YXR1cyBjb3VsZCBub3QgYmUgZGV0ZXJtaW5lZC4gKi9cbiAgICBTdGF0dXNbXCJVbmtub3duXCJdID0gXCJ1bmtub3duXCI7XG4gICAgLyoqIFRoZSBldmVudCB3YXMgc2tpcHBlZCBkdWUgdG8gY29uZmlndXJhdGlvbiBvciBjYWxsYmFja3MuICovXG4gICAgU3RhdHVzW1wiU2tpcHBlZFwiXSA9IFwic2tpcHBlZFwiO1xuICAgIC8qKiBUaGUgZXZlbnQgd2FzIHNlbnQgc3VjY2Vzc2Z1bGx5LiAqL1xuICAgIFN0YXR1c1tcIlN1Y2Nlc3NcIl0gPSBcInN1Y2Nlc3NcIjtcbiAgICAvKiogQSB1c2VyIG9yIGRldmljZSBpbiB0aGUgcGF5bG9hZCBpcyBjdXJyZW50bHkgcmF0ZSBsaW1pdGVkIGFuZCBzaG91bGQgdHJ5IGFnYWluIGxhdGVyLiAqL1xuICAgIFN0YXR1c1tcIlJhdGVMaW1pdFwiXSA9IFwicmF0ZV9saW1pdFwiO1xuICAgIC8qKiBUaGUgc2VudCBwYXlsb2FkIHdhcyB0b28gbGFyZ2UgdG8gYmUgcHJvY2Vzc2VkLiAqL1xuICAgIFN0YXR1c1tcIlBheWxvYWRUb29MYXJnZVwiXSA9IFwicGF5bG9hZF90b29fbGFyZ2VcIjtcbiAgICAvKiogVGhlIGV2ZW50IGNvdWxkIG5vdCBiZSBwcm9jZXNzZWQuICovXG4gICAgU3RhdHVzW1wiSW52YWxpZFwiXSA9IFwiaW52YWxpZFwiO1xuICAgIC8qKiBBIHNlcnZlci1zaWRlIGVycm9yIG9jdXJyZWQgZHVyaW5nIHN1Ym1pc3Npb24uICovXG4gICAgU3RhdHVzW1wiRmFpbGVkXCJdID0gXCJmYWlsZWRcIjtcbiAgICAvKiogYSBzZXJ2ZXIgb3IgY2xpZW50IHNpZGUgZXJyb3Igb2NjdXJpbmcgd2hlbiBhIHJlcXVlc3QgdGFrZXMgdG9vIGxvbmcgYW5kIGlzIGNhbmNlbGxlZCAqL1xuICAgIFN0YXR1c1tcIlRpbWVvdXRcIl0gPSBcIlRpbWVvdXRcIjtcbiAgICAvKiogTm9kZUpTIHJ1bnRpbWUgZW52aXJvbm1lbnQgZXJyb3IuLiBFLmcuIGRpc2Nvbm5lY3RlZCBmcm9tIG5ldHdvcmsgKi9cbiAgICBTdGF0dXNbXCJTeXN0ZW1FcnJvclwiXSA9IFwiU3lzdGVtRXJyb3JcIjtcbn0pKFN0YXR1cyB8fCAoU3RhdHVzID0ge30pKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0YXR1cy5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/types/status.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/utils/chunk.js":
/*!***************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/utils/chunk.js ***!
  \***************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   chunk: () => (/* binding */ chunk)\n/* harmony export */ });\n// Creates an array of elements split into groups the length of size.\n// If array can't be split evenly, the final chunk will be the remaining elements.\n// Works similary as https://lodash.com/docs/4.17.15#chunk\nvar chunk = function (arr, size) {\n    var chunkSize = Math.max(size, 1);\n    return arr.reduce(function (chunks, element, index) {\n        var chunkIndex = Math.floor(index / chunkSize);\n        if (!chunks[chunkIndex]) {\n            chunks[chunkIndex] = [];\n        }\n        chunks[chunkIndex].push(element);\n        return chunks;\n    }, []);\n};\n//# sourceMappingURL=chunk.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGFtcGxpdHVkZSthbmFseXRpY3MtY29yZUAyLjEyLjIvbm9kZV9tb2R1bGVzL0BhbXBsaXR1ZGUvYW5hbHl0aWNzLWNvcmUvbGliL2VzbS91dGlscy9jaHVuay5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EiLCJzb3VyY2VzIjpbIi9ob21lL2Jyb256ZS9jb2RpbmcvZnNha20vbm9kZV9tb2R1bGVzLy5wbnBtL0BhbXBsaXR1ZGUrYW5hbHl0aWNzLWNvcmVAMi4xMi4yL25vZGVfbW9kdWxlcy9AYW1wbGl0dWRlL2FuYWx5dGljcy1jb3JlL2xpYi9lc20vdXRpbHMvY2h1bmsuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ3JlYXRlcyBhbiBhcnJheSBvZiBlbGVtZW50cyBzcGxpdCBpbnRvIGdyb3VwcyB0aGUgbGVuZ3RoIG9mIHNpemUuXG4vLyBJZiBhcnJheSBjYW4ndCBiZSBzcGxpdCBldmVubHksIHRoZSBmaW5hbCBjaHVuayB3aWxsIGJlIHRoZSByZW1haW5pbmcgZWxlbWVudHMuXG4vLyBXb3JrcyBzaW1pbGFyeSBhcyBodHRwczovL2xvZGFzaC5jb20vZG9jcy80LjE3LjE1I2NodW5rXG5leHBvcnQgdmFyIGNodW5rID0gZnVuY3Rpb24gKGFyciwgc2l6ZSkge1xuICAgIHZhciBjaHVua1NpemUgPSBNYXRoLm1heChzaXplLCAxKTtcbiAgICByZXR1cm4gYXJyLnJlZHVjZShmdW5jdGlvbiAoY2h1bmtzLCBlbGVtZW50LCBpbmRleCkge1xuICAgICAgICB2YXIgY2h1bmtJbmRleCA9IE1hdGguZmxvb3IoaW5kZXggLyBjaHVua1NpemUpO1xuICAgICAgICBpZiAoIWNodW5rc1tjaHVua0luZGV4XSkge1xuICAgICAgICAgICAgY2h1bmtzW2NodW5rSW5kZXhdID0gW107XG4gICAgICAgIH1cbiAgICAgICAgY2h1bmtzW2NodW5rSW5kZXhdLnB1c2goZWxlbWVudCk7XG4gICAgICAgIHJldHVybiBjaHVua3M7XG4gICAgfSwgW10pO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNodW5rLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/utils/chunk.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/utils/debug.js":
/*!***************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/utils/debug.js ***!
  \***************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   debugWrapper: () => (/* binding */ debugWrapper),\n/* harmony export */   getClientLogConfig: () => (/* binding */ getClientLogConfig),\n/* harmony export */   getClientStates: () => (/* binding */ getClientStates),\n/* harmony export */   getStacktrace: () => (/* binding */ getStacktrace),\n/* harmony export */   getValueByStringPath: () => (/* binding */ getValueByStringPath)\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"(ssr)/./node_modules/.pnpm/tslib@2.8.1/node_modules/tslib/tslib.es6.mjs\");\n/* harmony import */ var _types_loglevel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../types/loglevel */ \"(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/types/loglevel.js\");\n\n\nvar getStacktrace = function (ignoreDepth) {\n    if (ignoreDepth === void 0) { ignoreDepth = 0; }\n    var trace = new Error().stack || '';\n    return trace\n        .split('\\n')\n        .slice(2 + ignoreDepth)\n        .map(function (text) { return text.trim(); });\n};\n// This hook makes sure we always get the latest logger and logLevel.\nvar getClientLogConfig = function (client) { return function () {\n    var _a = (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)({}, client.config), logger = _a.loggerProvider, logLevel = _a.logLevel;\n    return {\n        logger: logger,\n        logLevel: logLevel,\n    };\n}; };\n// This is a convenient function to get the attribute from object with string path, similar to lodash '#get'.\nvar getValueByStringPath = function (obj, path) {\n    var e_1, _a;\n    path = path.replace(/\\[(\\w+)\\]/g, '.$1'); // convert indexes to properties\n    path = path.replace(/^\\./, ''); // strip a leading dot\n    try {\n        for (var _b = (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__values)(path.split('.')), _c = _b.next(); !_c.done; _c = _b.next()) {\n            var attr = _c.value;\n            if (attr in obj) {\n                obj = obj[attr];\n            }\n            else {\n                return;\n            }\n        }\n    }\n    catch (e_1_1) { e_1 = { error: e_1_1 }; }\n    finally {\n        try {\n            if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n        }\n        finally { if (e_1) throw e_1.error; }\n    }\n    return obj;\n};\nvar getClientStates = function (client, paths) { return function () {\n    var e_2, _a;\n    var res = {};\n    try {\n        for (var paths_1 = (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__values)(paths), paths_1_1 = paths_1.next(); !paths_1_1.done; paths_1_1 = paths_1.next()) {\n            var path = paths_1_1.value;\n            res[path] = getValueByStringPath(client, path);\n        }\n    }\n    catch (e_2_1) { e_2 = { error: e_2_1 }; }\n    finally {\n        try {\n            if (paths_1_1 && !paths_1_1.done && (_a = paths_1.return)) _a.call(paths_1);\n        }\n        finally { if (e_2) throw e_2.error; }\n    }\n    return res;\n}; };\nvar debugWrapper = function (fn, fnName, getLogConfig, getStates, fnContext) {\n    if (fnContext === void 0) { fnContext = null; }\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var _a = getLogConfig(), logger = _a.logger, logLevel = _a.logLevel;\n        // return early if possible to reduce overhead\n        if ((logLevel && logLevel < _types_loglevel__WEBPACK_IMPORTED_MODULE_1__.LogLevel.Debug) || !logLevel || !logger) {\n            return fn.apply(fnContext, args);\n        }\n        var debugContext = {\n            type: 'invoke public method',\n            name: fnName,\n            args: args,\n            stacktrace: getStacktrace(1),\n            time: {\n                start: new Date().toISOString(),\n            },\n            states: {},\n        };\n        if (getStates && debugContext.states) {\n            debugContext.states.before = getStates();\n        }\n        var result = fn.apply(fnContext, args);\n        if (result && result.promise) {\n            // if result is a promise, add the callback\n            result.promise.then(function () {\n                if (getStates && debugContext.states) {\n                    debugContext.states.after = getStates();\n                }\n                if (debugContext.time) {\n                    debugContext.time.end = new Date().toISOString();\n                }\n                logger.debug(JSON.stringify(debugContext, null, 2));\n            });\n        }\n        else {\n            if (getStates && debugContext.states) {\n                debugContext.states.after = getStates();\n            }\n            if (debugContext.time) {\n                debugContext.time.end = new Date().toISOString();\n            }\n            logger.debug(JSON.stringify(debugContext, null, 2));\n        }\n        return result;\n    };\n};\n//# sourceMappingURL=debug.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGFtcGxpdHVkZSthbmFseXRpY3MtY29yZUAyLjEyLjIvbm9kZV9tb2R1bGVzL0BhbXBsaXR1ZGUvYW5hbHl0aWNzLWNvcmUvbGliL2VzbS91dGlscy9kZWJ1Zy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQTJDO0FBQ0U7QUFDdEM7QUFDUCxrQ0FBa0M7QUFDbEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrQkFBK0IscUJBQXFCO0FBQ3BEO0FBQ0E7QUFDTyw2Q0FBNkM7QUFDcEQsYUFBYSwrQ0FBUSxHQUFHO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQSw4Q0FBOEM7QUFDOUMsb0NBQW9DO0FBQ3BDO0FBQ0Esc0JBQXNCLCtDQUFRLG1DQUFtQyxVQUFVO0FBQzNFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixRQUFRO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNPLGlEQUFpRDtBQUN4RDtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIsK0NBQVEscUNBQXFDLGlCQUFpQjtBQUN6RjtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixRQUFRO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0JBQWtCO0FBQ2xCO0FBQ0E7QUFDQTtBQUNPO0FBQ1AsZ0NBQWdDO0FBQ2hDO0FBQ0E7QUFDQSx5QkFBeUIsdUJBQXVCO0FBQ2hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0NBQW9DLHFEQUFRO0FBQzVDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIi9ob21lL2Jyb256ZS9jb2RpbmcvZnNha20vbm9kZV9tb2R1bGVzLy5wbnBtL0BhbXBsaXR1ZGUrYW5hbHl0aWNzLWNvcmVAMi4xMi4yL25vZGVfbW9kdWxlcy9AYW1wbGl0dWRlL2FuYWx5dGljcy1jb3JlL2xpYi9lc20vdXRpbHMvZGVidWcuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgX19hc3NpZ24sIF9fdmFsdWVzIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBMb2dMZXZlbCB9IGZyb20gJy4uL3R5cGVzL2xvZ2xldmVsJztcbmV4cG9ydCB2YXIgZ2V0U3RhY2t0cmFjZSA9IGZ1bmN0aW9uIChpZ25vcmVEZXB0aCkge1xuICAgIGlmIChpZ25vcmVEZXB0aCA9PT0gdm9pZCAwKSB7IGlnbm9yZURlcHRoID0gMDsgfVxuICAgIHZhciB0cmFjZSA9IG5ldyBFcnJvcigpLnN0YWNrIHx8ICcnO1xuICAgIHJldHVybiB0cmFjZVxuICAgICAgICAuc3BsaXQoJ1xcbicpXG4gICAgICAgIC5zbGljZSgyICsgaWdub3JlRGVwdGgpXG4gICAgICAgIC5tYXAoZnVuY3Rpb24gKHRleHQpIHsgcmV0dXJuIHRleHQudHJpbSgpOyB9KTtcbn07XG4vLyBUaGlzIGhvb2sgbWFrZXMgc3VyZSB3ZSBhbHdheXMgZ2V0IHRoZSBsYXRlc3QgbG9nZ2VyIGFuZCBsb2dMZXZlbC5cbmV4cG9ydCB2YXIgZ2V0Q2xpZW50TG9nQ29uZmlnID0gZnVuY3Rpb24gKGNsaWVudCkgeyByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHZhciBfYSA9IF9fYXNzaWduKHt9LCBjbGllbnQuY29uZmlnKSwgbG9nZ2VyID0gX2EubG9nZ2VyUHJvdmlkZXIsIGxvZ0xldmVsID0gX2EubG9nTGV2ZWw7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgbG9nZ2VyOiBsb2dnZXIsXG4gICAgICAgIGxvZ0xldmVsOiBsb2dMZXZlbCxcbiAgICB9O1xufTsgfTtcbi8vIFRoaXMgaXMgYSBjb252ZW5pZW50IGZ1bmN0aW9uIHRvIGdldCB0aGUgYXR0cmlidXRlIGZyb20gb2JqZWN0IHdpdGggc3RyaW5nIHBhdGgsIHNpbWlsYXIgdG8gbG9kYXNoICcjZ2V0Jy5cbmV4cG9ydCB2YXIgZ2V0VmFsdWVCeVN0cmluZ1BhdGggPSBmdW5jdGlvbiAob2JqLCBwYXRoKSB7XG4gICAgdmFyIGVfMSwgX2E7XG4gICAgcGF0aCA9IHBhdGgucmVwbGFjZSgvXFxbKFxcdyspXFxdL2csICcuJDEnKTsgLy8gY29udmVydCBpbmRleGVzIHRvIHByb3BlcnRpZXNcbiAgICBwYXRoID0gcGF0aC5yZXBsYWNlKC9eXFwuLywgJycpOyAvLyBzdHJpcCBhIGxlYWRpbmcgZG90XG4gICAgdHJ5IHtcbiAgICAgICAgZm9yICh2YXIgX2IgPSBfX3ZhbHVlcyhwYXRoLnNwbGl0KCcuJykpLCBfYyA9IF9iLm5leHQoKTsgIV9jLmRvbmU7IF9jID0gX2IubmV4dCgpKSB7XG4gICAgICAgICAgICB2YXIgYXR0ciA9IF9jLnZhbHVlO1xuICAgICAgICAgICAgaWYgKGF0dHIgaW4gb2JqKSB7XG4gICAgICAgICAgICAgICAgb2JqID0gb2JqW2F0dHJdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9XG4gICAgZmluYWxseSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoX2MgJiYgIV9jLmRvbmUgJiYgKF9hID0gX2IucmV0dXJuKSkgX2EuY2FsbChfYik7XG4gICAgICAgIH1cbiAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfVxuICAgIH1cbiAgICByZXR1cm4gb2JqO1xufTtcbmV4cG9ydCB2YXIgZ2V0Q2xpZW50U3RhdGVzID0gZnVuY3Rpb24gKGNsaWVudCwgcGF0aHMpIHsgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZV8yLCBfYTtcbiAgICB2YXIgcmVzID0ge307XG4gICAgdHJ5IHtcbiAgICAgICAgZm9yICh2YXIgcGF0aHNfMSA9IF9fdmFsdWVzKHBhdGhzKSwgcGF0aHNfMV8xID0gcGF0aHNfMS5uZXh0KCk7ICFwYXRoc18xXzEuZG9uZTsgcGF0aHNfMV8xID0gcGF0aHNfMS5uZXh0KCkpIHtcbiAgICAgICAgICAgIHZhciBwYXRoID0gcGF0aHNfMV8xLnZhbHVlO1xuICAgICAgICAgICAgcmVzW3BhdGhdID0gZ2V0VmFsdWVCeVN0cmluZ1BhdGgoY2xpZW50LCBwYXRoKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjYXRjaCAoZV8yXzEpIHsgZV8yID0geyBlcnJvcjogZV8yXzEgfTsgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKHBhdGhzXzFfMSAmJiAhcGF0aHNfMV8xLmRvbmUgJiYgKF9hID0gcGF0aHNfMS5yZXR1cm4pKSBfYS5jYWxsKHBhdGhzXzEpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkgeyBpZiAoZV8yKSB0aHJvdyBlXzIuZXJyb3I7IH1cbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn07IH07XG5leHBvcnQgdmFyIGRlYnVnV3JhcHBlciA9IGZ1bmN0aW9uIChmbiwgZm5OYW1lLCBnZXRMb2dDb25maWcsIGdldFN0YXRlcywgZm5Db250ZXh0KSB7XG4gICAgaWYgKGZuQ29udGV4dCA9PT0gdm9pZCAwKSB7IGZuQ29udGV4dCA9IG51bGw7IH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgICAgICB9XG4gICAgICAgIHZhciBfYSA9IGdldExvZ0NvbmZpZygpLCBsb2dnZXIgPSBfYS5sb2dnZXIsIGxvZ0xldmVsID0gX2EubG9nTGV2ZWw7XG4gICAgICAgIC8vIHJldHVybiBlYXJseSBpZiBwb3NzaWJsZSB0byByZWR1Y2Ugb3ZlcmhlYWRcbiAgICAgICAgaWYgKChsb2dMZXZlbCAmJiBsb2dMZXZlbCA8IExvZ0xldmVsLkRlYnVnKSB8fCAhbG9nTGV2ZWwgfHwgIWxvZ2dlcikge1xuICAgICAgICAgICAgcmV0dXJuIGZuLmFwcGx5KGZuQ29udGV4dCwgYXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRlYnVnQ29udGV4dCA9IHtcbiAgICAgICAgICAgIHR5cGU6ICdpbnZva2UgcHVibGljIG1ldGhvZCcsXG4gICAgICAgICAgICBuYW1lOiBmbk5hbWUsXG4gICAgICAgICAgICBhcmdzOiBhcmdzLFxuICAgICAgICAgICAgc3RhY2t0cmFjZTogZ2V0U3RhY2t0cmFjZSgxKSxcbiAgICAgICAgICAgIHRpbWU6IHtcbiAgICAgICAgICAgICAgICBzdGFydDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN0YXRlczoge30sXG4gICAgICAgIH07XG4gICAgICAgIGlmIChnZXRTdGF0ZXMgJiYgZGVidWdDb250ZXh0LnN0YXRlcykge1xuICAgICAgICAgICAgZGVidWdDb250ZXh0LnN0YXRlcy5iZWZvcmUgPSBnZXRTdGF0ZXMoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVzdWx0ID0gZm4uYXBwbHkoZm5Db250ZXh0LCBhcmdzKTtcbiAgICAgICAgaWYgKHJlc3VsdCAmJiByZXN1bHQucHJvbWlzZSkge1xuICAgICAgICAgICAgLy8gaWYgcmVzdWx0IGlzIGEgcHJvbWlzZSwgYWRkIHRoZSBjYWxsYmFja1xuICAgICAgICAgICAgcmVzdWx0LnByb21pc2UudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaWYgKGdldFN0YXRlcyAmJiBkZWJ1Z0NvbnRleHQuc3RhdGVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlYnVnQ29udGV4dC5zdGF0ZXMuYWZ0ZXIgPSBnZXRTdGF0ZXMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRlYnVnQ29udGV4dC50aW1lKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlYnVnQ29udGV4dC50aW1lLmVuZCA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbG9nZ2VyLmRlYnVnKEpTT04uc3RyaW5naWZ5KGRlYnVnQ29udGV4dCwgbnVsbCwgMikpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAoZ2V0U3RhdGVzICYmIGRlYnVnQ29udGV4dC5zdGF0ZXMpIHtcbiAgICAgICAgICAgICAgICBkZWJ1Z0NvbnRleHQuc3RhdGVzLmFmdGVyID0gZ2V0U3RhdGVzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGVidWdDb250ZXh0LnRpbWUpIHtcbiAgICAgICAgICAgICAgICBkZWJ1Z0NvbnRleHQudGltZS5lbmQgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsb2dnZXIuZGVidWcoSlNPTi5zdHJpbmdpZnkoZGVidWdDb250ZXh0LCBudWxsLCAyKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlYnVnLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/utils/debug.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/utils/event-builder.js":
/*!***********************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/utils/event-builder.js ***!
  \***********************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createGroupEvent: () => (/* binding */ createGroupEvent),\n/* harmony export */   createGroupIdentifyEvent: () => (/* binding */ createGroupIdentifyEvent),\n/* harmony export */   createIdentifyEvent: () => (/* binding */ createIdentifyEvent),\n/* harmony export */   createRevenueEvent: () => (/* binding */ createRevenueEvent),\n/* harmony export */   createTrackEvent: () => (/* binding */ createTrackEvent)\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"(ssr)/./node_modules/.pnpm/tslib@2.8.1/node_modules/tslib/tslib.es6.mjs\");\n/* harmony import */ var _identify__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../identify */ \"(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/identify.js\");\n/* harmony import */ var _types_event_event__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../types/event/event */ \"(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/types/event/event.js\");\n\n\n\nvar createTrackEvent = function (eventInput, eventProperties, eventOptions) {\n    var baseEvent = typeof eventInput === 'string' ? { event_type: eventInput } : eventInput;\n    return (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)({}, baseEvent), eventOptions), (eventProperties && { event_properties: eventProperties }));\n};\nvar createIdentifyEvent = function (identify, eventOptions) {\n    var identifyEvent = (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)({}, eventOptions), { event_type: _types_event_event__WEBPACK_IMPORTED_MODULE_1__.SpecialEventType.IDENTIFY, user_properties: identify.getUserProperties() });\n    return identifyEvent;\n};\nvar createGroupIdentifyEvent = function (groupType, groupName, identify, eventOptions) {\n    var _a;\n    var groupIdentify = (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)({}, eventOptions), { event_type: _types_event_event__WEBPACK_IMPORTED_MODULE_1__.SpecialEventType.GROUP_IDENTIFY, group_properties: identify.getUserProperties(), groups: (_a = {},\n            _a[groupType] = groupName,\n            _a) });\n    return groupIdentify;\n};\nvar createGroupEvent = function (groupType, groupName, eventOptions) {\n    var _a;\n    var identify = new _identify__WEBPACK_IMPORTED_MODULE_2__.Identify();\n    identify.set(groupType, groupName);\n    var groupEvent = (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)({}, eventOptions), { event_type: _types_event_event__WEBPACK_IMPORTED_MODULE_1__.SpecialEventType.IDENTIFY, user_properties: identify.getUserProperties(), groups: (_a = {},\n            _a[groupType] = groupName,\n            _a) });\n    return groupEvent;\n};\nvar createRevenueEvent = function (revenue, eventOptions) {\n    return (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)((0,tslib__WEBPACK_IMPORTED_MODULE_0__.__assign)({}, eventOptions), { event_type: _types_event_event__WEBPACK_IMPORTED_MODULE_1__.SpecialEventType.REVENUE, event_properties: revenue.getEventProperties() });\n};\n//# sourceMappingURL=event-builder.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGFtcGxpdHVkZSthbmFseXRpY3MtY29yZUAyLjEyLjIvbm9kZV9tb2R1bGVzL0BhbXBsaXR1ZGUvYW5hbHl0aWNzLWNvcmUvbGliL2VzbS91dGlscy9ldmVudC1idWlsZGVyLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQWlDO0FBQ007QUFDaUI7QUFDakQ7QUFDUCx1REFBdUQseUJBQXlCO0FBQ2hGLFdBQVcsK0NBQVEsQ0FBQywrQ0FBUSxDQUFDLCtDQUFRLEdBQUcsbURBQW1ELG1DQUFtQztBQUM5SDtBQUNPO0FBQ1Asd0JBQXdCLCtDQUFRLENBQUMsK0NBQVEsR0FBRyxtQkFBbUIsWUFBWSxnRUFBZ0IsMERBQTBEO0FBQ3JKO0FBQ0E7QUFDTztBQUNQO0FBQ0Esd0JBQXdCLCtDQUFRLENBQUMsK0NBQVEsR0FBRyxtQkFBbUIsWUFBWSxnRUFBZ0IsaUZBQWlGO0FBQzVLO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDTztBQUNQO0FBQ0EsdUJBQXVCLCtDQUFRO0FBQy9CO0FBQ0EscUJBQXFCLCtDQUFRLENBQUMsK0NBQVEsR0FBRyxtQkFBbUIsWUFBWSxnRUFBZ0IsMEVBQTBFO0FBQ2xLO0FBQ0EsaUJBQWlCO0FBQ2pCO0FBQ0E7QUFDTztBQUNQLFdBQVcsK0NBQVEsQ0FBQywrQ0FBUSxHQUFHLG1CQUFtQixZQUFZLGdFQUFnQiwwREFBMEQ7QUFDeEk7QUFDQSIsInNvdXJjZXMiOlsiL2hvbWUvYnJvbnplL2NvZGluZy9mc2FrbS9ub2RlX21vZHVsZXMvLnBucG0vQGFtcGxpdHVkZSthbmFseXRpY3MtY29yZUAyLjEyLjIvbm9kZV9tb2R1bGVzL0BhbXBsaXR1ZGUvYW5hbHl0aWNzLWNvcmUvbGliL2VzbS91dGlscy9ldmVudC1idWlsZGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IF9fYXNzaWduIH0gZnJvbSBcInRzbGliXCI7XG5pbXBvcnQgeyBJZGVudGlmeSB9IGZyb20gJy4uL2lkZW50aWZ5JztcbmltcG9ydCB7IFNwZWNpYWxFdmVudFR5cGUgfSBmcm9tICcuLi90eXBlcy9ldmVudC9ldmVudCc7XG5leHBvcnQgdmFyIGNyZWF0ZVRyYWNrRXZlbnQgPSBmdW5jdGlvbiAoZXZlbnRJbnB1dCwgZXZlbnRQcm9wZXJ0aWVzLCBldmVudE9wdGlvbnMpIHtcbiAgICB2YXIgYmFzZUV2ZW50ID0gdHlwZW9mIGV2ZW50SW5wdXQgPT09ICdzdHJpbmcnID8geyBldmVudF90eXBlOiBldmVudElucHV0IH0gOiBldmVudElucHV0O1xuICAgIHJldHVybiBfX2Fzc2lnbihfX2Fzc2lnbihfX2Fzc2lnbih7fSwgYmFzZUV2ZW50KSwgZXZlbnRPcHRpb25zKSwgKGV2ZW50UHJvcGVydGllcyAmJiB7IGV2ZW50X3Byb3BlcnRpZXM6IGV2ZW50UHJvcGVydGllcyB9KSk7XG59O1xuZXhwb3J0IHZhciBjcmVhdGVJZGVudGlmeUV2ZW50ID0gZnVuY3Rpb24gKGlkZW50aWZ5LCBldmVudE9wdGlvbnMpIHtcbiAgICB2YXIgaWRlbnRpZnlFdmVudCA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCBldmVudE9wdGlvbnMpLCB7IGV2ZW50X3R5cGU6IFNwZWNpYWxFdmVudFR5cGUuSURFTlRJRlksIHVzZXJfcHJvcGVydGllczogaWRlbnRpZnkuZ2V0VXNlclByb3BlcnRpZXMoKSB9KTtcbiAgICByZXR1cm4gaWRlbnRpZnlFdmVudDtcbn07XG5leHBvcnQgdmFyIGNyZWF0ZUdyb3VwSWRlbnRpZnlFdmVudCA9IGZ1bmN0aW9uIChncm91cFR5cGUsIGdyb3VwTmFtZSwgaWRlbnRpZnksIGV2ZW50T3B0aW9ucykge1xuICAgIHZhciBfYTtcbiAgICB2YXIgZ3JvdXBJZGVudGlmeSA9IF9fYXNzaWduKF9fYXNzaWduKHt9LCBldmVudE9wdGlvbnMpLCB7IGV2ZW50X3R5cGU6IFNwZWNpYWxFdmVudFR5cGUuR1JPVVBfSURFTlRJRlksIGdyb3VwX3Byb3BlcnRpZXM6IGlkZW50aWZ5LmdldFVzZXJQcm9wZXJ0aWVzKCksIGdyb3VwczogKF9hID0ge30sXG4gICAgICAgICAgICBfYVtncm91cFR5cGVdID0gZ3JvdXBOYW1lLFxuICAgICAgICAgICAgX2EpIH0pO1xuICAgIHJldHVybiBncm91cElkZW50aWZ5O1xufTtcbmV4cG9ydCB2YXIgY3JlYXRlR3JvdXBFdmVudCA9IGZ1bmN0aW9uIChncm91cFR5cGUsIGdyb3VwTmFtZSwgZXZlbnRPcHRpb25zKSB7XG4gICAgdmFyIF9hO1xuICAgIHZhciBpZGVudGlmeSA9IG5ldyBJZGVudGlmeSgpO1xuICAgIGlkZW50aWZ5LnNldChncm91cFR5cGUsIGdyb3VwTmFtZSk7XG4gICAgdmFyIGdyb3VwRXZlbnQgPSBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgZXZlbnRPcHRpb25zKSwgeyBldmVudF90eXBlOiBTcGVjaWFsRXZlbnRUeXBlLklERU5USUZZLCB1c2VyX3Byb3BlcnRpZXM6IGlkZW50aWZ5LmdldFVzZXJQcm9wZXJ0aWVzKCksIGdyb3VwczogKF9hID0ge30sXG4gICAgICAgICAgICBfYVtncm91cFR5cGVdID0gZ3JvdXBOYW1lLFxuICAgICAgICAgICAgX2EpIH0pO1xuICAgIHJldHVybiBncm91cEV2ZW50O1xufTtcbmV4cG9ydCB2YXIgY3JlYXRlUmV2ZW51ZUV2ZW50ID0gZnVuY3Rpb24gKHJldmVudWUsIGV2ZW50T3B0aW9ucykge1xuICAgIHJldHVybiBfX2Fzc2lnbihfX2Fzc2lnbih7fSwgZXZlbnRPcHRpb25zKSwgeyBldmVudF90eXBlOiBTcGVjaWFsRXZlbnRUeXBlLlJFVkVOVUUsIGV2ZW50X3Byb3BlcnRpZXM6IHJldmVudWUuZ2V0RXZlbnRQcm9wZXJ0aWVzKCkgfSk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXZlbnQtYnVpbGRlci5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/utils/event-builder.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/utils/result-builder.js":
/*!************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/utils/result-builder.js ***!
  \************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   buildResult: () => (/* binding */ buildResult)\n/* harmony export */ });\n/* harmony import */ var _types_status__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../types/status */ \"(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/types/status.js\");\n\nvar buildResult = function (event, code, message) {\n    if (code === void 0) { code = 0; }\n    if (message === void 0) { message = _types_status__WEBPACK_IMPORTED_MODULE_0__.Status.Unknown; }\n    return { event: event, code: code, message: message };\n};\n//# sourceMappingURL=result-builder.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGFtcGxpdHVkZSthbmFseXRpY3MtY29yZUAyLjEyLjIvbm9kZV9tb2R1bGVzL0BhbXBsaXR1ZGUvYW5hbHl0aWNzLWNvcmUvbGliL2VzbS91dGlscy9yZXN1bHQtYnVpbGRlci5qcyIsIm1hcHBpbmdzIjoiOzs7OztBQUF5QztBQUNsQztBQUNQLDJCQUEyQjtBQUMzQiw4QkFBOEIsVUFBVSxpREFBTTtBQUM5QyxhQUFhO0FBQ2I7QUFDQSIsInNvdXJjZXMiOlsiL2hvbWUvYnJvbnplL2NvZGluZy9mc2FrbS9ub2RlX21vZHVsZXMvLnBucG0vQGFtcGxpdHVkZSthbmFseXRpY3MtY29yZUAyLjEyLjIvbm9kZV9tb2R1bGVzL0BhbXBsaXR1ZGUvYW5hbHl0aWNzLWNvcmUvbGliL2VzbS91dGlscy9yZXN1bHQtYnVpbGRlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTdGF0dXMgfSBmcm9tICcuLi90eXBlcy9zdGF0dXMnO1xuZXhwb3J0IHZhciBidWlsZFJlc3VsdCA9IGZ1bmN0aW9uIChldmVudCwgY29kZSwgbWVzc2FnZSkge1xuICAgIGlmIChjb2RlID09PSB2b2lkIDApIHsgY29kZSA9IDA7IH1cbiAgICBpZiAobWVzc2FnZSA9PT0gdm9pZCAwKSB7IG1lc3NhZ2UgPSBTdGF0dXMuVW5rbm93bjsgfVxuICAgIHJldHVybiB7IGV2ZW50OiBldmVudCwgY29kZTogY29kZSwgbWVzc2FnZTogbWVzc2FnZSB9O1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlc3VsdC1idWlsZGVyLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/utils/result-builder.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/utils/return-wrapper.js":
/*!************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/utils/return-wrapper.js ***!
  \************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   returnWrapper: () => (/* binding */ returnWrapper)\n/* harmony export */ });\nvar returnWrapper = function (awaitable) { return ({\n    promise: awaitable || Promise.resolve(),\n}); };\n//# sourceMappingURL=return-wrapper.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGFtcGxpdHVkZSthbmFseXRpY3MtY29yZUAyLjEyLjIvbm9kZV9tb2R1bGVzL0BhbXBsaXR1ZGUvYW5hbHl0aWNzLWNvcmUvbGliL2VzbS91dGlscy9yZXR1cm4td3JhcHBlci5qcyIsIm1hcHBpbmdzIjoiOzs7O0FBQU8sMkNBQTJDO0FBQ2xEO0FBQ0EsQ0FBQztBQUNEIiwic291cmNlcyI6WyIvaG9tZS9icm9uemUvY29kaW5nL2ZzYWttL25vZGVfbW9kdWxlcy8ucG5wbS9AYW1wbGl0dWRlK2FuYWx5dGljcy1jb3JlQDIuMTIuMi9ub2RlX21vZHVsZXMvQGFtcGxpdHVkZS9hbmFseXRpY3MtY29yZS9saWIvZXNtL3V0aWxzL3JldHVybi13cmFwcGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCB2YXIgcmV0dXJuV3JhcHBlciA9IGZ1bmN0aW9uIChhd2FpdGFibGUpIHsgcmV0dXJuICh7XG4gICAgcHJvbWlzZTogYXdhaXRhYmxlIHx8IFByb21pc2UucmVzb2x2ZSgpLFxufSk7IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXR1cm4td3JhcHBlci5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/utils/return-wrapper.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/utils/uuid.js":
/*!**************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/utils/uuid.js ***!
  \**************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   UUID: () => (/* binding */ UUID)\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"(ssr)/./node_modules/.pnpm/tslib@2.8.1/node_modules/tslib/tslib.es6.mjs\");\n/* harmony import */ var _global_scope__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../global-scope */ \"(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/global-scope.js\");\n/**\n * Source: [jed's gist's comment]{@link https://gist.github.com/jed/982883?permalink_comment_id=3223002#gistcomment-3223002}.\n * Returns a random v4 UUID of the form xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx,\n * where each x is replaced with a random hexadecimal digit from 0 to f, and\n * y is replaced with a random hexadecimal digit from 8 to b.\n * Used to generate UUIDs for deviceIds.\n * @private\n */\n\n\nvar legacyUUID = function (a) {\n    return a // if the placeholder was passed, return\n        ? // a random number from 0 to 15\n            (a ^ // unless b is 8,\n                ((Math.random() * // in which case\n                    16) >> // a random number from\n                    (a / 4))) // 8 to 11\n                .toString(16) // in hexadecimal\n        : // or otherwise a concatenated string:\n            (String(1e7) + // 10000000 +\n                String(-1e3) + // -1000 +\n                String(-4e3) + // -4000 +\n                String(-8e3) + // -80000000 +\n                String(-1e11)) // -100000000000,\n                .replace(\n            // replacing\n            /[018]/g, // zeroes, ones, and eights with\n            UUID);\n};\nvar hex = (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__spreadArray)([], (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__read)(Array(256).keys()), false).map(function (index) { return index.toString(16).padStart(2, '0'); });\nvar UUID = function (a) {\n    var _a;\n    var globalScope = (0,_global_scope__WEBPACK_IMPORTED_MODULE_1__.getGlobalScope)();\n    /* istanbul ignore next */\n    if (!((_a = globalScope === null || globalScope === void 0 ? void 0 : globalScope.crypto) === null || _a === void 0 ? void 0 : _a.getRandomValues)) {\n        // Fallback to legacy UUID generation if crypto is not available\n        return legacyUUID(a);\n    }\n    var r = globalScope.crypto.getRandomValues(new Uint8Array(16));\n    r[6] = (r[6] & 0x0f) | 0x40;\n    r[8] = (r[8] & 0x3f) | 0x80;\n    return (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__spreadArray)([], (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__read)(r.entries()), false).map(function (_a) {\n        var _b = (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__read)(_a, 2), index = _b[0], int = _b[1];\n        return ([4, 6, 8, 10].includes(index) ? \"-\".concat(hex[int]) : hex[int]);\n    }).join('');\n};\n//# sourceMappingURL=uuid.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGFtcGxpdHVkZSthbmFseXRpY3MtY29yZUAyLjEyLjIvbm9kZV9tb2R1bGVzL0BhbXBsaXR1ZGUvYW5hbHl0aWNzLWNvcmUvbGliL2VzbS91dGlscy91dWlkLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBO0FBQ0Esa0NBQWtDLDBGQUEwRjtBQUM1SDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDOEM7QUFDRztBQUNqRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVUsb0RBQWEsS0FBSyw2Q0FBTSxtREFBbUQsNkNBQTZDO0FBQzNIO0FBQ1A7QUFDQSxzQkFBc0IsNkRBQWM7QUFDcEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVcsb0RBQWEsS0FBSyw2Q0FBTTtBQUNuQyxpQkFBaUIsNkNBQU07QUFDdkI7QUFDQSxLQUFLO0FBQ0w7QUFDQSIsInNvdXJjZXMiOlsiL2hvbWUvYnJvbnplL2NvZGluZy9mc2FrbS9ub2RlX21vZHVsZXMvLnBucG0vQGFtcGxpdHVkZSthbmFseXRpY3MtY29yZUAyLjEyLjIvbm9kZV9tb2R1bGVzL0BhbXBsaXR1ZGUvYW5hbHl0aWNzLWNvcmUvbGliL2VzbS91dGlscy91dWlkLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogU291cmNlOiBbamVkJ3MgZ2lzdCdzIGNvbW1lbnRde0BsaW5rIGh0dHBzOi8vZ2lzdC5naXRodWIuY29tL2plZC85ODI4ODM/cGVybWFsaW5rX2NvbW1lbnRfaWQ9MzIyMzAwMiNnaXN0Y29tbWVudC0zMjIzMDAyfS5cbiAqIFJldHVybnMgYSByYW5kb20gdjQgVVVJRCBvZiB0aGUgZm9ybSB4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHgsXG4gKiB3aGVyZSBlYWNoIHggaXMgcmVwbGFjZWQgd2l0aCBhIHJhbmRvbSBoZXhhZGVjaW1hbCBkaWdpdCBmcm9tIDAgdG8gZiwgYW5kXG4gKiB5IGlzIHJlcGxhY2VkIHdpdGggYSByYW5kb20gaGV4YWRlY2ltYWwgZGlnaXQgZnJvbSA4IHRvIGIuXG4gKiBVc2VkIHRvIGdlbmVyYXRlIFVVSURzIGZvciBkZXZpY2VJZHMuXG4gKiBAcHJpdmF0ZVxuICovXG5pbXBvcnQgeyBfX3JlYWQsIF9fc3ByZWFkQXJyYXkgfSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IGdldEdsb2JhbFNjb3BlIH0gZnJvbSAnLi4vZ2xvYmFsLXNjb3BlJztcbnZhciBsZWdhY3lVVUlEID0gZnVuY3Rpb24gKGEpIHtcbiAgICByZXR1cm4gYSAvLyBpZiB0aGUgcGxhY2Vob2xkZXIgd2FzIHBhc3NlZCwgcmV0dXJuXG4gICAgICAgID8gLy8gYSByYW5kb20gbnVtYmVyIGZyb20gMCB0byAxNVxuICAgICAgICAgICAgKGEgXiAvLyB1bmxlc3MgYiBpcyA4LFxuICAgICAgICAgICAgICAgICgoTWF0aC5yYW5kb20oKSAqIC8vIGluIHdoaWNoIGNhc2VcbiAgICAgICAgICAgICAgICAgICAgMTYpID4+IC8vIGEgcmFuZG9tIG51bWJlciBmcm9tXG4gICAgICAgICAgICAgICAgICAgIChhIC8gNCkpKSAvLyA4IHRvIDExXG4gICAgICAgICAgICAgICAgLnRvU3RyaW5nKDE2KSAvLyBpbiBoZXhhZGVjaW1hbFxuICAgICAgICA6IC8vIG9yIG90aGVyd2lzZSBhIGNvbmNhdGVuYXRlZCBzdHJpbmc6XG4gICAgICAgICAgICAoU3RyaW5nKDFlNykgKyAvLyAxMDAwMDAwMCArXG4gICAgICAgICAgICAgICAgU3RyaW5nKC0xZTMpICsgLy8gLTEwMDAgK1xuICAgICAgICAgICAgICAgIFN0cmluZygtNGUzKSArIC8vIC00MDAwICtcbiAgICAgICAgICAgICAgICBTdHJpbmcoLThlMykgKyAvLyAtODAwMDAwMDAgK1xuICAgICAgICAgICAgICAgIFN0cmluZygtMWUxMSkpIC8vIC0xMDAwMDAwMDAwMDAsXG4gICAgICAgICAgICAgICAgLnJlcGxhY2UoXG4gICAgICAgICAgICAvLyByZXBsYWNpbmdcbiAgICAgICAgICAgIC9bMDE4XS9nLCAvLyB6ZXJvZXMsIG9uZXMsIGFuZCBlaWdodHMgd2l0aFxuICAgICAgICAgICAgVVVJRCk7XG59O1xudmFyIGhleCA9IF9fc3ByZWFkQXJyYXkoW10sIF9fcmVhZChBcnJheSgyNTYpLmtleXMoKSksIGZhbHNlKS5tYXAoZnVuY3Rpb24gKGluZGV4KSB7IHJldHVybiBpbmRleC50b1N0cmluZygxNikucGFkU3RhcnQoMiwgJzAnKTsgfSk7XG5leHBvcnQgdmFyIFVVSUQgPSBmdW5jdGlvbiAoYSkge1xuICAgIHZhciBfYTtcbiAgICB2YXIgZ2xvYmFsU2NvcGUgPSBnZXRHbG9iYWxTY29wZSgpO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgaWYgKCEoKF9hID0gZ2xvYmFsU2NvcGUgPT09IG51bGwgfHwgZ2xvYmFsU2NvcGUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGdsb2JhbFNjb3BlLmNyeXB0bykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmdldFJhbmRvbVZhbHVlcykpIHtcbiAgICAgICAgLy8gRmFsbGJhY2sgdG8gbGVnYWN5IFVVSUQgZ2VuZXJhdGlvbiBpZiBjcnlwdG8gaXMgbm90IGF2YWlsYWJsZVxuICAgICAgICByZXR1cm4gbGVnYWN5VVVJRChhKTtcbiAgICB9XG4gICAgdmFyIHIgPSBnbG9iYWxTY29wZS5jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG5ldyBVaW50OEFycmF5KDE2KSk7XG4gICAgcls2XSA9IChyWzZdICYgMHgwZikgfCAweDQwO1xuICAgIHJbOF0gPSAocls4XSAmIDB4M2YpIHwgMHg4MDtcbiAgICByZXR1cm4gX19zcHJlYWRBcnJheShbXSwgX19yZWFkKHIuZW50cmllcygpKSwgZmFsc2UpLm1hcChmdW5jdGlvbiAoX2EpIHtcbiAgICAgICAgdmFyIF9iID0gX19yZWFkKF9hLCAyKSwgaW5kZXggPSBfYlswXSwgaW50ID0gX2JbMV07XG4gICAgICAgIHJldHVybiAoWzQsIDYsIDgsIDEwXS5pbmNsdWRlcyhpbmRleCkgPyBcIi1cIi5jb25jYXQoaGV4W2ludF0pIDogaGV4W2ludF0pO1xuICAgIH0pLmpvaW4oJycpO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXV1aWQuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/utils/uuid.js\n");

/***/ }),

/***/ "(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/utils/valid-properties.js":
/*!**************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/utils/valid-properties.js ***!
  \**************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   isValidObject: () => (/* binding */ isValidObject),\n/* harmony export */   isValidProperties: () => (/* binding */ isValidProperties)\n/* harmony export */ });\n/* harmony import */ var tslib__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tslib */ \"(ssr)/./node_modules/.pnpm/tslib@2.8.1/node_modules/tslib/tslib.es6.mjs\");\n\nvar MAX_PROPERTY_KEYS = 1000;\nvar isValidObject = function (properties) {\n    if (Object.keys(properties).length > MAX_PROPERTY_KEYS) {\n        return false;\n    }\n    for (var key in properties) {\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n        var value = properties[key];\n        if (!isValidProperties(key, value))\n            return false;\n    }\n    return true;\n};\nvar isValidProperties = function (property, value) {\n    var e_1, _a;\n    if (typeof property !== 'string')\n        return false;\n    if (Array.isArray(value)) {\n        var isValid = true;\n        try {\n            for (var value_1 = (0,tslib__WEBPACK_IMPORTED_MODULE_0__.__values)(value), value_1_1 = value_1.next(); !value_1_1.done; value_1_1 = value_1.next()) {\n                var valueElement = value_1_1.value;\n                if (Array.isArray(valueElement)) {\n                    return false;\n                }\n                else if (typeof valueElement === 'object') {\n                    isValid = isValid && isValidObject(valueElement);\n                }\n                else if (!['number', 'string'].includes(typeof valueElement)) {\n                    return false;\n                }\n                if (!isValid) {\n                    return false;\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (value_1_1 && !value_1_1.done && (_a = value_1.return)) _a.call(value_1);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n    }\n    else if (value === null || value === undefined) {\n        return false;\n    }\n    else if (typeof value === 'object') {\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-argument\n        return isValidObject(value);\n    }\n    else if (!['number', 'string', 'boolean'].includes(typeof value)) {\n        return false;\n    }\n    return true;\n};\n//# sourceMappingURL=valid-properties.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvLnBucG0vQGFtcGxpdHVkZSthbmFseXRpY3MtY29yZUAyLjEyLjIvbm9kZV9tb2R1bGVzL0BhbXBsaXR1ZGUvYW5hbHl0aWNzLWNvcmUvbGliL2VzbS91dGlscy92YWxpZC1wcm9wZXJ0aWVzLmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFpQztBQUNqQztBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsK0JBQStCLCtDQUFRLHFDQUFxQyxpQkFBaUI7QUFDN0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLFFBQVE7QUFDaEM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyIvaG9tZS9icm9uemUvY29kaW5nL2ZzYWttL25vZGVfbW9kdWxlcy8ucG5wbS9AYW1wbGl0dWRlK2FuYWx5dGljcy1jb3JlQDIuMTIuMi9ub2RlX21vZHVsZXMvQGFtcGxpdHVkZS9hbmFseXRpY3MtY29yZS9saWIvZXNtL3V0aWxzL3ZhbGlkLXByb3BlcnRpZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgX192YWx1ZXMgfSBmcm9tIFwidHNsaWJcIjtcbnZhciBNQVhfUFJPUEVSVFlfS0VZUyA9IDEwMDA7XG5leHBvcnQgdmFyIGlzVmFsaWRPYmplY3QgPSBmdW5jdGlvbiAocHJvcGVydGllcykge1xuICAgIGlmIChPYmplY3Qua2V5cyhwcm9wZXJ0aWVzKS5sZW5ndGggPiBNQVhfUFJPUEVSVFlfS0VZUykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGZvciAodmFyIGtleSBpbiBwcm9wZXJ0aWVzKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLWFzc2lnbm1lbnRcbiAgICAgICAgdmFyIHZhbHVlID0gcHJvcGVydGllc1trZXldO1xuICAgICAgICBpZiAoIWlzVmFsaWRQcm9wZXJ0aWVzKGtleSwgdmFsdWUpKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbn07XG5leHBvcnQgdmFyIGlzVmFsaWRQcm9wZXJ0aWVzID0gZnVuY3Rpb24gKHByb3BlcnR5LCB2YWx1ZSkge1xuICAgIHZhciBlXzEsIF9hO1xuICAgIGlmICh0eXBlb2YgcHJvcGVydHkgIT09ICdzdHJpbmcnKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIHZhciBpc1ZhbGlkID0gdHJ1ZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGZvciAodmFyIHZhbHVlXzEgPSBfX3ZhbHVlcyh2YWx1ZSksIHZhbHVlXzFfMSA9IHZhbHVlXzEubmV4dCgpOyAhdmFsdWVfMV8xLmRvbmU7IHZhbHVlXzFfMSA9IHZhbHVlXzEubmV4dCgpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlRWxlbWVudCA9IHZhbHVlXzFfMS52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZUVsZW1lbnQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbHVlRWxlbWVudCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNWYWxpZCA9IGlzVmFsaWQgJiYgaXNWYWxpZE9iamVjdCh2YWx1ZUVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmICghWydudW1iZXInLCAnc3RyaW5nJ10uaW5jbHVkZXModHlwZW9mIHZhbHVlRWxlbWVudCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIWlzVmFsaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfVxuICAgICAgICBmaW5hbGx5IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlXzFfMSAmJiAhdmFsdWVfMV8xLmRvbmUgJiYgKF9hID0gdmFsdWVfMS5yZXR1cm4pKSBfYS5jYWxsKHZhbHVlXzEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdW5zYWZlLWFyZ3VtZW50XG4gICAgICAgIHJldHVybiBpc1ZhbGlkT2JqZWN0KHZhbHVlKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoIVsnbnVtYmVyJywgJ3N0cmluZycsICdib29sZWFuJ10uaW5jbHVkZXModHlwZW9mIHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXZhbGlkLXByb3BlcnRpZXMuanMubWFwIl0sIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6WzBdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/.pnpm/@amplitude+analytics-core@2.12.2/node_modules/@amplitude/analytics-core/lib/esm/utils/valid-properties.js\n");

/***/ })

};
;