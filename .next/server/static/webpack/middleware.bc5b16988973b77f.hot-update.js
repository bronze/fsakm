"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("middleware",{

/***/ "(middleware)/./src/middleware.ts":
/*!***************************!*\
  !*** ./src/middleware.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   middleware: () => (/* binding */ middleware)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(middleware)/./node_modules/.pnpm/next@15.3.2_react-dom@19.1.0_react@19.1.0/node_modules/next/dist/esm/api/server.js\");\n\nconst PUBLIC_FILE = /\\.(.*)$/;\nconst SUPPORTED_LOCALES = [\n    \"pt\",\n    \"en\",\n    \"es\"\n];\nconst DEFAULT_LOCALE = \"pt\";\nconst COOKIE_NAME = \"NEXT_LOCALE\";\nfunction middleware(request) {\n    const { pathname, search } = request.nextUrl;\n    if (pathname.startsWith(\"/_next\") || pathname.includes(\"/api/\") || PUBLIC_FILE.test(pathname)) {\n        return;\n    }\n    // Se a URL já começa com um dos locales suportados (exceto o default), segue normalmente\n    const pathLocale = pathname.split(\"/\")[1];\n    const isSupportedLocale = SUPPORTED_LOCALES.includes(pathLocale);\n    if (isSupportedLocale && pathLocale !== DEFAULT_LOCALE) {\n        const response = next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.next();\n        if (request.cookies.get(COOKIE_NAME)?.value !== pathLocale) {\n            response.cookies.set(COOKIE_NAME, pathLocale);\n        }\n        return response;\n    }\n    // Se já está no default (sem locale no path), continua\n    if (!isSupportedLocale || pathLocale === DEFAULT_LOCALE) {\n        const cookieLocale = request.cookies.get(COOKIE_NAME)?.value;\n        const locale = cookieLocale || DEFAULT_LOCALE;\n        if (locale === DEFAULT_LOCALE) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.next();\n        }\n        // Redireciona para o locale com prefixo\n        const newUrl = new URL(`/${locale}${pathname}${search}`, request.url);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.redirect(newUrl);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKG1pZGRsZXdhcmUpLy4vc3JjL21pZGRsZXdhcmUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7QUFBcUQ7QUFFckQsTUFBTUMsY0FBYztBQUNwQixNQUFNQyxvQkFBb0I7SUFBQztJQUFNO0lBQU07Q0FBSztBQUM1QyxNQUFNQyxpQkFBaUI7QUFDdkIsTUFBTUMsY0FBYztBQUViLFNBQVNDLFdBQVdDLE9BQW9CO0lBQzdDLE1BQU0sRUFBQ0MsUUFBUSxFQUFFQyxNQUFNLEVBQUMsR0FBR0YsUUFBUUcsT0FBTztJQUUxQyxJQUNFRixTQUFTRyxVQUFVLENBQUMsYUFDcEJILFNBQVNJLFFBQVEsQ0FBQyxZQUNsQlYsWUFBWVcsSUFBSSxDQUFDTCxXQUNqQjtRQUNBO0lBQ0Y7SUFFQSx5RkFBeUY7SUFDekYsTUFBTU0sYUFBYU4sU0FBU08sS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFFO0lBQ3pDLE1BQU1DLG9CQUFvQmIsa0JBQWtCUyxRQUFRLENBQUNFO0lBRXJELElBQUlFLHFCQUFxQkYsZUFBZVYsZ0JBQWdCO1FBQ3RELE1BQU1hLFdBQVdoQixxREFBWUEsQ0FBQ2lCLElBQUk7UUFDbEMsSUFBSVgsUUFBUVksT0FBTyxDQUFDQyxHQUFHLENBQUNmLGNBQWNnQixVQUFVUCxZQUFZO1lBQzFERyxTQUFTRSxPQUFPLENBQUNHLEdBQUcsQ0FBQ2pCLGFBQWFTO1FBQ3BDO1FBQ0EsT0FBT0c7SUFDVDtJQUVBLHVEQUF1RDtJQUN2RCxJQUFJLENBQUNELHFCQUFxQkYsZUFBZVYsZ0JBQWdCO1FBQ3ZELE1BQU1tQixlQUFlaEIsUUFBUVksT0FBTyxDQUFDQyxHQUFHLENBQUNmLGNBQWNnQjtRQUN2RCxNQUFNRyxTQUFTRCxnQkFBZ0JuQjtRQUUvQixJQUFJb0IsV0FBV3BCLGdCQUFnQjtZQUM3QixPQUFPSCxxREFBWUEsQ0FBQ2lCLElBQUk7UUFDMUI7UUFFQSx3Q0FBd0M7UUFDeEMsTUFBTU8sU0FBUyxJQUFJQyxJQUFJLENBQUMsQ0FBQyxFQUFFRixTQUFTaEIsV0FBV0MsUUFBUSxFQUFFRixRQUFRb0IsR0FBRztRQUNwRSxPQUFPMUIscURBQVlBLENBQUMyQixRQUFRLENBQUNIO0lBQy9CO0FBQ0YiLCJzb3VyY2VzIjpbIi9ob21lL2Jyb256ZS9jb2RpbmcvZnNha20vc3JjL21pZGRsZXdhcmUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlfSBmcm9tIFwibmV4dC9zZXJ2ZXJcIlxuXG5jb25zdCBQVUJMSUNfRklMRSA9IC9cXC4oLiopJC9cbmNvbnN0IFNVUFBPUlRFRF9MT0NBTEVTID0gW1wicHRcIiwgXCJlblwiLCBcImVzXCJdXG5jb25zdCBERUZBVUxUX0xPQ0FMRSA9IFwicHRcIlxuY29uc3QgQ09PS0lFX05BTUUgPSBcIk5FWFRfTE9DQUxFXCJcblxuZXhwb3J0IGZ1bmN0aW9uIG1pZGRsZXdhcmUocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcbiAgY29uc3Qge3BhdGhuYW1lLCBzZWFyY2h9ID0gcmVxdWVzdC5uZXh0VXJsXG5cbiAgaWYgKFxuICAgIHBhdGhuYW1lLnN0YXJ0c1dpdGgoXCIvX25leHRcIikgfHxcbiAgICBwYXRobmFtZS5pbmNsdWRlcyhcIi9hcGkvXCIpIHx8XG4gICAgUFVCTElDX0ZJTEUudGVzdChwYXRobmFtZSlcbiAgKSB7XG4gICAgcmV0dXJuXG4gIH1cblxuICAvLyBTZSBhIFVSTCBqw6EgY29tZcOnYSBjb20gdW0gZG9zIGxvY2FsZXMgc3Vwb3J0YWRvcyAoZXhjZXRvIG8gZGVmYXVsdCksIHNlZ3VlIG5vcm1hbG1lbnRlXG4gIGNvbnN0IHBhdGhMb2NhbGUgPSBwYXRobmFtZS5zcGxpdChcIi9cIilbMV1cbiAgY29uc3QgaXNTdXBwb3J0ZWRMb2NhbGUgPSBTVVBQT1JURURfTE9DQUxFUy5pbmNsdWRlcyhwYXRoTG9jYWxlKVxuXG4gIGlmIChpc1N1cHBvcnRlZExvY2FsZSAmJiBwYXRoTG9jYWxlICE9PSBERUZBVUxUX0xPQ0FMRSkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gTmV4dFJlc3BvbnNlLm5leHQoKVxuICAgIGlmIChyZXF1ZXN0LmNvb2tpZXMuZ2V0KENPT0tJRV9OQU1FKT8udmFsdWUgIT09IHBhdGhMb2NhbGUpIHtcbiAgICAgIHJlc3BvbnNlLmNvb2tpZXMuc2V0KENPT0tJRV9OQU1FLCBwYXRoTG9jYWxlKVxuICAgIH1cbiAgICByZXR1cm4gcmVzcG9uc2VcbiAgfVxuXG4gIC8vIFNlIGrDoSBlc3TDoSBubyBkZWZhdWx0IChzZW0gbG9jYWxlIG5vIHBhdGgpLCBjb250aW51YVxuICBpZiAoIWlzU3VwcG9ydGVkTG9jYWxlIHx8IHBhdGhMb2NhbGUgPT09IERFRkFVTFRfTE9DQUxFKSB7XG4gICAgY29uc3QgY29va2llTG9jYWxlID0gcmVxdWVzdC5jb29raWVzLmdldChDT09LSUVfTkFNRSk/LnZhbHVlXG4gICAgY29uc3QgbG9jYWxlID0gY29va2llTG9jYWxlIHx8IERFRkFVTFRfTE9DQUxFXG5cbiAgICBpZiAobG9jYWxlID09PSBERUZBVUxUX0xPQ0FMRSkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5uZXh0KClcbiAgICB9XG5cbiAgICAvLyBSZWRpcmVjaW9uYSBwYXJhIG8gbG9jYWxlIGNvbSBwcmVmaXhvXG4gICAgY29uc3QgbmV3VXJsID0gbmV3IFVSTChgLyR7bG9jYWxlfSR7cGF0aG5hbWV9JHtzZWFyY2h9YCwgcmVxdWVzdC51cmwpXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5yZWRpcmVjdChuZXdVcmwpXG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJQVUJMSUNfRklMRSIsIlNVUFBPUlRFRF9MT0NBTEVTIiwiREVGQVVMVF9MT0NBTEUiLCJDT09LSUVfTkFNRSIsIm1pZGRsZXdhcmUiLCJyZXF1ZXN0IiwicGF0aG5hbWUiLCJzZWFyY2giLCJuZXh0VXJsIiwic3RhcnRzV2l0aCIsImluY2x1ZGVzIiwidGVzdCIsInBhdGhMb2NhbGUiLCJzcGxpdCIsImlzU3VwcG9ydGVkTG9jYWxlIiwicmVzcG9uc2UiLCJuZXh0IiwiY29va2llcyIsImdldCIsInZhbHVlIiwic2V0IiwiY29va2llTG9jYWxlIiwibG9jYWxlIiwibmV3VXJsIiwiVVJMIiwidXJsIiwicmVkaXJlY3QiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(middleware)/./src/middleware.ts\n");

/***/ })

});